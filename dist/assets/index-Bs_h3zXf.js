function jv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var aT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fv={exports:{}},hc={},Uv={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),lT=Symbol.for("react.portal"),uT=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),dT=Symbol.for("react.profiler"),hT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),pT=Symbol.for("react.forward_ref"),mT=Symbol.for("react.suspense"),gT=Symbol.for("react.memo"),yT=Symbol.for("react.lazy"),Gm=Symbol.iterator;function vT(t){return t===null||typeof t!="object"?null:(t=Gm&&t[Gm]||t["@@iterator"],typeof t=="function"?t:null)}var zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bv=Object.assign,$v={};function uo(t,e,n){this.props=t,this.context=e,this.refs=$v,this.updater=n||zv}uo.prototype.isReactComponent={};uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wv(){}Wv.prototype=uo.prototype;function xf(t,e,n){this.props=t,this.context=e,this.refs=$v,this.updater=n||zv}var Pf=xf.prototype=new Wv;Pf.constructor=xf;Bv(Pf,uo.prototype);Pf.isPureReactComponent=!0;var Qm=Array.isArray,Hv=Object.prototype.hasOwnProperty,Af={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Kv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Hv.call(e,r)&&!qv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ga,type:t,key:s,ref:o,props:i,_owner:Af.current}}function _T(t,e){return{$$typeof:Ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ga}function wT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ym=/\/+/g;function dd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wT(""+t.key):e.toString(36)}function eu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ga:case lT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+dd(o,0):r,Qm(i)?(n="",t!=null&&(n=t.replace(Ym,"$&/")+"/"),eu(i,e,n,"",function(c){return c})):i!=null&&(Rf(i)&&(i=_T(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ym,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Qm(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+dd(s,a);o+=eu(s,e,n,u,i)}else if(u=vT(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+dd(s,a++),o+=eu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kl(t,e,n){if(t==null)return t;var r=[],i=0;return eu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ET(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},tu={transition:null},TT={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Af};function Gv(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:kl,forEach:function(t,e,n){kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kl(t,function(){e++}),e},toArray:function(t){return kl(t,function(e){return e})||[]},only:function(t){if(!Rf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=uo;Ce.Fragment=uT;Ce.Profiler=dT;Ce.PureComponent=xf;Ce.StrictMode=cT;Ce.Suspense=mT;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;Ce.act=Gv;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Af.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Hv.call(e,u)&&!qv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ga,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:fT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hT,_context:t},t.Consumer=t};Ce.createElement=Kv;Ce.createFactory=function(t){var e=Kv.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:pT,render:t}};Ce.isValidElement=Rf;Ce.lazy=function(t){return{$$typeof:yT,_payload:{_status:-1,_result:t},_init:ET}};Ce.memo=function(t,e){return{$$typeof:gT,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=tu.transition;tu.transition={};try{t()}finally{tu.transition=e}};Ce.unstable_act=Gv;Ce.useCallback=function(t,e){return Wt.current.useCallback(t,e)};Ce.useContext=function(t){return Wt.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Wt.current.useEffect(t,e)};Ce.useId=function(){return Wt.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Wt.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};Ce.useRef=function(t){return Wt.current.useRef(t)};Ce.useState=function(t){return Wt.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Wt.current.useTransition()};Ce.version="18.3.1";Uv.exports=Ce;var V=Uv.exports;const Se=Cf(V),IT=jv({__proto__:null,default:Se},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST=V,CT=Symbol.for("react.element"),xT=Symbol.for("react.fragment"),PT=Object.prototype.hasOwnProperty,AT=ST.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RT={key:!0,ref:!0,__self:!0,__source:!0};function Qv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)PT.call(e,r)&&!RT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CT,type:t,key:s,ref:o,props:i,_owner:AT.current}}hc.Fragment=xT;hc.jsx=Qv;hc.jsxs=Qv;Fv.exports=hc;var S=Fv.exports,Jd={},Yv={exports:{}},ln={},Xv={exports:{}},Jv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,M){var F=L.length;L.push(M);e:for(;0<F;){var B=F-1>>>1,W=L[B];if(0<i(W,M))L[B]=M,L[F]=W,F=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var M=L[0],F=L.pop();if(F!==M){L[0]=F;e:for(var B=0,W=L.length,G=W>>>1;B<G;){var te=2*(B+1)-1,se=L[te],de=te+1,ue=L[de];if(0>i(se,F))de<W&&0>i(ue,se)?(L[B]=ue,L[de]=F,B=de):(L[B]=se,L[te]=F,B=te);else if(de<W&&0>i(ue,F))L[B]=ue,L[de]=F,B=de;else break e}}return M}function i(L,M){var F=L.sortIndex-M.sortIndex;return F!==0?F:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,p=3,E=!1,w=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=L)r(c),M.sortIndex=M.expirationTime,e(u,M);else break;M=n(c)}}function x(L){if(A=!1,v(L),!w)if(n(u)!==null)w=!0,q(D);else{var M=n(c);M!==null&&ne(x,M.startTime-L)}}function D(L,M){w=!1,A&&(A=!1,I(y),y=-1),E=!0;var F=p;try{for(v(M),f=n(u);f!==null&&(!(f.expirationTime>M)||L&&!k());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var W=B(f.expirationTime<=M);M=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(u)&&r(u),v(M)}else r(u);f=n(u)}if(f!==null)var G=!0;else{var te=n(c);te!==null&&ne(x,te.startTime-M),G=!1}return G}finally{f=null,p=F,E=!1}}var b=!1,m=null,y=-1,T=5,C=-1;function k(){return!(t.unstable_now()-C<T)}function O(){if(m!==null){var L=t.unstable_now();C=L;var M=!0;try{M=m(!0,L)}finally{M?R():(b=!1,m=null)}}else b=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,z=Z.port2;Z.port1.onmessage=O,R=function(){z.postMessage(null)}}else R=function(){N(O,0)};function q(L){m=L,b||(b=!0,R())}function ne(L,M){y=N(function(){L(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||E||(w=!0,q(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var F=p;p=M;try{return L()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=p;p=L;try{return M()}finally{p=F}},t.unstable_scheduleCallback=function(L,M,F){var B=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,L={id:d++,callback:M,priorityLevel:L,startTime:F,expirationTime:W,sortIndex:-1},F>B?(L.sortIndex=F,e(c,L),n(u)===null&&L===n(c)&&(A?(I(y),y=-1):A=!0,ne(x,F-B))):(L.sortIndex=W,e(u,L),w||E||(w=!0,q(D))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var M=p;return function(){var F=p;p=M;try{return L.apply(this,arguments)}finally{p=F}}}})(Jv);Xv.exports=Jv;var kT=Xv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT=V,an=kT;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zv=new Set,_a={};function es(t,e){Hs(t,e),Hs(t+"Capture",e)}function Hs(t,e){for(_a[t]=e,t=0;t<e.length;t++)Zv.add(e[t])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=Object.prototype.hasOwnProperty,bT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Jm={};function DT(t){return Zd.call(Jm,t)?!0:Zd.call(Xm,t)?!1:bT.test(t)?Jm[t]=!0:(Xm[t]=!0,!1)}function OT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LT(t,e,n,r){if(e===null||typeof e>"u"||OT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var kf=/[\-:]([a-z])/g;function Nf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kf,Nf);Pt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kf,Nf);Pt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kf,Nf);Pt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function bf(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LT(e,n,i,r)&&(n=null),r||i===null?DT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=NT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),e_=Symbol.for("react.provider"),t_=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),nh=Symbol.for("react.suspense_list"),Lf=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),n_=Symbol.for("react.offscreen"),Zm=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=Zm&&t[Zm]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,hd;function Ko(t){if(hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hd=e&&e[1]||""}return`
`+hd+t}var fd=!1;function pd(t,e){if(!t||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ko(t):""}function MT(t){switch(t.tag){case 5:return Ko(t.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return t=pd(t.type,!1),t;case 11:return t=pd(t.type.render,!1),t;case 1:return t=pd(t.type,!0),t;default:return""}}function rh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ts:return"Fragment";case Es:return"Portal";case eh:return"Profiler";case Df:return"StrictMode";case th:return"Suspense";case nh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case t_:return(t.displayName||"Context")+".Consumer";case e_:return(t._context.displayName||"Context")+".Provider";case Of:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lf:return e=t.displayName||null,e!==null?e:rh(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return rh(t(e))}catch{}}return null}function VT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rh(e);case 8:return e===Df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jT(t){var e=r_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bl(t){t._valueTracker||(t._valueTracker=jT(t))}function i_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=r_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ih(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function s_(t,e){e=e.checked,e!=null&&bf(t,"checked",e,!1)}function sh(t,e){s_(t,e);var n=ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oh(t,e.type,n):e.hasOwnProperty("defaultValue")&&oh(t,e.type,ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function oh(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Go=Array.isArray;function Ls(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ah(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ng(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Go(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ai(n)}}function o_(t,e){var n=ai(e.value),r=ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function a_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?a_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,l_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FT=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(t){FT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ra[e]=ra[t]})});function u_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ra.hasOwnProperty(t)&&ra[t]?(""+e).trim():e+"px"}function c_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=u_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UT=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uh(t,e){if(e){if(UT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function ch(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=null;function Mf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hh=null,Ms=null,Vs=null;function ig(t){if(t=Xa(t)){if(typeof hh!="function")throw Error(X(280));var e=t.stateNode;e&&(e=yc(e),hh(t.stateNode,t.type,e))}}function d_(t){Ms?Vs?Vs.push(t):Vs=[t]:Ms=t}function h_(){if(Ms){var t=Ms,e=Vs;if(Vs=Ms=null,ig(t),e)for(t=0;t<e.length;t++)ig(e[t])}}function f_(t,e){return t(e)}function p_(){}var md=!1;function m_(t,e,n){if(md)return t(e,n);md=!0;try{return f_(t,e,n)}finally{md=!1,(Ms!==null||Vs!==null)&&(p_(),h_())}}function Ea(t,e){var n=t.stateNode;if(n===null)return null;var r=yc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var fh=!1;if(fr)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){fh=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{fh=!1}function zT(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ia=!1,Iu=null,Su=!1,ph=null,BT={onError:function(t){ia=!0,Iu=t}};function $T(t,e,n,r,i,s,o,a,u){ia=!1,Iu=null,zT.apply(BT,arguments)}function WT(t,e,n,r,i,s,o,a,u){if($T.apply(this,arguments),ia){if(ia){var c=Iu;ia=!1,Iu=null}else throw Error(X(198));Su||(Su=!0,ph=c)}}function ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sg(t){if(ts(t)!==t)throw Error(X(188))}function HT(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sg(i),t;if(s===r)return sg(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function y_(t){return t=HT(t),t!==null?v_(t):null}function v_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v_(t);if(e!==null)return e;t=t.sibling}return null}var __=an.unstable_scheduleCallback,og=an.unstable_cancelCallback,qT=an.unstable_shouldYield,KT=an.unstable_requestPaint,st=an.unstable_now,GT=an.unstable_getCurrentPriorityLevel,Vf=an.unstable_ImmediatePriority,w_=an.unstable_UserBlockingPriority,Cu=an.unstable_NormalPriority,QT=an.unstable_LowPriority,E_=an.unstable_IdlePriority,fc=null,Fn=null;function YT(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(fc,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:ZT,XT=Math.log,JT=Math.LN2;function ZT(t){return t>>>=0,t===0?32:31-(XT(t)/JT|0)|0}var Ol=64,Ll=4194304;function Qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qo(a):(s&=o,s!==0&&(r=Qo(s)))}else o=n&~i,o!==0?r=Qo(o):s!==0&&(r=Qo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function eI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=eI(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function mh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T_(){var t=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),t}function gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function nI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function I_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S_,Ff,C_,x_,P_,gh=!1,Ml=[],Gr=null,Qr=null,Yr=null,Ta=new Map,Ia=new Map,jr=[],rI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ag(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function Vo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xa(e),e!==null&&Ff(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iI(t,e,n,r,i){switch(e){case"focusin":return Gr=Vo(Gr,t,e,n,r,i),!0;case"dragenter":return Qr=Vo(Qr,t,e,n,r,i),!0;case"mouseover":return Yr=Vo(Yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ta.set(s,Vo(Ta.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ia.set(s,Vo(Ia.get(s)||null,t,e,n,r,i)),!0}return!1}function A_(t){var e=Ni(t.target);if(e!==null){var n=ts(e);if(n!==null){if(e=n.tag,e===13){if(e=g_(n),e!==null){t.blockedOn=e,P_(t.priority,function(){C_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dh=r,n.target.dispatchEvent(r),dh=null}else return e=Xa(n),e!==null&&Ff(e),t.blockedOn=n,!1;e.shift()}return!0}function lg(t,e,n){nu(t)&&n.delete(e)}function sI(){gh=!1,Gr!==null&&nu(Gr)&&(Gr=null),Qr!==null&&nu(Qr)&&(Qr=null),Yr!==null&&nu(Yr)&&(Yr=null),Ta.forEach(lg),Ia.forEach(lg)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,gh||(gh=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,sI)))}function Sa(t){function e(i){return jo(i,t)}if(0<Ml.length){jo(Ml[0],t);for(var n=1;n<Ml.length;n++){var r=Ml[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gr!==null&&jo(Gr,t),Qr!==null&&jo(Qr,t),Yr!==null&&jo(Yr,t),Ta.forEach(e),Ia.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)A_(n),n.blockedOn===null&&jr.shift()}var js=Tr.ReactCurrentBatchConfig,Pu=!0;function oI(t,e,n,r){var i=Le,s=js.transition;js.transition=null;try{Le=1,Uf(t,e,n,r)}finally{Le=i,js.transition=s}}function aI(t,e,n,r){var i=Le,s=js.transition;js.transition=null;try{Le=4,Uf(t,e,n,r)}finally{Le=i,js.transition=s}}function Uf(t,e,n,r){if(Pu){var i=yh(t,e,n,r);if(i===null)xd(t,e,r,Au,n),ag(t,r);else if(iI(i,t,e,n,r))r.stopPropagation();else if(ag(t,r),e&4&&-1<rI.indexOf(t)){for(;i!==null;){var s=Xa(i);if(s!==null&&S_(s),s=yh(t,e,n,r),s===null&&xd(t,e,r,Au,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xd(t,e,r,null,n)}}var Au=null;function yh(t,e,n,r){if(Au=null,t=Mf(r),t=Ni(t),t!==null)if(e=ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=g_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Au=t,null}function R_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GT()){case Vf:return 1;case w_:return 4;case Cu:case QT:return 16;case E_:return 536870912;default:return 16}default:return 16}}var Wr=null,zf=null,ru=null;function k_(){if(ru)return ru;var t,e=zf,n=e.length,r,i="value"in Wr?Wr.value:Wr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ru=i.slice(t,1<r?1-r:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vl(){return!0}function ug(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vl:ug,this.isPropagationStopped=ug,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bf=un(co),Ya=Ze({},co,{view:0,detail:0}),lI=un(Ya),yd,vd,Fo,pc=Ze({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(yd=t.screenX-Fo.screenX,vd=t.screenY-Fo.screenY):vd=yd=0,Fo=t),yd)},movementY:function(t){return"movementY"in t?t.movementY:vd}}),cg=un(pc),uI=Ze({},pc,{dataTransfer:0}),cI=un(uI),dI=Ze({},Ya,{relatedTarget:0}),_d=un(dI),hI=Ze({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),fI=un(hI),pI=Ze({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mI=un(pI),gI=Ze({},co,{data:0}),dg=un(gI),yI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_I[t])?!!e[t]:!1}function $f(){return wI}var EI=Ze({},Ya,{key:function(t){if(t.key){var e=yI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TI=un(EI),II=Ze({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=un(II),SI=Ze({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),CI=un(SI),xI=Ze({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),PI=un(xI),AI=Ze({},pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RI=un(AI),kI=[9,13,27,32],Wf=fr&&"CompositionEvent"in window,sa=null;fr&&"documentMode"in document&&(sa=document.documentMode);var NI=fr&&"TextEvent"in window&&!sa,N_=fr&&(!Wf||sa&&8<sa&&11>=sa),fg=" ",pg=!1;function b_(t,e){switch(t){case"keyup":return kI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function bI(t,e){switch(t){case"compositionend":return D_(e);case"keypress":return e.which!==32?null:(pg=!0,fg);case"textInput":return t=e.data,t===fg&&pg?null:t;default:return null}}function DI(t,e){if(Is)return t==="compositionend"||!Wf&&b_(t,e)?(t=k_(),ru=zf=Wr=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N_&&e.locale!=="ko"?null:e.data;default:return null}}var OI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OI[t.type]:e==="textarea"}function O_(t,e,n,r){d_(r),e=Ru(e,"onChange"),0<e.length&&(n=new Bf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oa=null,Ca=null;function LI(t){H_(t,0)}function mc(t){var e=xs(t);if(i_(e))return t}function MI(t,e){if(t==="change")return e}var L_=!1;if(fr){var wd;if(fr){var Ed="oninput"in document;if(!Ed){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Ed=typeof gg.oninput=="function"}wd=Ed}else wd=!1;L_=wd&&(!document.documentMode||9<document.documentMode)}function yg(){oa&&(oa.detachEvent("onpropertychange",M_),Ca=oa=null)}function M_(t){if(t.propertyName==="value"&&mc(Ca)){var e=[];O_(e,Ca,t,Mf(t)),m_(LI,e)}}function VI(t,e,n){t==="focusin"?(yg(),oa=e,Ca=n,oa.attachEvent("onpropertychange",M_)):t==="focusout"&&yg()}function jI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mc(Ca)}function FI(t,e){if(t==="click")return mc(e)}function UI(t,e){if(t==="input"||t==="change")return mc(e)}function zI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:zI;function xa(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zd.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,e){var n=vg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vg(n)}}function V_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j_(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function Hf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BI(t){var e=j_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V_(n.ownerDocument.documentElement,n)){if(r!==null&&Hf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_g(n,s);var o=_g(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $I=fr&&"documentMode"in document&&11>=document.documentMode,Ss=null,vh=null,aa=null,_h=!1;function wg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_h||Ss==null||Ss!==Tu(r)||(r=Ss,"selectionStart"in r&&Hf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&xa(aa,r)||(aa=r,r=Ru(vh,"onSelect"),0<r.length&&(e=new Bf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cs={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},Td={},F_={};fr&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function gc(t){if(Td[t])return Td[t];if(!Cs[t])return t;var e=Cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F_)return Td[t]=e[n];return t}var U_=gc("animationend"),z_=gc("animationiteration"),B_=gc("animationstart"),$_=gc("transitionend"),W_=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){W_.set(t,e),es(e,[t])}for(var Id=0;Id<Eg.length;Id++){var Sd=Eg[Id],WI=Sd.toLowerCase(),HI=Sd[0].toUpperCase()+Sd.slice(1);pi(WI,"on"+HI)}pi(U_,"onAnimationEnd");pi(z_,"onAnimationIteration");pi(B_,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi($_,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Tg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WT(r,e,void 0,t),t.currentTarget=null}function H_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Tg(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Tg(i,a,c),s=u}}}if(Su)throw t=ph,Su=!1,ph=null,t}function $e(t,e){var n=e[Sh];n===void 0&&(n=e[Sh]=new Set);var r=t+"__bubble";n.has(r)||(q_(e,t,2,!1),n.add(r))}function Cd(t,e,n){var r=0;e&&(r|=4),q_(n,t,r,e)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Fl]){t[Fl]=!0,Zv.forEach(function(n){n!=="selectionchange"&&(qI.has(n)||Cd(n,!1,t),Cd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fl]||(e[Fl]=!0,Cd("selectionchange",!1,e))}}function q_(t,e,n,r){switch(R_(e)){case 1:var i=oI;break;case 4:i=aI;break;default:i=Uf}n=i.bind(null,e,n,t),i=void 0,!fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ni(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}m_(function(){var c=s,d=Mf(n),f=[];e:{var p=W_.get(t);if(p!==void 0){var E=Bf,w=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":E=TI;break;case"focusin":w="focus",E=_d;break;case"focusout":w="blur",E=_d;break;case"beforeblur":case"afterblur":E=_d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=cI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=CI;break;case U_:case z_:case B_:E=fI;break;case $_:E=PI;break;case"scroll":E=lI;break;case"wheel":E=RI;break;case"copy":case"cut":case"paste":E=mI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=hg}var A=(e&4)!==0,N=!A&&t==="scroll",I=A?p!==null?p+"Capture":null:p;A=[];for(var _=c,v;_!==null;){v=_;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,I!==null&&(x=Ea(_,I),x!=null&&A.push(Aa(_,x,v)))),N)break;_=_.return}0<A.length&&(p=new E(p,w,null,n,d),f.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",p&&n!==dh&&(w=n.relatedTarget||n.fromElement)&&(Ni(w)||w[pr]))break e;if((E||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,E?(w=n.relatedTarget||n.toElement,E=c,w=w?Ni(w):null,w!==null&&(N=ts(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(E=null,w=c),E!==w)){if(A=cg,x="onMouseLeave",I="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(A=hg,x="onPointerLeave",I="onPointerEnter",_="pointer"),N=E==null?p:xs(E),v=w==null?p:xs(w),p=new A(x,_+"leave",E,n,d),p.target=N,p.relatedTarget=v,x=null,Ni(d)===c&&(A=new A(I,_+"enter",w,n,d),A.target=v,A.relatedTarget=N,x=A),N=x,E&&w)t:{for(A=E,I=w,_=0,v=A;v;v=gs(v))_++;for(v=0,x=I;x;x=gs(x))v++;for(;0<_-v;)A=gs(A),_--;for(;0<v-_;)I=gs(I),v--;for(;_--;){if(A===I||I!==null&&A===I.alternate)break t;A=gs(A),I=gs(I)}A=null}else A=null;E!==null&&Ig(f,p,E,A,!1),w!==null&&N!==null&&Ig(f,N,w,A,!0)}}e:{if(p=c?xs(c):window,E=p.nodeName&&p.nodeName.toLowerCase(),E==="select"||E==="input"&&p.type==="file")var D=MI;else if(mg(p))if(L_)D=UI;else{D=jI;var b=VI}else(E=p.nodeName)&&E.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=FI);if(D&&(D=D(t,c))){O_(f,D,n,d);break e}b&&b(t,p,c),t==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&oh(p,"number",p.value)}switch(b=c?xs(c):window,t){case"focusin":(mg(b)||b.contentEditable==="true")&&(Ss=b,vh=c,aa=null);break;case"focusout":aa=vh=Ss=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,wg(f,n,d);break;case"selectionchange":if($I)break;case"keydown":case"keyup":wg(f,n,d)}var m;if(Wf)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Is?b_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(N_&&n.locale!=="ko"&&(Is||y!=="onCompositionStart"?y==="onCompositionEnd"&&Is&&(m=k_()):(Wr=d,zf="value"in Wr?Wr.value:Wr.textContent,Is=!0)),b=Ru(c,y),0<b.length&&(y=new dg(y,t,null,n,d),f.push({event:y,listeners:b}),m?y.data=m:(m=D_(n),m!==null&&(y.data=m)))),(m=NI?bI(t,n):DI(t,n))&&(c=Ru(c,"onBeforeInput"),0<c.length&&(d=new dg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=m))}H_(f,e)})}function Aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ea(t,n),s!=null&&r.unshift(Aa(t,s,i)),s=Ea(t,e),s!=null&&r.push(Aa(t,s,i))),t=t.return}return r}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ig(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Ea(n,s),u!=null&&o.unshift(Aa(n,u,a))):i||(u=Ea(n,s),u!=null&&o.push(Aa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var KI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function Sg(t){return(typeof t=="string"?t:""+t).replace(KI,`
`).replace(GI,"")}function Ul(t,e,n){if(e=Sg(e),Sg(t)!==e&&n)throw Error(X(425))}function ku(){}var wh=null,Eh=null;function Th(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,Cg=typeof Promise=="function"?Promise:void 0,YI=typeof queueMicrotask=="function"?queueMicrotask:typeof Cg<"u"?function(t){return Cg.resolve(null).then(t).catch(XI)}:Ih;function XI(t){setTimeout(function(){throw t})}function Pd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sa(e)}function Xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ho=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ho,Ra="__reactProps$"+ho,pr="__reactContainer$"+ho,Sh="__reactEvents$"+ho,JI="__reactListeners$"+ho,ZI="__reactHandles$"+ho;function Ni(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xg(t);t!==null;){if(n=t[Mn])return n;t=xg(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[Mn]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function yc(t){return t[Ra]||null}var Ch=[],Ps=-1;function mi(t){return{current:t}}function We(t){0>Ps||(t.current=Ch[Ps],Ch[Ps]=null,Ps--)}function Fe(t,e){Ps++,Ch[Ps]=t.current,t.current=e}var li={},Vt=mi(li),Qt=mi(!1),zi=li;function qs(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function Nu(){We(Qt),We(Vt)}function Pg(t,e,n){if(Vt.current!==li)throw Error(X(168));Fe(Vt,e),Fe(Qt,n)}function K_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,VT(t)||"Unknown",i));return Ze({},n,r)}function bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,zi=Vt.current,Fe(Vt,t),Fe(Qt,Qt.current),!0}function Ag(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=K_(t,e,zi),r.__reactInternalMemoizedMergedChildContext=t,We(Qt),We(Vt),Fe(Vt,t)):We(Qt),Fe(Qt,n)}var rr=null,vc=!1,Ad=!1;function G_(t){rr===null?rr=[t]:rr.push(t)}function eS(t){vc=!0,G_(t)}function gi(){if(!Ad&&rr!==null){Ad=!0;var t=0,e=Le;try{var n=rr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,vc=!1}catch(i){throw rr!==null&&(rr=rr.slice(t+1)),__(Vf,gi),i}finally{Le=e,Ad=!1}}return null}var As=[],Rs=0,Du=null,Ou=0,fn=[],pn=0,Bi=null,ir=1,sr="";function Ai(t,e){As[Rs++]=Ou,As[Rs++]=Du,Du=t,Ou=e}function Q_(t,e,n){fn[pn++]=ir,fn[pn++]=sr,fn[pn++]=Bi,Bi=t;var r=ir;t=sr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ir=1<<32-An(e)+i|n<<i|r,sr=s+t}else ir=1<<s|n<<i|r,sr=t}function qf(t){t.return!==null&&(Ai(t,1),Q_(t,1,0))}function Kf(t){for(;t===Du;)Du=As[--Rs],As[Rs]=null,Ou=As[--Rs],As[Rs]=null;for(;t===Bi;)Bi=fn[--pn],fn[pn]=null,sr=fn[--pn],fn[pn]=null,ir=fn[--pn],fn[pn]=null}var on=null,nn=null,Ke=!1,xn=null;function Y_(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,nn=Xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bi!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,nn=null,!0):!1;default:return!1}}function xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ph(t){if(Ke){var e=nn;if(e){var n=e;if(!Rg(t,e)){if(xh(t))throw Error(X(418));e=Xr(n.nextSibling);var r=on;e&&Rg(t,e)?Y_(r,n):(t.flags=t.flags&-4097|2,Ke=!1,on=t)}}else{if(xh(t))throw Error(X(418));t.flags=t.flags&-4097|2,Ke=!1,on=t}}}function kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function zl(t){if(t!==on)return!1;if(!Ke)return kg(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Th(t.type,t.memoizedProps)),e&&(e=nn)){if(xh(t))throw X_(),Error(X(418));for(;e;)Y_(t,e),e=Xr(e.nextSibling)}if(kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=Xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=on?Xr(t.stateNode.nextSibling):null;return!0}function X_(){for(var t=nn;t;)t=Xr(t.nextSibling)}function Ks(){nn=on=null,Ke=!1}function Gf(t){xn===null?xn=[t]:xn.push(t)}var tS=Tr.ReactCurrentBatchConfig;function Uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Bl(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ng(t){var e=t._init;return e(t._payload)}function J_(t){function e(I,_){if(t){var v=I.deletions;v===null?(I.deletions=[_],I.flags|=16):v.push(_)}}function n(I,_){if(!t)return null;for(;_!==null;)e(I,_),_=_.sibling;return null}function r(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function i(I,_){return I=ti(I,_),I.index=0,I.sibling=null,I}function s(I,_,v){return I.index=v,t?(v=I.alternate,v!==null?(v=v.index,v<_?(I.flags|=2,_):v):(I.flags|=2,_)):(I.flags|=1048576,_)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,_,v,x){return _===null||_.tag!==6?(_=Ld(v,I.mode,x),_.return=I,_):(_=i(_,v),_.return=I,_)}function u(I,_,v,x){var D=v.type;return D===Ts?d(I,_,v.props.children,x,v.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Mr&&Ng(D)===_.type)?(x=i(_,v.props),x.ref=Uo(I,_,v),x.return=I,x):(x=du(v.type,v.key,v.props,null,I.mode,x),x.ref=Uo(I,_,v),x.return=I,x)}function c(I,_,v,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=Md(v,I.mode,x),_.return=I,_):(_=i(_,v.children||[]),_.return=I,_)}function d(I,_,v,x,D){return _===null||_.tag!==7?(_=ji(v,I.mode,x,D),_.return=I,_):(_=i(_,v),_.return=I,_)}function f(I,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ld(""+_,I.mode,v),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nl:return v=du(_.type,_.key,_.props,null,I.mode,v),v.ref=Uo(I,null,_),v.return=I,v;case Es:return _=Md(_,I.mode,v),_.return=I,_;case Mr:var x=_._init;return f(I,x(_._payload),v)}if(Go(_)||Lo(_))return _=ji(_,I.mode,v,null),_.return=I,_;Bl(I,_)}return null}function p(I,_,v,x){var D=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return D!==null?null:a(I,_,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nl:return v.key===D?u(I,_,v,x):null;case Es:return v.key===D?c(I,_,v,x):null;case Mr:return D=v._init,p(I,_,D(v._payload),x)}if(Go(v)||Lo(v))return D!==null?null:d(I,_,v,x,null);Bl(I,v)}return null}function E(I,_,v,x,D){if(typeof x=="string"&&x!==""||typeof x=="number")return I=I.get(v)||null,a(_,I,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Nl:return I=I.get(x.key===null?v:x.key)||null,u(_,I,x,D);case Es:return I=I.get(x.key===null?v:x.key)||null,c(_,I,x,D);case Mr:var b=x._init;return E(I,_,v,b(x._payload),D)}if(Go(x)||Lo(x))return I=I.get(v)||null,d(_,I,x,D,null);Bl(_,x)}return null}function w(I,_,v,x){for(var D=null,b=null,m=_,y=_=0,T=null;m!==null&&y<v.length;y++){m.index>y?(T=m,m=null):T=m.sibling;var C=p(I,m,v[y],x);if(C===null){m===null&&(m=T);break}t&&m&&C.alternate===null&&e(I,m),_=s(C,_,y),b===null?D=C:b.sibling=C,b=C,m=T}if(y===v.length)return n(I,m),Ke&&Ai(I,y),D;if(m===null){for(;y<v.length;y++)m=f(I,v[y],x),m!==null&&(_=s(m,_,y),b===null?D=m:b.sibling=m,b=m);return Ke&&Ai(I,y),D}for(m=r(I,m);y<v.length;y++)T=E(m,I,y,v[y],x),T!==null&&(t&&T.alternate!==null&&m.delete(T.key===null?y:T.key),_=s(T,_,y),b===null?D=T:b.sibling=T,b=T);return t&&m.forEach(function(k){return e(I,k)}),Ke&&Ai(I,y),D}function A(I,_,v,x){var D=Lo(v);if(typeof D!="function")throw Error(X(150));if(v=D.call(v),v==null)throw Error(X(151));for(var b=D=null,m=_,y=_=0,T=null,C=v.next();m!==null&&!C.done;y++,C=v.next()){m.index>y?(T=m,m=null):T=m.sibling;var k=p(I,m,C.value,x);if(k===null){m===null&&(m=T);break}t&&m&&k.alternate===null&&e(I,m),_=s(k,_,y),b===null?D=k:b.sibling=k,b=k,m=T}if(C.done)return n(I,m),Ke&&Ai(I,y),D;if(m===null){for(;!C.done;y++,C=v.next())C=f(I,C.value,x),C!==null&&(_=s(C,_,y),b===null?D=C:b.sibling=C,b=C);return Ke&&Ai(I,y),D}for(m=r(I,m);!C.done;y++,C=v.next())C=E(m,I,y,C.value,x),C!==null&&(t&&C.alternate!==null&&m.delete(C.key===null?y:C.key),_=s(C,_,y),b===null?D=C:b.sibling=C,b=C);return t&&m.forEach(function(O){return e(I,O)}),Ke&&Ai(I,y),D}function N(I,_,v,x){if(typeof v=="object"&&v!==null&&v.type===Ts&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Nl:e:{for(var D=v.key,b=_;b!==null;){if(b.key===D){if(D=v.type,D===Ts){if(b.tag===7){n(I,b.sibling),_=i(b,v.props.children),_.return=I,I=_;break e}}else if(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Mr&&Ng(D)===b.type){n(I,b.sibling),_=i(b,v.props),_.ref=Uo(I,b,v),_.return=I,I=_;break e}n(I,b);break}else e(I,b);b=b.sibling}v.type===Ts?(_=ji(v.props.children,I.mode,x,v.key),_.return=I,I=_):(x=du(v.type,v.key,v.props,null,I.mode,x),x.ref=Uo(I,_,v),x.return=I,I=x)}return o(I);case Es:e:{for(b=v.key;_!==null;){if(_.key===b)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(I,_.sibling),_=i(_,v.children||[]),_.return=I,I=_;break e}else{n(I,_);break}else e(I,_);_=_.sibling}_=Md(v,I.mode,x),_.return=I,I=_}return o(I);case Mr:return b=v._init,N(I,_,b(v._payload),x)}if(Go(v))return w(I,_,v,x);if(Lo(v))return A(I,_,v,x);Bl(I,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(I,_.sibling),_=i(_,v),_.return=I,I=_):(n(I,_),_=Ld(v,I.mode,x),_.return=I,I=_),o(I)):n(I,_)}return N}var Gs=J_(!0),Z_=J_(!1),Lu=mi(null),Mu=null,ks=null,Qf=null;function Yf(){Qf=ks=Mu=null}function Xf(t){var e=Lu.current;We(Lu),t._currentValue=e}function Ah(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Mu=t,Qf=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(Qf!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(Mu===null)throw Error(X(308));ks=t,Mu.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var bi=null;function Jf(t){bi===null?bi=[t]:bi.push(t)}function e0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jf(e)):(n.next=i.next,i.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mr(t,n)}return i=r.interleaved,i===null?(e.next=e,Jf(r)):(e.next=i.next,i.next=e),r.interleaved=e,mr(t,n)}function su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jf(t,n)}}function bg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vu(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var p=a.lane,E=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,A=a;switch(p=e,E=n,A.tag){case 1:if(w=A.payload,typeof w=="function"){f=w.call(E,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=A.payload,p=typeof w=="function"?w.call(E,f,p):w,p==null)break e;f=Ze({},f,p);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else E={eventTime:E,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=E,u=f):d=d.next=E,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wi|=o,t.lanes=o,t.memoizedState=f}}function Dg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var Ja={},Un=mi(Ja),ka=mi(Ja),Na=mi(Ja);function Di(t){if(t===Ja)throw Error(X(174));return t}function ep(t,e){switch(Fe(Na,e),Fe(ka,t),Fe(Un,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lh(e,t)}We(Un),Fe(Un,e)}function Qs(){We(Un),We(ka),We(Na)}function n0(t){Di(Na.current);var e=Di(Un.current),n=lh(e,t.type);e!==n&&(Fe(ka,t),Fe(Un,n))}function tp(t){ka.current===t&&(We(Un),We(ka))}var Xe=mi(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rd=[];function np(){for(var t=0;t<Rd.length;t++)Rd[t]._workInProgressVersionPrimary=null;Rd.length=0}var ou=Tr.ReactCurrentDispatcher,kd=Tr.ReactCurrentBatchConfig,$i=0,Je=null,ht=null,yt=null,Fu=!1,la=!1,ba=0,nS=0;function Nt(){throw Error(X(321))}function rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function ip(t,e,n,r,i,s){if($i=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ou.current=t===null||t.memoizedState===null?oS:aS,t=n(r,i),la){s=0;do{if(la=!1,ba=0,25<=s)throw Error(X(301));s+=1,yt=ht=null,e.updateQueue=null,ou.current=lS,t=n(r,i)}while(la)}if(ou.current=Uu,e=ht!==null&&ht.next!==null,$i=0,yt=ht=Je=null,Fu=!1,e)throw Error(X(300));return t}function sp(){var t=ba!==0;return ba=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=t:yt=yt.next=t,yt}function _n(){if(ht===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=yt===null?Je.memoizedState:yt.next;if(e!==null)yt=e,ht=t;else{if(t===null)throw Error(X(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Je.memoizedState=yt=t:yt=yt.next=t}return yt}function Da(t,e){return typeof e=="function"?e(t):e}function Nd(t){var e=_n(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if(($i&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Je.lanes|=d,Wi|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,kn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Wi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bd(t){var e=_n(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function r0(){}function i0(t,e){var n=Je,r=_n(),i=e(),s=!kn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,op(a0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Oa(9,o0.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(X(349));$i&30||s0(n,e,i)}return i}function s0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function o0(t,e,n,r){e.value=n,e.getSnapshot=r,l0(e)&&u0(t)}function a0(t,e,n){return n(function(){l0(e)&&u0(t)})}function l0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function u0(t){var e=mr(t,1);e!==null&&Rn(e,t,1,-1)}function Og(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=sS.bind(null,Je,t),[e.memoizedState,t]}function Oa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c0(){return _n().memoizedState}function au(t,e,n,r){var i=Ln();Je.flags|=t,i.memoizedState=Oa(1|e,n,void 0,r===void 0?null:r)}function _c(t,e,n,r){var i=_n();r=r===void 0?null:r;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,r!==null&&rp(r,o.deps)){i.memoizedState=Oa(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Oa(1|e,n,s,r)}function Lg(t,e){return au(8390656,8,t,e)}function op(t,e){return _c(2048,8,t,e)}function d0(t,e){return _c(4,2,t,e)}function h0(t,e){return _c(4,4,t,e)}function f0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p0(t,e,n){return n=n!=null?n.concat([t]):null,_c(4,4,f0.bind(null,e,t),n)}function ap(){}function m0(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g0(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y0(t,e,n){return $i&21?(kn(n,e)||(n=T_(),Je.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function rS(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=kd.transition;kd.transition={};try{t(!1),e()}finally{Le=n,kd.transition=r}}function v0(){return _n().memoizedState}function iS(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_0(t))w0(e,n);else if(n=e0(t,e,n,r),n!==null){var i=Bt();Rn(n,t,r,i),E0(n,e,r)}}function sS(t,e,n){var r=ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_0(t))w0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kn(a,o)){var u=e.interleaved;u===null?(i.next=i,Jf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=e0(t,e,i,r),n!==null&&(i=Bt(),Rn(n,t,r,i),E0(n,e,r))}}function _0(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function w0(t,e){la=Fu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jf(t,n)}}var Uu={readContext:vn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},oS={readContext:vn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:Lg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,au(4194308,4,f0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return au(4194308,4,t,e)},useInsertionEffect:function(t,e){return au(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iS.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:Og,useDebugValue:ap,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=Og(!1),e=t[0];return t=rS.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=Ln();if(Ke){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),vt===null)throw Error(X(349));$i&30||s0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Lg(a0.bind(null,r,s,t),[t]),r.flags|=2048,Oa(9,o0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=vt.identifierPrefix;if(Ke){var n=sr,r=ir;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aS={readContext:vn,useCallback:m0,useContext:vn,useEffect:op,useImperativeHandle:p0,useInsertionEffect:d0,useLayoutEffect:h0,useMemo:g0,useReducer:Nd,useRef:c0,useState:function(){return Nd(Da)},useDebugValue:ap,useDeferredValue:function(t){var e=_n();return y0(e,ht.memoizedState,t)},useTransition:function(){var t=Nd(Da)[0],e=_n().memoizedState;return[t,e]},useMutableSource:r0,useSyncExternalStore:i0,useId:v0,unstable_isNewReconciler:!1},lS={readContext:vn,useCallback:m0,useContext:vn,useEffect:op,useImperativeHandle:p0,useInsertionEffect:d0,useLayoutEffect:h0,useMemo:g0,useReducer:bd,useRef:c0,useState:function(){return bd(Da)},useDebugValue:ap,useDeferredValue:function(t){var e=_n();return ht===null?e.memoizedState=t:y0(e,ht.memoizedState,t)},useTransition:function(){var t=bd(Da)[0],e=_n().memoizedState;return[t,e]},useMutableSource:r0,useSyncExternalStore:i0,useId:v0,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wc={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=ei(t),s=ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=Jr(t,s,i),e!==null&&(Rn(e,t,i,r),su(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=ei(t),s=ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Jr(t,s,i),e!==null&&(Rn(e,t,i,r),su(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=ei(t),i=ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jr(t,i,r),e!==null&&(Rn(e,t,r,n),su(e,t,r))}};function Mg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xa(n,r)||!xa(i,s):!0}function T0(t,e,n){var r=!1,i=li,s=e.contextType;return typeof s=="object"&&s!==null?s=vn(s):(i=Yt(e)?zi:Vt.current,r=e.contextTypes,s=(r=r!=null)?qs(t,i):li),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wc.enqueueReplaceState(e,e.state,null)}function kh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vn(s):(s=Yt(e)?zi:Vt.current,i.context=qs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wc.enqueueReplaceState(i,i.state,null),Vu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ys(t,e){try{var n="",r=e;do n+=MT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uS=typeof WeakMap=="function"?WeakMap:Map;function I0(t,e,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,zh=r),Nh(t,e)},n}function S0(t,e,n){n=ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Nh(t,e),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IS.bind(null,t,e,n),e.then(t,t))}function Fg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ug(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ur(-1,1),e.tag=2,Jr(n,e,1))),n.lanes|=1),t)}var cS=Tr.ReactCurrentOwner,Gt=!1;function Ut(t,e,n,r){e.child=t===null?Z_(e,null,n,r):Gs(e,t.child,n,r)}function zg(t,e,n,r,i){n=n.render;var s=e.ref;return Fs(e,i),r=ip(t,e,n,r,s,i),n=sp(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ke&&n&&qf(e),e.flags|=1,Ut(t,e,r,i),e.child)}function Bg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,C0(t,e,s,r,i)):(t=du(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(o,r)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function C0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xa(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,gr(t,e,i)}return bh(t,e,n,r,i)}function x0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(bs,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(bs,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(bs,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(bs,tn),tn|=r;return Ut(t,e,i,n),e.child}function P0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bh(t,e,n,r,i){var s=Yt(n)?zi:Vt.current;return s=qs(e,s),Fs(e,i),n=ip(t,e,n,r,s,i),r=sp(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ke&&r&&qf(e),e.flags|=1,Ut(t,e,n,i),e.child)}function $g(t,e,n,r,i){if(Yt(n)){var s=!0;bu(e)}else s=!1;if(Fs(e,i),e.stateNode===null)lu(t,e),T0(e,n,r),kh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vn(c):(c=Yt(n)?zi:Vt.current,c=qs(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Vg(e,o,r,c),Vr=!1;var p=e.memoizedState;o.state=p,Vu(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Qt.current||Vr?(typeof d=="function"&&(Rh(e,n,d,r),u=e.memoizedState),(a=Vr||Mg(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,t0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=vn(u):(u=Yt(n)?zi:Vt.current,u=qs(e,u));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Vg(e,o,r,u),Vr=!1,p=e.memoizedState,o.state=p,Vu(e,r,o,i);var w=e.memoizedState;a!==f||p!==w||Qt.current||Vr?(typeof E=="function"&&(Rh(e,n,E,r),w=e.memoizedState),(c=Vr||Mg(e,n,c,r,p,w,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Dh(t,e,n,r,s,i)}function Dh(t,e,n,r,i,s){P0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ag(e,n,!1),gr(t,e,s);r=e.stateNode,cS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gs(e,t.child,null,s),e.child=Gs(e,null,a,s)):Ut(t,e,a,s),e.memoizedState=r.state,i&&Ag(e,n,!0),e.child}function A0(t){var e=t.stateNode;e.pendingContext?Pg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pg(t,e.context,!1),ep(t,e.containerInfo)}function Wg(t,e,n,r,i){return Ks(),Gf(i),e.flags|=256,Ut(t,e,n,r),e.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Lh(t){return{baseLanes:t,cachePool:null,transitions:null}}function R0(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Xe,i&1),t===null)return Ph(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ic(o,r,0,null),t=ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Lh(n),e.memoizedState=Oh,t):lp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dS(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ti(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ti(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Lh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Oh,r}return s=t.child,t=s.sibling,r=ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lp(t,e){return e=Ic({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $l(t,e,n,r){return r!==null&&Gf(r),Gs(e,t.child,null,n),t=lp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Dd(Error(X(422))),$l(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ic({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gs(e,t.child,null,o),e.child.memoizedState=Lh(o),e.memoizedState=Oh,s);if(!(e.mode&1))return $l(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=Dd(s,r,void 0),$l(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mr(t,i),Rn(r,t,i,-1))}return pp(),r=Dd(Error(X(421))),$l(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=Xr(i.nextSibling),on=e,Ke=!0,xn=null,t!==null&&(fn[pn++]=ir,fn[pn++]=sr,fn[pn++]=Bi,ir=t.id,sr=t.overflow,Bi=e),e=lp(e,r.children),e.flags|=4096,e)}function Hg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ah(t.return,e,n)}function Od(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function k0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ut(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,n,e);else if(t.tag===19)Hg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ju(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Od(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ju(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Od(e,!0,n,null,s);break;case"together":Od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hS(t,e,n){switch(e.tag){case 3:A0(e),Ks();break;case 5:n0(e);break;case 1:Yt(e.type)&&bu(e);break;case 4:ep(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Lu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?R0(t,e,n):(Fe(Xe,Xe.current&1),t=gr(t,e,n),t!==null?t.sibling:null);Fe(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return k0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,x0(t,e,n)}return gr(t,e,n)}var N0,Mh,b0,D0;N0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mh=function(){};b0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Di(Un.current);var s=null;switch(n){case"input":i=ih(t,i),r=ih(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=ah(t,i),r=ah(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ku)}uh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_a.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&$e("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};D0=function(t,e,n,r){n!==r&&(e.flags|=4)};function zo(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fS(t,e,n){var r=e.pendingProps;switch(Kf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Yt(e.type)&&Nu(),bt(e),null;case 3:return r=e.stateNode,Qs(),We(Qt),We(Vt),np(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(Wh(xn),xn=null))),Mh(t,e),bt(e),null;case 5:tp(e);var i=Di(Na.current);if(n=e.type,t!==null&&e.stateNode!=null)b0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return bt(e),null}if(t=Di(Un.current),zl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mn]=e,r[Ra]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<Yo.length;i++)$e(Yo[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":eg(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":ng(r,s),$e("invalid",r)}uh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",""+a]):_a.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":bl(r),tg(r,s,!0);break;case"textarea":bl(r),rg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ku)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=a_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mn]=e,t[Ra]=r,N0(t,e,!1,!1),e.stateNode=t;e:{switch(o=ch(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yo.length;i++)$e(Yo[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":eg(t,r),i=ih(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),$e("invalid",t);break;case"textarea":ng(t,r),i=ah(t,r),$e("invalid",t);break;default:i=r}uh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?c_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&l_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wa(t,u):typeof u=="number"&&wa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_a.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$e("scroll",t):u!=null&&bf(t,s,u,o))}switch(n){case"input":bl(t),tg(t,r,!1);break;case"textarea":bl(t),rg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ai(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ls(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ls(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ku)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)D0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Di(Na.current),Di(Un.current),zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mn]=e,(s=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=e,e.stateNode=r}return bt(e),null;case 13:if(We(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&e.mode&1&&!(e.flags&128))X_(),Ks(),e.flags|=98560,s=!1;else if(s=zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Mn]=e}else Ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else xn!==null&&(Wh(xn),xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?pt===0&&(pt=3):pp())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Qs(),Mh(t,e),t===null&&Pa(e.stateNode.containerInfo),bt(e),null;case 10:return Xf(e.type._context),bt(e),null;case 17:return Yt(e.type)&&Nu(),bt(e),null;case 19:if(We(Xe),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zo(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ju(t),o!==null){for(e.flags|=128,zo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>Xs&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304)}else{if(!r)if(t=ju(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return bt(e),null}else 2*st()-s.renderingStartTime>Xs&&n!==1073741824&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Xe.current,Fe(Xe,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return fp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function pS(t,e){switch(Kf(e),e.tag){case 1:return Yt(e.type)&&Nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),We(Qt),We(Vt),np(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tp(e),null;case 13:if(We(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Xe),null;case 4:return Qs(),null;case 10:return Xf(e.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var Wl=!1,Lt=!1,mS=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Vh(t,e,n){try{n()}catch(r){rt(t,e,r)}}var qg=!1;function gS(t,e){if(wh=Pu,t=j_(),Hf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var E;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(E=f.firstChild)!==null;)p=f,f=E;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(u=o),(E=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=E}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eh={focusedElem:t,selectionRange:n},Pu=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,N=w.memoizedState,I=e.stateNode,_=I.getSnapshotBeforeUpdate(e.elementType===e.type?A:In(e.type,A),N);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(x){rt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return w=qg,qg=!1,w}function ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vh(e,n,s)}i=i.next}while(i!==r)}}function Ec(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O0(t){var e=t.alternate;e!==null&&(t.alternate=null,O0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mn],delete e[Ra],delete e[Sh],delete e[JI],delete e[ZI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L0(t){return t.tag===5||t.tag===3||t.tag===4}function Kg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ku));else if(r!==4&&(t=t.child,t!==null))for(Fh(t,e,n),t=t.sibling;t!==null;)Fh(t,e,n),t=t.sibling}function Uh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uh(t,e,n),t=t.sibling;t!==null;)Uh(t,e,n),t=t.sibling}var Tt=null,Sn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)M0(t,e,n),n=n.sibling}function M0(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(fc,n)}catch{}switch(n.tag){case 5:Lt||Ns(n,e);case 6:var r=Tt,i=Sn;Tt=null,Dr(t,e,n),Tt=r,Sn=i,Tt!==null&&(Sn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Sn?(t=Tt,n=n.stateNode,t.nodeType===8?Pd(t.parentNode,n):t.nodeType===1&&Pd(t,n),Sa(t)):Pd(Tt,n.stateNode));break;case 4:r=Tt,i=Sn,Tt=n.stateNode.containerInfo,Sn=!0,Dr(t,e,n),Tt=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vh(n,e,o),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!Lt&&(Ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Dr(t,e,n),Lt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function Gg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mS),e.forEach(function(r){var i=CS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Sn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Sn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(Tt===null)throw Error(X(160));M0(s,o,i),Tt=null,Sn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V0(e,t),e=e.sibling}function V0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),On(t),r&4){try{ua(3,t,t.return),Ec(3,t)}catch(A){rt(t,t.return,A)}try{ua(5,t,t.return)}catch(A){rt(t,t.return,A)}}break;case 1:Tn(e,t),On(t),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(Tn(e,t),On(t),r&512&&n!==null&&Ns(n,n.return),t.flags&32){var i=t.stateNode;try{wa(i,"")}catch(A){rt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&s_(i,s),ch(a,o);var c=ch(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?c_(i,f):d==="dangerouslySetInnerHTML"?l_(i,f):d==="children"?wa(i,f):bf(i,d,f,c)}switch(a){case"input":sh(i,s);break;case"textarea":o_(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?Ls(i,!!s.multiple,E,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ls(i,!!s.multiple,s.defaultValue,!0):Ls(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ra]=s}catch(A){rt(t,t.return,A)}}break;case 6:if(Tn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){rt(t,t.return,A)}}break;case 3:if(Tn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(A){rt(t,t.return,A)}break;case 4:Tn(e,t),On(t);break;case 13:Tn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dp=st())),r&4&&Gg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||d,Tn(e,t),Lt=c):Tn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(f=oe=d;oe!==null;){switch(p=oe,E=p.child,p.tag){case 0:case 11:case 14:case 15:ua(4,p,p.return);break;case 1:Ns(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(A){rt(r,n,A)}}break;case 5:Ns(p,p.return);break;case 22:if(p.memoizedState!==null){Yg(f);continue}}E!==null?(E.return=p,oe=E):Yg(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=u_("display",o))}catch(A){rt(t,t.return,A)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(A){rt(t,t.return,A)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tn(e,t),On(t),r&4&&Gg(t);break;case 21:break;default:Tn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(L0(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wa(i,""),r.flags&=-33);var s=Kg(t);Uh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Kg(t);Fh(t,a,o);break;default:throw Error(X(161))}}catch(u){rt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yS(t,e,n){oe=t,j0(t)}function j0(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Lt;a=Wl;var c=Lt;if(Wl=o,(Lt=u)&&!c)for(oe=i;oe!==null;)o=oe,u=o.child,o.tag===22&&o.memoizedState!==null?Xg(i):u!==null?(u.return=o,oe=u):Xg(i);for(;s!==null;)oe=s,j0(s),s=s.sibling;oe=i,Wl=a,Lt=c}Qg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):Qg(t)}}function Qg(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Ec(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Lt||e.flags&512&&jh(e)}catch(p){rt(e,e.return,p)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Yg(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Xg(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ec(4,e)}catch(u){rt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){rt(e,i,u)}}var s=e.return;try{jh(e)}catch(u){rt(e,s,u)}break;case 5:var o=e.return;try{jh(e)}catch(u){rt(e,o,u)}}}catch(u){rt(e,e.return,u)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var vS=Math.ceil,zu=Tr.ReactCurrentDispatcher,up=Tr.ReactCurrentOwner,yn=Tr.ReactCurrentBatchConfig,be=0,vt=null,ct=null,Ct=0,tn=0,bs=mi(0),pt=0,La=null,Wi=0,Tc=0,cp=0,ca=null,qt=null,dp=0,Xs=1/0,nr=null,Bu=!1,zh=null,Zr=null,Hl=!1,Hr=null,$u=0,da=0,Bh=null,uu=-1,cu=0;function Bt(){return be&6?st():uu!==-1?uu:uu=st()}function ei(t){return t.mode&1?be&2&&Ct!==0?Ct&-Ct:tS.transition!==null?(cu===0&&(cu=T_()),cu):(t=Le,t!==0||(t=window.event,t=t===void 0?16:R_(t.type)),t):1}function Rn(t,e,n,r){if(50<da)throw da=0,Bh=null,Error(X(185));Qa(t,n,r),(!(be&2)||t!==vt)&&(t===vt&&(!(be&2)&&(Tc|=n),pt===4&&Fr(t,Ct)),Xt(t,r),n===1&&be===0&&!(e.mode&1)&&(Xs=st()+500,vc&&gi()))}function Xt(t,e){var n=t.callbackNode;tI(t,e);var r=xu(t,t===vt?Ct:0);if(r===0)n!==null&&og(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&og(n),e===1)t.tag===0?eS(Jg.bind(null,t)):G_(Jg.bind(null,t)),YI(function(){!(be&6)&&gi()}),n=null;else{switch(I_(r)){case 1:n=Vf;break;case 4:n=w_;break;case 16:n=Cu;break;case 536870912:n=E_;break;default:n=Cu}n=q0(n,F0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F0(t,e){if(uu=-1,cu=0,be&6)throw Error(X(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var r=xu(t,t===vt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wu(t,r);else{e=r;var i=be;be|=2;var s=z0();(vt!==t||Ct!==e)&&(nr=null,Xs=st()+500,Vi(t,e));do try{ES();break}catch(a){U0(t,a)}while(!0);Yf(),zu.current=s,be=i,ct!==null?e=0:(vt=null,Ct=0,e=pt)}if(e!==0){if(e===2&&(i=mh(t),i!==0&&(r=i,e=$h(t,i))),e===1)throw n=La,Vi(t,0),Fr(t,r),Xt(t,st()),n;if(e===6)Fr(t,r);else{if(i=t.current.alternate,!(r&30)&&!_S(i)&&(e=Wu(t,r),e===2&&(s=mh(t),s!==0&&(r=s,e=$h(t,s))),e===1))throw n=La,Vi(t,0),Fr(t,r),Xt(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Ri(t,qt,nr);break;case 3:if(Fr(t,r),(r&130023424)===r&&(e=dp+500-st(),10<e)){if(xu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ih(Ri.bind(null,t,qt,nr),e);break}Ri(t,qt,nr);break;case 4:if(Fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vS(r/1960))-r,10<r){t.timeoutHandle=Ih(Ri.bind(null,t,qt,nr),r);break}Ri(t,qt,nr);break;case 5:Ri(t,qt,nr);break;default:throw Error(X(329))}}}return Xt(t,st()),t.callbackNode===n?F0.bind(null,t):null}function $h(t,e){var n=ca;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Wu(t,e),t!==2&&(e=qt,qt=n,e!==null&&Wh(e)),t}function Wh(t){qt===null?qt=t:qt.push.apply(qt,t)}function _S(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fr(t,e){for(e&=~cp,e&=~Tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function Jg(t){if(be&6)throw Error(X(327));Us();var e=xu(t,0);if(!(e&1))return Xt(t,st()),null;var n=Wu(t,e);if(t.tag!==0&&n===2){var r=mh(t);r!==0&&(e=r,n=$h(t,r))}if(n===1)throw n=La,Vi(t,0),Fr(t,e),Xt(t,st()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,qt,nr),Xt(t,st()),null}function hp(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Xs=st()+500,vc&&gi())}}function Hi(t){Hr!==null&&Hr.tag===0&&!(be&6)&&Us();var e=be;be|=1;var n=yn.transition,r=Le;try{if(yn.transition=null,Le=1,t)return t()}finally{Le=r,yn.transition=n,be=e,!(be&6)&&gi()}}function fp(){tn=bs.current,We(bs)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QI(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Kf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nu();break;case 3:Qs(),We(Qt),We(Vt),np();break;case 5:tp(r);break;case 4:Qs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Xf(r.type._context);break;case 22:case 23:fp()}n=n.return}if(vt=t,ct=t=ti(t.current,null),Ct=tn=e,pt=0,La=null,cp=Tc=Wi=0,qt=ca=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bi=null}return t}function U0(t,e){do{var n=ct;try{if(Yf(),ou.current=Uu,Fu){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fu=!1}if($i=0,yt=ht=Je=null,la=!1,ba=0,up.current=null,n===null||n.return===null){pt=1,La=e,ct=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Ct,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=Fg(o);if(E!==null){E.flags&=-257,Ug(E,o,a,s,e),E.mode&1&&jg(s,c,e),e=E,u=c;var w=e.updateQueue;if(w===null){var A=new Set;A.add(u),e.updateQueue=A}else w.add(u);break e}else{if(!(e&1)){jg(s,c,e),pp();break e}u=Error(X(426))}}else if(Ke&&a.mode&1){var N=Fg(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Ug(N,o,a,s,e),Gf(Ys(u,a));break e}}s=u=Ys(u,a),pt!==4&&(pt=2),ca===null?ca=[s]:ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=I0(s,u,e);bg(s,I);break e;case 1:a=u;var _=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zr===null||!Zr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=S0(s,a,e);bg(s,x);break e}}s=s.return}while(s!==null)}$0(n)}catch(D){e=D,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function z0(){var t=zu.current;return zu.current=Uu,t===null?Uu:t}function pp(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||!(Wi&268435455)&&!(Tc&268435455)||Fr(vt,Ct)}function Wu(t,e){var n=be;be|=2;var r=z0();(vt!==t||Ct!==e)&&(nr=null,Vi(t,e));do try{wS();break}catch(i){U0(t,i)}while(!0);if(Yf(),be=n,zu.current=r,ct!==null)throw Error(X(261));return vt=null,Ct=0,pt}function wS(){for(;ct!==null;)B0(ct)}function ES(){for(;ct!==null&&!qT();)B0(ct)}function B0(t){var e=H0(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?$0(t):ct=e,up.current=null}function $0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pS(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ct=null;return}}else if(n=fS(n,e,tn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);pt===0&&(pt=5)}function Ri(t,e,n){var r=Le,i=yn.transition;try{yn.transition=null,Le=1,TS(t,e,n,r)}finally{yn.transition=i,Le=r}return null}function TS(t,e,n,r){do Us();while(Hr!==null);if(be&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nI(t,s),t===vt&&(ct=vt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,q0(Cu,function(){return Us(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=Le;Le=1;var a=be;be|=4,up.current=null,gS(t,n),V0(n,t),BI(Eh),Pu=!!wh,Eh=wh=null,t.current=n,yS(n),KT(),be=a,Le=o,yn.transition=s}else t.current=n;if(Hl&&(Hl=!1,Hr=t,$u=i),s=t.pendingLanes,s===0&&(Zr=null),YT(n.stateNode),Xt(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,t=zh,zh=null,t;return $u&1&&t.tag!==0&&Us(),s=t.pendingLanes,s&1?t===Bh?da++:(da=0,Bh=t):da=0,gi(),null}function Us(){if(Hr!==null){var t=I_($u),e=yn.transition,n=Le;try{if(yn.transition=null,Le=16>t?16:t,Hr===null)var r=!1;else{if(t=Hr,Hr=null,$u=0,be&6)throw Error(X(331));var i=be;for(be|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:ua(8,d,s)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var p=d.sibling,E=d.return;if(O0(d),d===c){oe=null;break}if(p!==null){p.return=E,oe=p;break}oe=E}}}var w=s.alternate;if(w!==null){var A=w.child;if(A!==null){w.child=null;do{var N=A.sibling;A.sibling=null,A=N}while(A!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ua(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,oe=I;break e}oe=s.return}}var _=t.current;for(oe=_;oe!==null;){o=oe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,oe=v;else e:for(o=_;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ec(9,a)}}catch(D){rt(a,a.return,D)}if(a===o){oe=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,oe=x;break e}oe=a.return}}if(be=i,gi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(fc,t)}catch{}r=!0}return r}finally{Le=n,yn.transition=e}}return!1}function Zg(t,e,n){e=Ys(n,e),e=I0(t,e,1),t=Jr(t,e,1),e=Bt(),t!==null&&(Qa(t,1,e),Xt(t,e))}function rt(t,e,n){if(t.tag===3)Zg(t,t,n);else for(;e!==null;){if(e.tag===3){Zg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){t=Ys(n,t),t=S0(e,t,1),e=Jr(e,t,1),t=Bt(),e!==null&&(Qa(e,1,t),Xt(e,t));break}}e=e.return}}function IS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(Ct&n)===n&&(pt===4||pt===3&&(Ct&130023424)===Ct&&500>st()-dp?Vi(t,0):cp|=n),Xt(t,e)}function W0(t,e){e===0&&(t.mode&1?(e=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):e=1);var n=Bt();t=mr(t,e),t!==null&&(Qa(t,e,n),Xt(t,n))}function SS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W0(t,n)}function CS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),W0(t,n)}var H0;H0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,hS(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Ke&&e.flags&1048576&&Q_(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lu(t,e),t=e.pendingProps;var i=qs(e,Vt.current);Fs(e,n),i=ip(null,e,r,t,i,n);var s=sp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,bu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zf(e),i.updater=wc,e.stateNode=i,i._reactInternals=e,kh(e,r,t,n),e=Dh(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&qf(e),Ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PS(r),t=In(r,t),i){case 0:e=bh(null,e,r,t,n);break e;case 1:e=$g(null,e,r,t,n);break e;case 11:e=zg(null,e,r,t,n);break e;case 14:e=Bg(null,e,r,In(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),bh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),$g(t,e,r,i,n);case 3:e:{if(A0(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,t0(t,e),Vu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ys(Error(X(423)),e),e=Wg(t,e,r,n,i);break e}else if(r!==i){i=Ys(Error(X(424)),e),e=Wg(t,e,r,n,i);break e}else for(nn=Xr(e.stateNode.containerInfo.firstChild),on=e,Ke=!0,xn=null,n=Z_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ks(),r===i){e=gr(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return n0(e),t===null&&Ph(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Th(r,i)?o=null:s!==null&&Th(r,s)&&(e.flags|=32),P0(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&Ph(e),null;case 13:return R0(t,e,n);case 4:return ep(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gs(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),zg(t,e,r,i,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Lu,r._currentValue),r._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!Qt.current){e=gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ur(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ah(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ah(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fs(e,n),i=vn(i),r=r(i),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),Bg(t,e,r,i,n);case 15:return C0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),lu(t,e),e.tag=1,Yt(r)?(t=!0,bu(e)):t=!1,Fs(e,n),T0(e,r,i),kh(e,r,i,n),Dh(null,e,r,!0,t,n);case 19:return k0(t,e,n);case 22:return x0(t,e,n)}throw Error(X(156,e.tag))};function q0(t,e){return __(t,e)}function xS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new xS(t,e,n,r)}function mp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PS(t){if(typeof t=="function")return mp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Of)return 11;if(t===Lf)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function du(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")mp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ts:return ji(n.children,i,s,e);case Df:o=8,i|=8;break;case eh:return t=gn(12,n,e,i|2),t.elementType=eh,t.lanes=s,t;case th:return t=gn(13,n,e,i),t.elementType=th,t.lanes=s,t;case nh:return t=gn(19,n,e,i),t.elementType=nh,t.lanes=s,t;case n_:return Ic(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case e_:o=10;break e;case t_:o=9;break e;case Of:o=11;break e;case Lf:o=14;break e;case Mr:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ji(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function Ic(t,e,n,r){return t=gn(22,t,r,e),t.elementType=n_,t.lanes=n,t.stateNode={isHidden:!1},t}function Ld(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Md(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gd(0),this.expirationTimes=gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gp(t,e,n,r,i,s,o,a,u){return t=new AS(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(s),t}function RS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function K0(t){if(!t)return li;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Yt(n))return K_(t,n,e)}return e}function G0(t,e,n,r,i,s,o,a,u){return t=gp(n,r,!0,t,i,s,o,a,u),t.context=K0(null),n=t.current,r=Bt(),i=ei(n),s=ur(r,i),s.callback=e??null,Jr(n,s,i),t.current.lanes=i,Qa(t,i,r),Xt(t,r),t}function Sc(t,e,n,r){var i=e.current,s=Bt(),o=ei(i);return n=K0(n),e.context===null?e.context=n:e.pendingContext=n,e=ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jr(i,e,o),t!==null&&(Rn(t,i,o,s),su(t,i,o)),o}function Hu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ey(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yp(t,e){ey(t,e),(t=t.alternate)&&ey(t,e)}function kS(){return null}var Q0=typeof reportError=="function"?reportError:function(t){console.error(t)};function vp(t){this._internalRoot=t}Cc.prototype.render=vp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Sc(t,e,null,null)};Cc.prototype.unmount=vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){Sc(null,t,null,null)}),e[pr]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var e=x_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&A_(t)}};function _p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ty(){}function NS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hu(o);s.call(c)}}var o=G0(e,r,t,0,null,!1,!1,"",ty);return t._reactRootContainer=o,t[pr]=o.current,Pa(t.nodeType===8?t.parentNode:t),Hi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hu(u);a.call(c)}}var u=gp(t,0,!1,null,null,!1,!1,"",ty);return t._reactRootContainer=u,t[pr]=u.current,Pa(t.nodeType===8?t.parentNode:t),Hi(function(){Sc(e,u,n,r)}),u}function Pc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Hu(o);a.call(u)}}Sc(e,o,t,i)}else o=NS(n,e,t,i,r);return Hu(o)}S_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qo(e.pendingLanes);n!==0&&(jf(e,n|1),Xt(e,st()),!(be&6)&&(Xs=st()+500,gi()))}break;case 13:Hi(function(){var r=mr(t,1);if(r!==null){var i=Bt();Rn(r,t,1,i)}}),yp(t,1)}};Ff=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=Bt();Rn(e,t,134217728,n)}yp(t,134217728)}};C_=function(t){if(t.tag===13){var e=ei(t),n=mr(t,e);if(n!==null){var r=Bt();Rn(n,t,e,r)}yp(t,e)}};x_=function(){return Le};P_=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};hh=function(t,e,n){switch(e){case"input":if(sh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yc(r);if(!i)throw Error(X(90));i_(r),sh(r,i)}}}break;case"textarea":o_(t,n);break;case"select":e=n.value,e!=null&&Ls(t,!!n.multiple,e,!1)}};f_=hp;p_=Hi;var bS={usingClientEntryPoint:!1,Events:[Xa,xs,yc,d_,h_,hp]},Bo={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DS={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=y_(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||kS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{fc=ql.inject(DS),Fn=ql}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bS;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_p(e))throw Error(X(200));return RS(t,e,null,n)};ln.createRoot=function(t,e){if(!_p(t))throw Error(X(299));var n=!1,r="",i=Q0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gp(t,1,!1,null,null,n,!1,r,i),t[pr]=e.current,Pa(t.nodeType===8?t.parentNode:t),new vp(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=y_(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return Hi(t)};ln.hydrate=function(t,e,n){if(!xc(e))throw Error(X(200));return Pc(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!_p(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Q0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=G0(e,null,t,1,n??null,i,!1,s,o),t[pr]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cc(e)};ln.render=function(t,e,n){if(!xc(e))throw Error(X(200));return Pc(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!xc(t))throw Error(X(40));return t._reactRootContainer?(Hi(function(){Pc(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};ln.unstable_batchedUpdates=hp;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xc(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Pc(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(t){console.error(t)}}Y0(),Yv.exports=ln;var wp=Yv.exports;const OS=Cf(wp),LS=jv({__proto__:null,default:OS},[wp]);var ny=wp;Jd.createRoot=ny.createRoot,Jd.hydrateRoot=ny.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(this,arguments)}var lt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lt||(lt={}));const ry="popstate";function MS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ma("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qi(i)}return jS(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Js(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substr(2,8)}function iy(t,e){return{usr:t.state,key:t.key,idx:e}}function Ma(t,e,n,r){return n===void 0&&(n=null),Ye({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yi(e):e,{state:n,key:e&&e.key||r||VS()})}function qi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=lt.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Ye({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=lt.Pop;let N=d(),I=N==null?null:N-c;c=N,u&&u({action:a,location:A.location,delta:I})}function p(N,I){a=lt.Push;let _=Ma(A.location,N,I);c=d()+1;let v=iy(_,c),x=A.createHref(_);try{o.pushState(v,"",x)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(x)}s&&u&&u({action:a,location:A.location,delta:1})}function E(N,I){a=lt.Replace;let _=Ma(A.location,N,I);c=d();let v=iy(_,c),x=A.createHref(_);o.replaceState(v,"",x),s&&u&&u({action:a,location:A.location,delta:0})}function w(N){let I=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof N=="string"?N:qi(N);return _=_.replace(/ $/,"%20"),Te(I,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,I)}let A={get action(){return a},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ry,f),u=N,()=>{i.removeEventListener(ry,f),u=null}},createHref(N){return e(i,N)},createURL:w,encodeLocation(N){let I=w(N);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:p,replace:E,go(N){return o.go(N)}};return A}var qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qe||(qe={}));const FS=new Set(["lazy","caseSensitive","path","id","index","children"]);function US(t){return t.index===!0}function Hh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),US(i)){let u=Ye({},i,e(i),{id:a});return r[a]=u,u}else{let u=Ye({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=Hh(i.children,e,o,r)),u}})}function Ds(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?yi(e):e,i=yr(r.pathname||"/",n);if(i==null)return null;let s=X0(t);BS(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=ZS(i);o=XS(s[a],u)}return o}function zS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function X0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Te(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=cr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X0(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:QS(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of J0(s.path))i(s,o,u)}),e}function J0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=J0(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function BS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $S=/^:[\w-]+$/,WS=3,HS=2,qS=1,KS=10,GS=-2,sy=t=>t==="*";function QS(t,e){let n=t.split("/"),r=n.length;return n.some(sy)&&(r+=GS),e&&(r+=HS),n.filter(i=>!sy(i)).reduce((i,s)=>i+($S.test(s)?WS:s===""?qS:KS),r)}function YS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function XS(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=qh({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:cr([i,d.pathname]),pathnameBase:nC(cr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=cr([i,d.pathnameBase]))}return s}function qh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:E}=d;if(p==="*"){let A=a[f]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const w=a[f];return E&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function JS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Js(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Js(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yi(t):t;return{pathname:n?n.startsWith("/")?n:tC(n,e):e,search:rC(r),hash:iC(i)}}function tC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ac(t,e){let n=Z0(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rc(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=yi(t):(i=Ye({},t),Te(!i.pathname||!i.pathname.includes("?"),Vd("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Vd("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Vd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=eC(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const cr=t=>t.join("/").replace(/\/\/+/g,"/"),nC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ep{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Tp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ew=["post","put","patch","delete"],sC=new Set(ew),oC=["get",...ew],aC=new Set(oC),lC=new Set([301,302,303,307,308]),uC=new Set([307,308]),jd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$o={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dC=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),tw="remix-router-transitions";function hC(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=$=>({hasErrorBoundary:j($)})}else i=dC;let s={},o=Hh(t.routes,i,void 0,s),a,u=t.basename||"/",c=t.unstable_dataStrategy||gC,d=Ye({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,E=null,w=null,A=null,N=t.hydrationData!=null,I=Ds(o,t.history.location,u),_=null;if(I==null){let j=hn(404,{pathname:t.history.location.pathname}),{matches:$,route:K}=my(o);I=$,_={[K.id]:j}}let v,x=I.some(j=>j.route.lazy),D=I.some(j=>j.route.loader);if(x)v=!1;else if(!D)v=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null,K=J=>J.route.loader?typeof J.route.loader=="function"&&J.route.loader.hydrate===!0?!1:j&&j[J.route.id]!==void 0||$&&$[J.route.id]!==void 0:!0;if($){let J=I.findIndex(ie=>$[ie.route.id]!==void 0);v=I.slice(0,J+1).every(K)}else v=I.every(K)}else v=t.hydrationData!=null;let b,m={historyAction:t.history.action,location:t.history.location,matches:I,initialized:v,navigation:jd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},y=lt.Pop,T=!1,C,k=!1,O=new Map,R=null,Z=!1,z=!1,q=[],ne=[],L=new Map,M=0,F=-1,B=new Map,W=new Set,G=new Map,te=new Map,se=new Set,de=new Map,ue=new Map,we=!1;function Ae(){if(f=t.history.listen(j=>{let{action:$,location:K,delta:J}=j;if(we){we=!1;return}Js(ue.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=cs({currentLocation:m.location,nextLocation:K,historyAction:$});if(ie&&J!=null){we=!0,t.history.go(J*-1),us(ie,{state:"blocked",location:K,proceed(){us(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(J)},reset(){let le=new Map(m.blockers);le.set(ie,$o),tt({blockers:le})}});return}return bn($,K)}),n){AC(e,O);let j=()=>RC(e,O);e.addEventListener("pagehide",j),R=()=>e.removeEventListener("pagehide",j)}return m.initialized||bn(lt.Pop,m.location,{initialHydration:!0}),b}function Ne(){f&&f(),R&&R(),p.clear(),C&&C.abort(),m.fetchers.forEach((j,$)=>Si($)),m.blockers.forEach((j,$)=>vl($))}function Ve(j){return p.add(j),()=>p.delete(j)}function tt(j,$){$===void 0&&($={}),m=Ye({},m,j);let K=[],J=[];d.v7_fetcherPersist&&m.fetchers.forEach((ie,le)=>{ie.state==="idle"&&(se.has(le)?J.push(le):K.push(le))}),[...p].forEach(ie=>ie(m,{deletedFetchers:J,unstable_viewTransitionOpts:$.viewTransitionOpts,unstable_flushSync:$.flushSync===!0})),d.v7_fetcherPersist&&(K.forEach(ie=>m.fetchers.delete(ie)),J.forEach(ie=>Si(ie)))}function cn(j,$,K){var J,ie;let{flushSync:le}=K===void 0?{}:K,he=m.actionData!=null&&m.navigation.formMethod!=null&&Cn(m.navigation.formMethod)&&m.navigation.state==="loading"&&((J=j.state)==null?void 0:J._isRedirect)!==!0,re;$.actionData?Object.keys($.actionData).length>0?re=$.actionData:re=null:he?re=m.actionData:re=null;let ge=$.loaderData?fy(m.loaderData,$.loaderData,$.matches||[],$.errors):m.loaderData,ye=m.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((pe,je)=>ye.set(je,$o)));let dt=T===!0||m.navigation.formMethod!=null&&Cn(m.navigation.formMethod)&&((ie=j.state)==null?void 0:ie._isRedirect)!==!0;a&&(o=a,a=void 0),Z||y===lt.Pop||(y===lt.Push?t.history.push(j,j.state):y===lt.Replace&&t.history.replace(j,j.state));let He;if(y===lt.Pop){let pe=O.get(m.location.pathname);pe&&pe.has(j.pathname)?He={currentLocation:m.location,nextLocation:j}:O.has(j.pathname)&&(He={currentLocation:j,nextLocation:m.location})}else if(k){let pe=O.get(m.location.pathname);pe?pe.add(j.pathname):(pe=new Set([j.pathname]),O.set(m.location.pathname,pe)),He={currentLocation:m.location,nextLocation:j}}tt(Ye({},$,{actionData:re,loaderData:ge,historyAction:y,location:j,initialized:!0,navigation:jd,revalidation:"idle",restoreScrollPosition:hs(j,$.matches||m.matches),preventScrollReset:dt,blockers:ye}),{viewTransitionOpts:He,flushSync:le===!0}),y=lt.Pop,T=!1,k=!1,Z=!1,z=!1,q=[],ne=[]}async function os(j,$){if(typeof j=="number"){t.history.go(j);return}let K=Kh(m.location,m.matches,u,d.v7_prependBasename,j,d.v7_relativeSplatPath,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:J,submission:ie,error:le}=oy(d.v7_normalizeFormMethod,!1,K,$),he=m.location,re=Ma(m.location,J,$&&$.state);re=Ye({},re,t.history.encodeLocation(re));let ge=$&&$.replace!=null?$.replace:void 0,ye=lt.Push;ge===!0?ye=lt.Replace:ge===!1||ie!=null&&Cn(ie.formMethod)&&ie.formAction===m.location.pathname+m.location.search&&(ye=lt.Replace);let dt=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,He=($&&$.unstable_flushSync)===!0,pe=cs({currentLocation:he,nextLocation:re,historyAction:ye});if(pe){us(pe,{state:"blocked",location:re,proceed(){us(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),os(j,$)},reset(){let je=new Map(m.blockers);je.set(pe,$o),tt({blockers:je})}});return}return await bn(ye,re,{submission:ie,pendingError:le,preventScrollReset:dt,replace:$&&$.replace,enableViewTransition:$&&$.unstable_viewTransition,flushSync:He})}function Eo(){if(ls(),tt({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){bn(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}bn(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function bn(j,$,K){C&&C.abort(),C=null,y=j,Z=(K&&K.startUninterruptedRevalidation)===!0,xo(m.location,m.matches),T=(K&&K.preventScrollReset)===!0,k=(K&&K.enableViewTransition)===!0;let J=a||o,ie=K&&K.overrideNavigation,le=Ds(J,$,u),he=(K&&K.flushSync)===!0;if(!le){let pe=hn(404,{pathname:$.pathname}),{matches:je,route:Qe}=my(J);ds(),cn($,{matches:je,loaderData:{},errors:{[Qe.id]:pe}},{flushSync:he});return}if(m.initialized&&!z&&TC(m.location,$)&&!(K&&K.submission&&Cn(K.submission.formMethod))){cn($,{matches:le},{flushSync:he});return}C=new AbortController;let re=ys(t.history,$,C.signal,K&&K.submission),ge;if(K&&K.pendingError)ge=[ha(le).route.id,{type:qe.error,error:K.pendingError}];else if(K&&K.submission&&Cn(K.submission.formMethod)){let pe=await td(re,$,K.submission,le,{replace:K.replace,flushSync:he});if(pe.shortCircuited)return;ge=pe.pendingActionResult,ie=Fd($,K.submission),he=!1,re=ys(t.history,re.url,re.signal)}let{shortCircuited:ye,loaderData:dt,errors:He}=await nd(re,$,le,ie,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,he,ge);ye||(C=null,cn($,Ye({matches:le},py(ge),{loaderData:dt,errors:He})))}async function td(j,$,K,J,ie){ie===void 0&&(ie={}),ls();let le=xC($,K);tt({navigation:le},{flushSync:ie.flushSync===!0});let he,re=Qh(J,$);if(!re.route.action&&!re.route.lazy)he={type:qe.error,error:hn(405,{method:j.method,pathname:$.pathname,routeId:re.route.id})};else if(he=(await Qn("action",j,[re],J))[0],j.signal.aborted)return{shortCircuited:!0};if(Li(he)){let ge;return ie&&ie.replace!=null?ge=ie.replace:ge=cy(he.response.headers.get("Location"),new URL(j.url),u)===m.location.pathname+m.location.search,await Ti(j,he,{submission:K,replace:ge}),{shortCircuited:!0}}if(Oi(he))throw hn(400,{type:"defer-action"});if(mn(he)){let ge=ha(J,re.route.id);return(ie&&ie.replace)!==!0&&(y=lt.Push),{pendingActionResult:[ge.route.id,he]}}return{pendingActionResult:[re.route.id,he]}}async function nd(j,$,K,J,ie,le,he,re,ge,ye){let dt=J||Fd($,ie),He=ie||le||vy(dt),pe=a||o,[je,Qe]=ay(t.history,m,K,He,$,d.v7_partialHydration&&re===!0,d.unstable_skipActionErrorRevalidation,z,q,ne,se,G,W,pe,u,ye);if(ds(Ie=>!(K&&K.some(_t=>_t.route.id===Ie))||je&&je.some(_t=>_t.route.id===Ie)),F=++M,je.length===0&&Qe.length===0){let Ie=Io();return cn($,Ye({matches:K,loaderData:{},errors:ye&&mn(ye[1])?{[ye[0]]:ye[1].error}:null},py(ye),Ie?{fetchers:new Map(m.fetchers)}:{}),{flushSync:ge}),{shortCircuited:!0}}if(!Z&&(!d.v7_partialHydration||!re)){Qe.forEach(_t=>{let wt=m.fetchers.get(_t.key),ot=Wo(void 0,wt?wt.data:void 0);m.fetchers.set(_t.key,ot)});let Ie;ye&&!mn(ye[1])?Ie={[ye[0]]:ye[1].data}:m.actionData&&(Object.keys(m.actionData).length===0?Ie=null:Ie=m.actionData),tt(Ye({navigation:dt},Ie!==void 0?{actionData:Ie}:{},Qe.length>0?{fetchers:new Map(m.fetchers)}:{}),{flushSync:ge})}Qe.forEach(Ie=>{L.has(Ie.key)&&Dn(Ie.key),Ie.controller&&L.set(Ie.key,Ie.controller)});let Pr=()=>Qe.forEach(Ie=>Dn(Ie.key));C&&C.signal.addEventListener("abort",Pr);let{loaderResults:dn,fetcherResults:wn}=await as(m.matches,K,je,Qe,j);if(j.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Pr),Qe.forEach(Ie=>L.delete(Ie.key));let Ft=gy([...dn,...wn]);if(Ft){if(Ft.idx>=je.length){let Ie=Qe[Ft.idx-je.length].key;W.add(Ie)}return await Ti(j,Ft.result,{replace:he}),{shortCircuited:!0}}let{loaderData:Xn,errors:Zt}=hy(m,K,je,dn,ye,Qe,wn,de);de.forEach((Ie,_t)=>{Ie.subscribe(wt=>{(wt||Ie.done)&&de.delete(_t)})}),d.v7_partialHydration&&re&&m.errors&&Object.entries(m.errors).filter(Ie=>{let[_t]=Ie;return!je.some(wt=>wt.route.id===_t)}).forEach(Ie=>{let[_t,wt]=Ie;Zt=Object.assign(Zt||{},{[_t]:wt})});let Ar=Io(),Rr=So(F),Ci=Ar||Rr||Qe.length>0;return Ye({loaderData:Xn,errors:Zt},Ci?{fetchers:new Map(m.fetchers)}:{})}function ml(j,$,K,J){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(j)&&Dn(j);let ie=(J&&J.unstable_flushSync)===!0,le=a||o,he=Kh(m.location,m.matches,u,d.v7_prependBasename,K,d.v7_relativeSplatPath,$,J==null?void 0:J.relative),re=Ds(le,he,u);if(!re){it(j,$,hn(404,{pathname:he}),{flushSync:ie});return}let{path:ge,submission:ye,error:dt}=oy(d.v7_normalizeFormMethod,!0,he,J);if(dt){it(j,$,dt,{flushSync:ie});return}let He=Qh(re,ge);if(T=(J&&J.preventScrollReset)===!0,ye&&Cn(ye.formMethod)){To(j,$,ge,He,re,ie,ye);return}G.set(j,{routeId:$,path:ge}),gl(j,$,ge,He,re,ie,ye)}async function To(j,$,K,J,ie,le,he){if(ls(),G.delete(j),!J.route.action&&!J.route.lazy){let ot=hn(405,{method:he.formMethod,pathname:K,routeId:$});it(j,$,ot,{flushSync:le});return}let re=m.fetchers.get(j);ze(j,PC(he,re),{flushSync:le});let ge=new AbortController,ye=ys(t.history,K,ge.signal,he);L.set(j,ge);let dt=M,pe=(await Qn("action",ye,[J],ie))[0];if(ye.signal.aborted){L.get(j)===ge&&L.delete(j);return}if(d.v7_fetcherPersist&&se.has(j)){if(Li(pe)||mn(pe)){ze(j,Lr(void 0));return}}else{if(Li(pe))if(L.delete(j),F>dt){ze(j,Lr(void 0));return}else return W.add(j),ze(j,Wo(he)),Ti(ye,pe,{fetcherSubmission:he});if(mn(pe)){it(j,$,pe.error);return}}if(Oi(pe))throw hn(400,{type:"defer-action"});let je=m.navigation.location||m.location,Qe=ys(t.history,je,ge.signal),Pr=a||o,dn=m.navigation.state!=="idle"?Ds(Pr,m.navigation.location,u):m.matches;Te(dn,"Didn't find any matches after fetcher action");let wn=++M;B.set(j,wn);let Ft=Wo(he,pe.data);m.fetchers.set(j,Ft);let[Xn,Zt]=ay(t.history,m,dn,he,je,!1,d.unstable_skipActionErrorRevalidation,z,q,ne,se,G,W,Pr,u,[J.route.id,pe]);Zt.filter(ot=>ot.key!==j).forEach(ot=>{let Jn=ot.key,kr=m.fetchers.get(Jn),Zn=Wo(void 0,kr?kr.data:void 0);m.fetchers.set(Jn,Zn),L.has(Jn)&&Dn(Jn),ot.controller&&L.set(Jn,ot.controller)}),tt({fetchers:new Map(m.fetchers)});let Ar=()=>Zt.forEach(ot=>Dn(ot.key));ge.signal.addEventListener("abort",Ar);let{loaderResults:Rr,fetcherResults:Ci}=await as(m.matches,dn,Xn,Zt,Qe);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",Ar),B.delete(j),L.delete(j),Zt.forEach(ot=>L.delete(ot.key));let Ie=gy([...Rr,...Ci]);if(Ie){if(Ie.idx>=Xn.length){let ot=Zt[Ie.idx-Xn.length].key;W.add(ot)}return Ti(Qe,Ie.result)}let{loaderData:_t,errors:wt}=hy(m,m.matches,Xn,Rr,void 0,Zt,Ci,de);if(m.fetchers.has(j)){let ot=Lr(pe.data);m.fetchers.set(j,ot)}So(wn),m.navigation.state==="loading"&&wn>F?(Te(y,"Expected pending action"),C&&C.abort(),cn(m.navigation.location,{matches:dn,loaderData:_t,errors:wt,fetchers:new Map(m.fetchers)})):(tt({errors:wt,loaderData:fy(m.loaderData,_t,dn,wt),fetchers:new Map(m.fetchers)}),z=!1)}async function gl(j,$,K,J,ie,le,he){let re=m.fetchers.get(j);ze(j,Wo(he,re?re.data:void 0),{flushSync:le});let ge=new AbortController,ye=ys(t.history,K,ge.signal);L.set(j,ge);let dt=M,pe=(await Qn("loader",ye,[J],ie))[0];if(Oi(pe)&&(pe=await sw(pe,ye.signal,!0)||pe),L.get(j)===ge&&L.delete(j),!ye.signal.aborted){if(se.has(j)){ze(j,Lr(void 0));return}if(Li(pe))if(F>dt){ze(j,Lr(void 0));return}else{W.add(j),await Ti(ye,pe);return}if(mn(pe)){it(j,$,pe.error);return}Te(!Oi(pe),"Unhandled fetcher deferred data"),ze(j,Lr(pe.data))}}async function Ti(j,$,K){let{submission:J,fetcherSubmission:ie,replace:le}=K===void 0?{}:K;$.response.headers.has("X-Remix-Revalidate")&&(z=!0);let he=$.response.headers.get("Location");Te(he,"Expected a Location header on the redirect Response"),he=cy(he,new URL(j.url),u);let re=Ma(m.location,he,{_isRedirect:!0});if(n){let je=!1;if($.response.headers.has("X-Remix-Reload-Document"))je=!0;else if(Ip.test(he)){const Qe=t.history.createURL(he);je=Qe.origin!==e.location.origin||yr(Qe.pathname,u)==null}if(je){le?e.location.replace(he):e.location.assign(he);return}}C=null;let ge=le===!0?lt.Replace:lt.Push,{formMethod:ye,formAction:dt,formEncType:He}=m.navigation;!J&&!ie&&ye&&dt&&He&&(J=vy(m.navigation));let pe=J||ie;if(uC.has($.response.status)&&pe&&Cn(pe.formMethod))await bn(ge,re,{submission:Ye({},pe,{formAction:he}),preventScrollReset:T});else{let je=Fd(re,J);await bn(ge,re,{overrideNavigation:je,fetcherSubmission:ie,preventScrollReset:T})}}async function Qn(j,$,K,J){try{let ie=await yC(c,j,$,K,J,s,i);return await Promise.all(ie.map((le,he)=>{if(IC(le)){let re=le.result;return{type:qe.redirect,response:wC(re,$,K[he].route.id,J,u,d.v7_relativeSplatPath)}}return _C(le)}))}catch(ie){return K.map(()=>({type:qe.error,error:ie}))}}async function as(j,$,K,J,ie){let[le,...he]=await Promise.all([K.length?Qn("loader",ie,K,$):[],...J.map(re=>{if(re.matches&&re.match&&re.controller){let ge=ys(t.history,re.path,re.controller.signal);return Qn("loader",ge,[re.match],re.matches).then(ye=>ye[0])}else return Promise.resolve({type:qe.error,error:hn(404,{pathname:re.path})})})]);return await Promise.all([yy(j,K,le,le.map(()=>ie.signal),!1,m.loaderData),yy(j,J.map(re=>re.match),he,J.map(re=>re.controller?re.controller.signal:null),!0)]),{loaderResults:le,fetcherResults:he}}function ls(){z=!0,q.push(...ds()),G.forEach((j,$)=>{L.has($)&&(ne.push($),Dn($))})}function ze(j,$,K){K===void 0&&(K={}),m.fetchers.set(j,$),tt({fetchers:new Map(m.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function it(j,$,K,J){J===void 0&&(J={});let ie=ha(m.matches,$);Si(j),tt({errors:{[ie.route.id]:K},fetchers:new Map(m.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Ii(j){return d.v7_fetcherPersist&&(te.set(j,(te.get(j)||0)+1),se.has(j)&&se.delete(j)),m.fetchers.get(j)||cC}function Si(j){let $=m.fetchers.get(j);L.has(j)&&!($&&$.state==="loading"&&B.has(j))&&Dn(j),G.delete(j),B.delete(j),W.delete(j),se.delete(j),m.fetchers.delete(j)}function yl(j){if(d.v7_fetcherPersist){let $=(te.get(j)||0)-1;$<=0?(te.delete(j),se.add(j)):te.set(j,$)}else Si(j);tt({fetchers:new Map(m.fetchers)})}function Dn(j){let $=L.get(j);Te($,"Expected fetch controller: "+j),$.abort(),L.delete(j)}function Cr(j){for(let $ of j){let K=Ii($),J=Lr(K.data);m.fetchers.set($,J)}}function Io(){let j=[],$=!1;for(let K of W){let J=m.fetchers.get(K);Te(J,"Expected fetcher: "+K),J.state==="loading"&&(W.delete(K),j.push(K),$=!0)}return Cr(j),$}function So(j){let $=[];for(let[K,J]of B)if(J<j){let ie=m.fetchers.get(K);Te(ie,"Expected fetcher: "+K),ie.state==="loading"&&(Dn(K),B.delete(K),$.push(K))}return Cr($),$.length>0}function Co(j,$){let K=m.blockers.get(j)||$o;return ue.get(j)!==$&&ue.set(j,$),K}function vl(j){m.blockers.delete(j),ue.delete(j)}function us(j,$){let K=m.blockers.get(j)||$o;Te(K.state==="unblocked"&&$.state==="blocked"||K.state==="blocked"&&$.state==="blocked"||K.state==="blocked"&&$.state==="proceeding"||K.state==="blocked"&&$.state==="unblocked"||K.state==="proceeding"&&$.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+$.state);let J=new Map(m.blockers);J.set(j,$),tt({blockers:J})}function cs(j){let{currentLocation:$,nextLocation:K,historyAction:J}=j;if(ue.size===0)return;ue.size>1&&Js(!1,"A router only supports one blocker at a time");let ie=Array.from(ue.entries()),[le,he]=ie[ie.length-1],re=m.blockers.get(le);if(!(re&&re.state==="proceeding")&&he({currentLocation:$,nextLocation:K,historyAction:J}))return le}function ds(j){let $=[];return de.forEach((K,J)=>{(!j||j(J))&&(K.cancel(),$.push(J),de.delete(J))}),$}function _l(j,$,K){if(E=j,A=$,w=K||null,!N&&m.navigation===jd){N=!0;let J=hs(m.location,m.matches);J!=null&&tt({restoreScrollPosition:J})}return()=>{E=null,A=null,w=null}}function xr(j,$){return w&&w(j,$.map(J=>zS(J,m.loaderData)))||j.key}function xo(j,$){if(E&&A){let K=xr(j,$);E[K]=A()}}function hs(j,$){if(E){let K=xr(j,$),J=E[K];if(typeof J=="number")return J}return null}function Yn(j){s={},a=Hh(j,i,void 0,s)}return b={get basename(){return u},get future(){return d},get state(){return m},get routes(){return o},get window(){return e},initialize:Ae,subscribe:Ve,enableScrollRestoration:_l,navigate:os,fetch:ml,revalidate:Eo,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:Ii,deleteFetcher:yl,dispose:Ne,getBlocker:Co,deleteBlocker:vl,_internalFetchControllers:L,_internalActiveDeferreds:de,_internalSetRoutes:Yn},b}function fC(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Kh(t,e,n,r,i,s,o,a){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let d=Rc(i||".",Ac(u,s),yr(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Sp(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:cr([n,d.pathname])),qi(d)}function oy(t,e,n,r){if(!r||!fC(r))return{path:n};if(r.formMethod&&!CC(r.formMethod))return{path:n,error:hn(405,{method:r.formMethod})};let i=()=>({path:n,error:hn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=rw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Cn(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,w)=>{let[A,N]=w;return""+E+A+"="+N+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Cn(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Gh(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Gh(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=dy(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=dy(u)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Cn(d.formMethod))return{path:n,submission:d};let f=yi(n);return e&&f.search&&Sp(f.search)&&u.append("index",""),f.search="?"+u,{path:qi(f),submission:d}}function pC(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function ay(t,e,n,r,i,s,o,a,u,c,d,f,p,E,w,A){let N=A?mn(A[1])?A[1].error:A[1].data:void 0,I=t.createURL(e.location),_=t.createURL(i),v=A&&mn(A[1])?A[0]:void 0,x=v?pC(n,v):n,D=A?A[1].statusCode:void 0,b=o&&D&&D>=400,m=x.filter((T,C)=>{let{route:k}=T;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(mC(e.loaderData,e.matches[C],T)||u.some(Z=>Z===T.route.id))return!0;let O=e.matches[C],R=T;return ly(T,Ye({currentUrl:I,currentParams:O.params,nextUrl:_,nextParams:R.params},r,{actionResult:N,unstable_actionStatus:D,defaultShouldRevalidate:b?!1:a||I.pathname+I.search===_.pathname+_.search||I.search!==_.search||nw(O,R)}))}),y=[];return f.forEach((T,C)=>{if(s||!n.some(z=>z.route.id===T.routeId)||d.has(C))return;let k=Ds(E,T.path,w);if(!k){y.push({key:C,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(C),R=Qh(k,T.path),Z=!1;p.has(C)?Z=!1:c.includes(C)?Z=!0:O&&O.state!=="idle"&&O.data===void 0?Z=a:Z=ly(R,Ye({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:N,unstable_actionStatus:D,defaultShouldRevalidate:b?!1:a})),Z&&y.push({key:C,routeId:T.routeId,path:T.path,matches:k,match:R,controller:new AbortController})}),[m,y]}function mC(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function nw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ly(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function uy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Js(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!FS.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ye({},e(i),{lazy:void 0}))}function gC(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function yC(t,e,n,r,i,s,o,a){let u=r.reduce((f,p)=>f.add(p.route.id),new Set),c=new Set,d=await t({matches:i.map(f=>{let p=u.has(f.route.id);return Ye({},f,{shouldLoad:p,resolve:w=>(c.add(f.route.id),p?vC(e,n,f,s,o,w,a):Promise.resolve({type:qe.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(f=>Te(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((f,p)=>u.has(i[p].route.id))}async function vC(t,e,n,r,i,s,o){let a,u,c=d=>{let f,p=new Promise((A,N)=>f=N);u=()=>f(),e.signal.addEventListener("abort",u);let E=A=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...A!==void 0?[A]:[]),w;return s?w=s(A=>E(A)):w=(async()=>{try{return{type:"data",result:await E()}}catch(A){return{type:"error",result:A}}})(),Promise.race([w,p])};try{let d=n.route[t];if(n.route.lazy)if(d){let f,[p]=await Promise.all([c(d).catch(E=>{f=E}),uy(n.route,i,r)]);if(f!==void 0)throw f;a=p}else if(await uy(n.route,i,r),d=n.route[t],d)a=await c(d);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw hn(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:qe.data,result:void 0};else if(d)a=await c(d);else{let f=new URL(e.url),p=f.pathname+f.search;throw hn(404,{pathname:p})}Te(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:qe.error,result:d}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function _C(t){let{result:e,type:n,status:r}=t;if(iw(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:qe.error,error:a}}return n===qe.error?{type:qe.error,error:new Ep(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:qe.data,data:o,statusCode:e.status,headers:e.headers}}if(n===qe.error)return{type:qe.error,error:e,statusCode:Tp(e)?e.status:r};if(SC(e)){var i,s;return{type:qe.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:qe.data,data:e,statusCode:r}}function wC(t,e,n,r,i,s){let o=t.headers.get("Location");if(Te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ip.test(o)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Kh(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function cy(t,e,n){if(Ip.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=yr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function ys(t,e,n,r){let i=t.createURL(rw(e)).toString(),s={signal:n};if(r&&Cn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Gh(r.formData):s.body=r.formData}return new Request(i,s)}function Gh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function dy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function EC(t,e,n,r,i,s){let o={},a=null,u,c=!1,d={},f=r&&mn(r[1])?r[1].error:void 0;return n.forEach((p,E)=>{let w=e[E].route.id;if(Te(!Li(p),"Cannot handle redirect results in processLoaderData"),mn(p)){let A=p.error;f!==void 0&&(A=f,f=void 0),a=a||{};{let N=ha(t,w);a[N.route.id]==null&&(a[N.route.id]=A)}o[w]=void 0,c||(c=!0,u=Tp(p.error)?p.error.status:500),p.headers&&(d[w]=p.headers)}else Oi(p)?(i.set(w,p.deferredData),o[w]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(u=p.statusCode),p.headers&&(d[w]=p.headers)):(o[w]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(u=p.statusCode),p.headers&&(d[w]=p.headers))}),f!==void 0&&r&&(a={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:d}}function hy(t,e,n,r,i,s,o,a){let{loaderData:u,errors:c}=EC(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:p,controller:E}=s[d];Te(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let w=o[d];if(!(E&&E.signal.aborted))if(mn(w)){let A=ha(t.matches,p==null?void 0:p.route.id);c&&c[A.route.id]||(c=Ye({},c,{[A.route.id]:w.error})),t.fetchers.delete(f)}else if(Li(w))Te(!1,"Unhandled fetcher revalidation redirect");else if(Oi(w))Te(!1,"Unhandled fetcher deferred data");else{let A=Lr(w.data);t.fetchers.set(f,A)}}return{loaderData:u,errors:c}}function fy(t,e,n,r){let i=Ye({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function py(t){return t?mn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ha(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function my(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Ep(t||500,o,new Error(a),!0)}function gy(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Li(n))return{result:n,idx:e}}}function rw(t){let e=typeof t=="string"?yi(t):t;return qi(Ye({},e,{hash:""}))}function TC(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function IC(t){return iw(t.result)&&lC.has(t.result.status)}function Oi(t){return t.type===qe.deferred}function mn(t){return t.type===qe.error}function Li(t){return(t&&t.type)===qe.redirect}function SC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function iw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CC(t){return aC.has(t.toLowerCase())}function Cn(t){return sC.has(t.toLowerCase())}async function yy(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=e[o];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),d=c!=null&&!nw(c,u)&&(s&&s[u.route.id])!==void 0;if(Oi(a)&&(i||d)){let f=r[o];Te(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await sw(a,f,i).then(p=>{p&&(n[o]=p||n[o])})}}}async function sw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:qe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:qe.error,error:i}}return{type:qe.data,data:t.deferredData.data}}}function Sp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Qh(t,e){let n=typeof e=="string"?yi(e).search:e.search;if(t[t.length-1].route.index&&Sp(n||""))return t[t.length-1];let r=Z0(t);return r[r.length-1]}function vy(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Fd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function PC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Lr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AC(t,e){try{let n=t.sessionStorage.getItem(tw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function RC(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(tw,JSON.stringify(n))}catch(r){Js(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}const Za=V.createContext(null),Cp=V.createContext(null),Ir=V.createContext(null),xp=V.createContext(null),Gn=V.createContext({outlet:null,matches:[],isDataRoute:!1}),ow=V.createContext(null);function kC(t,e){let{relative:n}=e===void 0?{}:e;fo()||Te(!1);let{basename:r,navigator:i}=V.useContext(Ir),{hash:s,pathname:o,search:a}=kc(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:cr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function fo(){return V.useContext(xp)!=null}function po(){return fo()||Te(!1),V.useContext(xp).location}function aw(t){V.useContext(Ir).static||V.useLayoutEffect(t)}function vi(){let{isDataRoute:t}=V.useContext(Gn);return t?HC():NC()}function NC(){fo()||Te(!1);let t=V.useContext(Za),{basename:e,future:n,navigator:r}=V.useContext(Ir),{matches:i}=V.useContext(Gn),{pathname:s}=po(),o=JSON.stringify(Ac(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return aw(()=>{a.current=!0}),V.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Rc(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:cr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const bC=V.createContext(null);function DC(t){let e=V.useContext(Gn).outlet;return e&&V.createElement(bC.Provider,{value:t},e)}function OC(){let{matches:t}=V.useContext(Gn),e=t[t.length-1];return e?e.params:{}}function kc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Ir),{matches:i}=V.useContext(Gn),{pathname:s}=po(),o=JSON.stringify(Ac(i,r.v7_relativeSplatPath));return V.useMemo(()=>Rc(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function LC(t,e,n,r){fo()||Te(!1);let{navigator:i}=V.useContext(Ir),{matches:s}=V.useContext(Gn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=po(),d;d=c;let f=d.pathname||"/",p=f;if(u!=="/"){let A=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=Ds(t,{pathname:p});return UC(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:cr([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:cr([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r)}function MC(){let t=WC(),e=Tp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const VC=V.createElement(MC,null);class jC extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Gn.Provider,{value:this.props.routeContext},V.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FC(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Za);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Gn.Provider,{value:e},r)}function UC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Te(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:E}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!E||E[f.route.id]===void 0);if(f.route.lazy||w){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let E,w=!1,A=null,N=null;n&&(E=a&&f.route.id?a[f.route.id]:void 0,A=f.route.errorElement||VC,u&&(c<0&&p===0?(w=!0,N=null):c===p&&(w=!0,N=f.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,p+1)),_=()=>{let v;return E?v=A:w?v=N:f.route.Component?v=V.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,V.createElement(FC,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?V.createElement(jC,{location:n.location,revalidation:n.revalidation,component:A,error:E,children:_(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):_()},null)}var lw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lw||{}),Ku=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ku||{});function zC(t){let e=V.useContext(Za);return e||Te(!1),e}function BC(t){let e=V.useContext(Cp);return e||Te(!1),e}function $C(t){let e=V.useContext(Gn);return e||Te(!1),e}function uw(t){let e=$C(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function WC(){var t;let e=V.useContext(ow),n=BC(Ku.UseRouteError),r=uw(Ku.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HC(){let{router:t}=zC(lw.UseNavigateStable),e=uw(Ku.UseNavigateStable),n=V.useRef(!1);return aw(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qu({fromRouteId:e},s)))},[t,e])}function qC(t){let{to:e,replace:n,state:r,relative:i}=t;fo()||Te(!1);let{future:s,static:o}=V.useContext(Ir),{matches:a}=V.useContext(Gn),{pathname:u}=po(),c=vi(),d=Rc(e,Ac(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return V.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function KC(t){return DC(t.context)}function GC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lt.Pop,navigator:s,static:o=!1,future:a}=t;fo()&&Te(!1);let u=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:u,navigator:s,static:o,future:qu({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=yi(r));let{pathname:d="/",search:f="",hash:p="",state:E=null,key:w="default"}=r,A=V.useMemo(()=>{let N=yr(d,u);return N==null?null:{location:{pathname:N,search:f,hash:p,state:E,key:w},navigationType:i}},[u,d,f,p,E,w,i]);return A==null?null:V.createElement(Ir.Provider,{value:c},V.createElement(xp.Provider,{children:n,value:A}))}new Promise(()=>{});function QC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:V.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:V.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:V.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(this,arguments)}function cw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XC(t,e){return t.button===0&&(!e||e==="_self")&&!YC(t)}const JC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],ex="6";try{window.__reactRouterVersion=ex}catch{}function tx(t,e){return hC({basename:void 0,future:Zs({},void 0,{v7_prependBasename:!0}),history:MS({window:void 0}),hydrationData:nx(),routes:t,mapRouteProperties:QC,unstable_dataStrategy:void 0,window:void 0}).initialize()}function nx(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Zs({},e,{errors:rx(e.errors)})),e}function rx(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ep(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const dw=V.createContext({isTransitioning:!1}),ix=V.createContext(new Map),sx="startTransition",_y=IT[sx],ox="flushSync",wy=LS[ox];function ax(t){_y?_y(t):t()}function Ho(t){wy?wy(t):t()}let lx=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function ux(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=V.useState(n.state),[o,a]=V.useState(),[u,c]=V.useState({isTransitioning:!1}),[d,f]=V.useState(),[p,E]=V.useState(),[w,A]=V.useState(),N=V.useRef(new Map),{v7_startTransition:I}=r||{},_=V.useCallback(m=>{I?ax(m):m()},[I]),v=V.useCallback((m,y)=>{let{deletedFetchers:T,unstable_flushSync:C,unstable_viewTransitionOpts:k}=y;T.forEach(R=>N.current.delete(R)),m.fetchers.forEach((R,Z)=>{R.data!==void 0&&N.current.set(Z,R.data)});let O=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||O){C?Ho(()=>s(m)):_(()=>s(m));return}if(C){Ho(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let R=n.window.document.startViewTransition(()=>{Ho(()=>s(m))});R.finished.finally(()=>{Ho(()=>{f(void 0),E(void 0),a(void 0),c({isTransitioning:!1})})}),Ho(()=>E(R));return}p?(d&&d.resolve(),p.skipTransition(),A({state:m,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(m),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,d,N,_]);V.useLayoutEffect(()=>n.subscribe(v),[n,v]),V.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new lx)},[u]),V.useEffect(()=>{if(d&&o&&n.window){let m=o,y=d.promise,T=n.window.document.startViewTransition(async()=>{_(()=>s(m)),await y});T.finished.finally(()=>{f(void 0),E(void 0),a(void 0),c({isTransitioning:!1})}),E(T)}},[_,o,d,n.window]),V.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),V.useEffect(()=>{!u.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),A(void 0))},[u.isTransitioning,w]),V.useEffect(()=>{},[]);let x=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:m=>n.navigate(m),push:(m,y,T)=>n.navigate(m,{state:y,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(m,y,T)=>n.navigate(m,{replace:!0,state:y,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),D=n.basename||"/",b=V.useMemo(()=>({router:n,navigator:x,static:!1,basename:D}),[n,x,D]);return V.createElement(V.Fragment,null,V.createElement(Za.Provider,{value:b},V.createElement(Cp.Provider,{value:i},V.createElement(ix.Provider,{value:N.current},V.createElement(dw.Provider,{value:u},V.createElement(GC,{basename:D,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?V.createElement(cx,{routes:n.routes,future:n.future,state:i}):e))))),null)}function cx(t){let{routes:e,future:n,state:r}=t;return LC(e,void 0,r,n)}const dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pp=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=cw(e,JC),{basename:E}=V.useContext(Ir),w,A=!1;if(typeof c=="string"&&hx.test(c)&&(w=c,dx))try{let v=new URL(window.location.href),x=c.startsWith("//")?new URL(v.protocol+c):new URL(c),D=yr(x.pathname,E);x.origin===v.origin&&D!=null?c=D+x.search+x.hash:A=!0}catch{}let N=kC(c,{relative:i}),I=px(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function _(v){r&&r(v),v.defaultPrevented||I(v)}return V.createElement("a",Zs({},p,{href:w||N,onClick:A||s?r:_,ref:n,target:u}))}),Yh=V.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:c,children:d}=e,f=cw(e,ZC),p=kc(u,{relative:f.relative}),E=po(),w=V.useContext(Cp),{navigator:A,basename:N}=V.useContext(Ir),I=w!=null&&mx(p)&&c===!0,_=A.encodeLocation?A.encodeLocation(p).pathname:p.pathname,v=E.pathname,x=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(v=v.toLowerCase(),x=x?x.toLowerCase():null,_=_.toLowerCase()),x&&N&&(x=yr(x,N)||x);const D=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let b=v===_||!o&&v.startsWith(_)&&v.charAt(D)==="/",m=x!=null&&(x===_||!o&&x.startsWith(_)&&x.charAt(_.length)==="/"),y={isActive:b,isPending:m,isTransitioning:I},T=b?r:void 0,C;typeof s=="function"?C=s(y):C=[s,b?"active":null,m?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(y):a;return V.createElement(Pp,Zs({},f,{"aria-current":T,className:C,ref:n,style:k,to:u,unstable_viewTransition:c}),typeof d=="function"?d(y):d)});var Xh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xh||(Xh={}));var Ey;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ey||(Ey={}));function fx(t){let e=V.useContext(Za);return e||Te(!1),e}function px(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=vi(),c=po(),d=kc(t,{relative:o});return V.useCallback(f=>{if(XC(f,n)){f.preventDefault();let p=r!==void 0?r:qi(c)===qi(d);u(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}function mx(t,e){e===void 0&&(e={});let n=V.useContext(dw);n==null&&Te(!1);let{basename:r}=fx(Xh.useViewTransitionState),i=kc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=yr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=yr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qh(i.pathname,o)!=null||qh(i.pathname,s)!=null}var hw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ty=Se.createContext&&Se.createContext(hw),gx=["attr","size","title"];function yx(t,e){if(t==null)return{};var n=vx(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vx(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gu(){return Gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gu.apply(this,arguments)}function Iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iy(Object(n),!0).forEach(function(r){_x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _x(t,e,n){return e=wx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wx(t){var e=Ex(t,"string");return typeof e=="symbol"?e:e+""}function Ex(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fw(t){return t&&t.map((e,n)=>Se.createElement(e.tag,Qu({key:n},e.attr),fw(e.child)))}function Ap(t){return e=>Se.createElement(Tx,Gu({attr:Qu({},t.attr)},e),fw(t.child))}function Tx(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=yx(t,gx),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Se.createElement("svg",Gu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Qu(Qu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Se.createElement("title",null,s),t.children)};return Ty!==void 0?Se.createElement(Ty.Consumer,null,n=>e(n)):e(hw)}function Ix(t){return Ap({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48c-42.9 0-84.2 13-119.2 37.5-34.2 24-60.2 57.2-75.1 96.1L58 192h45.7l1.9-5c8.2-17.8 19.4-33.9 33.5-48 31.2-31.2 72.7-48.4 116.9-48.4s85.7 17.2 116.9 48.4c31.2 31.2 48.4 72.7 48.4 116.9 0 44.1-17.2 85.7-48.4 116.9-31.2 31.2-72.7 48.4-116.9 48.4-44.1 0-85.6-17.2-116.9-48.4-14-14-25.3-30.1-33.5-47.9l-1.9-5H58l3.6 10.4c14.9 38.9 40.9 72.1 75.1 96.1C171.8 451.1 213 464 256 464c114.7 0 208-93.3 208-208S370.7 48 256 48z"},child:[]},{tag:"path",attr:{d:"M48 277.4h189.7l-43.6 44.7L224 352l96-96-96-96-31 29.9 44.7 44.7H48v42.8z"},child:[]}]})(t)}function Sx(t){return Ap({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(t)}const ns=V.createContext(),Cx=({children:t})=>{const[e,n]=V.useState({name:"John Doe",email:"john@example.com"});return S.jsx(ns.Provider,{value:{user:e,setUser:n},children:t})};function xx(t){return Ap({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(t)}var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Px=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,E=c&63;u||(E=64,o||(p=64)),r.push(n[d],n[f],n[p],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Px(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Ax;const p=s<<2|a>>4;if(r.push(p),c!==64){const E=a<<4&240|c>>2;if(r.push(E),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rx=function(t){const e=pw(t);return mw.encodeByteArray(e,!0)},Yu=function(t){return Rx(t).replace(/\./g,"")},gw=function(t){try{return mw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=()=>kx().__FIREBASE_DEFAULTS__,bx=()=>{if(typeof process>"u"||typeof Sy>"u")return;const t=Sy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gw(t[1]);return e&&JSON.parse(e)},Nc=()=>{try{return Nx()||bx()||Dx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yw=t=>{var e,n;return(n=(e=Nc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ox=t=>{const e=yw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vw=()=>{var t;return(t=Nc())===null||t===void 0?void 0:t.config},_w=t=>{var e;return(e=Nc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function jx(){var t;const e=(t=Nc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zx(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bx(){return!jx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $x(){try{return typeof indexedDB=="object"}catch{return!1}}function Wx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="FirebaseError";class Sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hx,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,el.prototype.create)}}class el{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Sr(i,a,r)}}function qx(t,e){return t.replace(Kx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Kx=/\{\$([^}]+)}/g;function Gx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Cy(s)&&Cy(o)){if(!Va(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Qx(t,e){const n=new Yx(t,e);return n.subscribe.bind(n)}class Yx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ud),i.error===void 0&&(i.error=Ud),i.complete===void 0&&(i.complete=Ud);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eP(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zx(t){return t===ki?void 0:t}function eP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const nP={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},rP=Pe.INFO,iP={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},sP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=rP,this._logHandler=sP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const oP=(t,e)=>e.some(n=>t instanceof n);let xy,Py;function aP(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lP(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ww=new WeakMap,Jh=new WeakMap,Ew=new WeakMap,zd=new WeakMap,kp=new WeakMap;function uP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ww.set(n,t)}).catch(()=>{}),kp.set(e,t),e}function cP(t){if(Jh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jh.set(t,e)}let Zh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ew.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dP(t){Zh=t(Zh)}function hP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bd(this),e,...n);return Ew.set(r,e.sort?e.sort():[e]),ni(r)}:lP().includes(t)?function(...e){return t.apply(Bd(this),e),ni(ww.get(this))}:function(...e){return ni(t.apply(Bd(this),e))}}function fP(t){return typeof t=="function"?hP(t):(t instanceof IDBTransaction&&cP(t),oP(t,aP())?new Proxy(t,Zh):t)}function ni(t){if(t instanceof IDBRequest)return uP(t);if(zd.has(t))return zd.get(t);const e=fP(t);return e!==t&&(zd.set(t,e),kp.set(e,t)),e}const Bd=t=>kp.get(t);function pP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ni(o.result),u.oldVersion,u.newVersion,ni(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mP=["get","getKey","getAll","getAllKeys","count"],gP=["put","add","delete","clear"],$d=new Map;function Ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mP.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return $d.set(e,s),s}dP(t=>({...t,get:(e,n,r)=>Ay(e,n)||t.get(e,n,r),has:(e,n)=>!!Ay(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ef="@firebase/app",Ry="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Rp("@firebase/app"),_P="@firebase/app-compat",wP="@firebase/analytics-compat",EP="@firebase/analytics",TP="@firebase/app-check-compat",IP="@firebase/app-check",SP="@firebase/auth",CP="@firebase/auth-compat",xP="@firebase/database",PP="@firebase/database-compat",AP="@firebase/functions",RP="@firebase/functions-compat",kP="@firebase/installations",NP="@firebase/installations-compat",bP="@firebase/messaging",DP="@firebase/messaging-compat",OP="@firebase/performance",LP="@firebase/performance-compat",MP="@firebase/remote-config",VP="@firebase/remote-config-compat",jP="@firebase/storage",FP="@firebase/storage-compat",UP="@firebase/firestore",zP="@firebase/vertexai-preview",BP="@firebase/firestore-compat",$P="firebase",WP="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="[DEFAULT]",HP={[ef]:"fire-core",[_P]:"fire-core-compat",[EP]:"fire-analytics",[wP]:"fire-analytics-compat",[IP]:"fire-app-check",[TP]:"fire-app-check-compat",[SP]:"fire-auth",[CP]:"fire-auth-compat",[xP]:"fire-rtdb",[PP]:"fire-rtdb-compat",[AP]:"fire-fn",[RP]:"fire-fn-compat",[kP]:"fire-iid",[NP]:"fire-iid-compat",[bP]:"fire-fcm",[DP]:"fire-fcm-compat",[OP]:"fire-perf",[LP]:"fire-perf-compat",[MP]:"fire-rc",[VP]:"fire-rc-compat",[jP]:"fire-gcs",[FP]:"fire-gcs-compat",[UP]:"fire-fst",[BP]:"fire-fst-compat",[zP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,qP=new Map,nf=new Map;function ky(t,e){try{t.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(nf.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;nf.set(e,t);for(const n of Xu.values())ky(n,t);for(const n of qP.values())ky(n,t);return!0}function Np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new el("app","Firebase",KP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=WP;function Tw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=vw()),!n)throw ri.create("no-options");const s=Xu.get(i);if(s){if(Va(n,s.options)&&Va(r,s.config))return s;throw ri.create("duplicate-app",{appName:i})}const o=new tP(i);for(const u of nf.values())o.addComponent(u);const a=new GP(n,r,o);return Xu.set(i,a),a}function Iw(t=tf){const e=Xu.get(t);if(!e&&t===tf&&vw())return Tw();if(!e)throw ri.create("no-app",{appName:t});return e}function ii(t,e,n){var r;let i=(r=HP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(a.join(" "));return}eo(new Ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="firebase-heartbeat-database",YP=1,ja="firebase-heartbeat-store";let Wd=null;function Sw(){return Wd||(Wd=pP(QP,YP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),Wd}async function XP(t){try{const n=(await Sw()).transaction(ja),r=await n.objectStore(ja).get(Cw(t));return await n.done,r}catch(e){if(e instanceof Sr)Gi.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function Ny(t,e){try{const r=(await Sw()).transaction(ja,"readwrite");await r.objectStore(ja).put(e,Cw(t)),await r.done}catch(n){if(n instanceof Sr)Gi.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function Cw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=1024,ZP=30*24*60*60*1e3;class eA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=by();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ZP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=by(),{heartbeatsToSend:r,unsentEntries:i}=tA(this._heartbeatsCache.heartbeats),s=Yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function by(){return new Date().toISOString().substring(0,10)}function tA(t,e=JP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Dy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $x()?Wx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Dy(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){eo(new Ki("platform-logger",e=>new yP(e),"PRIVATE")),eo(new Ki("heartbeat",e=>new eA(e),"PRIVATE")),ii(ef,Ry,t),ii(ef,Ry,"esm2017"),ii("fire-js","")}rA("");function bp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iA=xw,Pw=new el("auth","Firebase",xw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Rp("@firebase/auth");function sA(t,...e){Ju.logLevel<=Pe.WARN&&Ju.warn(`Auth (${mo}): ${t}`,...e)}function hu(t,...e){Ju.logLevel<=Pe.ERROR&&Ju.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw Dp(t,...e)}function zn(t,...e){return Dp(t,...e)}function Aw(t,e,n){const r=Object.assign(Object.assign({},iA()),{[e]:n});return new el("auth","Firebase",r).create(e,{appName:t.name})}function dr(t){return Aw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Pw.create(t,...e)}function me(t,e,...n){if(!t)throw Dp(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hu(e),new Error(e)}function vr(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oA(){return Oy()==="http:"||Oy()==="https:"}function Oy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oA()||Fx()||"connection"in navigator)?navigator.onLine:!0}function lA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=Vx()||Ux()}get(){return aA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t,e){vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new nl(3e4,6e4);function _i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wi(t,e,n,r,i={}){return kw(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=tl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Rw.fetch()(Nw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function kw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uA),e);try{const i=new hA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Kl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Kl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Kl(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Aw(t,d,c);Nn(t,d)}}catch(i){if(i instanceof Sr)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function rl(t,e,n,r,i={}){const s=await wi(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Nw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Op(t.config,i):`${t.config.apiScheme}://${i}`}function dA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),cA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}function Ly(t){return t!==void 0&&t.enterprise!==void 0}class fA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pA(t,e){return wi(t,"GET","/v2/recaptchaConfig",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(t,e){return wi(t,"POST","/v1/accounts:delete",e)}async function bw(t,e){return wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gA(t,e=!1){const n=$t(t),r=await n.getIdToken(e),i=Lp(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fa(Hd(i.auth_time)),issuedAtTime:fa(Hd(i.iat)),expirationTime:fa(Hd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function Lp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hu("JWT malformed, contained fewer than 3 sections"),null;try{const i=gw(n);return i?JSON.parse(i):(hu("Failed to decode base64 JWT payload"),null)}catch(i){return hu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function My(t){const e=Lp(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sr&&yA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fa(t,bw(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Dw(s.providerUserInfo):[],a=wA(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function _A(t){const e=$t(t);await Zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dw(t){return t.map(e=>{var{providerId:n}=e,r=bp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e){const n=await kw(t,{},async()=>{const r=tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Nw(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TA(t,e){return wi(t,"POST","/v2/accounts:revokeToken",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):My(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=My(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zs;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=bp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fa(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gA(this,e)}reload(){return _A(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Fa(this,mA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:x,isAnonymous:D,providerData:b,stsTokenManager:m}=n;me(v&&m,e,"internal-error");const y=zs.fromJSON(this.name,m);me(typeof v=="string",e,"internal-error"),Or(f,e.name),Or(p,e.name),me(typeof x=="boolean",e,"internal-error"),me(typeof D=="boolean",e,"internal-error"),Or(E,e.name),Or(w,e.name),Or(A,e.name),Or(N,e.name),Or(I,e.name),Or(_,e.name);const T=new ar({uid:v,auth:e,email:p,emailVerified:x,displayName:f,isAnonymous:D,photoURL:w,phoneNumber:E,tenantId:A,stsTokenManager:y,createdAt:I,lastLoginAt:_});return b&&Array.isArray(b)&&(T.providerData=b.map(C=>Object.assign({},C))),N&&(T._redirectEventId=N),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const s=new ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Dw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new zs;a.updateFromIdToken(r);const u=new ar({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;function lr(t){vr(t instanceof Function,"Expected a class definition");let e=Vy.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ow.type="NONE";const jy=Ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fu(this.userKey,i.apiKey,s),this.fullPersistenceKey=fu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(lr(jy),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||lr(jy);const o=fu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=ar._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Bs(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fw(e))return"Blackberry";if(Uw(e))return"Webos";if(Mp(e))return"Safari";if((e.includes("chrome/")||Mw(e))&&!e.includes("edge/"))return"Chrome";if(jw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lw(t=At()){return/firefox\//i.test(t)}function Mp(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mw(t=At()){return/crios\//i.test(t)}function Vw(t=At()){return/iemobile/i.test(t)}function jw(t=At()){return/android/i.test(t)}function Fw(t=At()){return/blackberry/i.test(t)}function Uw(t=At()){return/webos/i.test(t)}function bc(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IA(t=At()){var e;return bc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SA(){return zx()&&document.documentMode===10}function zw(t=At()){return bc(t)||jw(t)||Uw(t)||Fw(t)||/windows phone/i.test(t)||Vw(t)}function CA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e=[]){let n;switch(t){case"Browser":n=Fy(At());break;case"Worker":n=`${Fy(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e={}){return wi(t,"GET","/v2/passwordPolicy",_i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=6;class RA{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:AA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uy(this),this.idTokenSubscription=new Uy(this),this.beforeStateQueue=new xA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bw(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(dr(this));const n=e?$t(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PA(this),n=new RA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new el("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(t){return $t(t)}class Uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qx(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NA(t){Dc=t}function $w(t){return Dc.loadJS(t)}function bA(){return Dc.recaptchaEnterpriseScript}function DA(){return Dc.gapiScript}function OA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const LA="recaptcha-enterprise",MA="NO_RECAPTCHA";class VA{constructor(e){this.type=LA,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{pA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new fA(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Ly(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(MA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ly(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=bA();u.length!==0&&(u+=a),$w(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function zy(t,e,n,r=!1){const i=new VA(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function of(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await zy(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await zy(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){const n=Np(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Va(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function FA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UA(t,e,n){const r=rs(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Ww(e),{host:o,port:a}=zA(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),BA()}function Ww(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zA(t){const e=Ww(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:By(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:By(o)}}}function By(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function $A(t,e){return wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(t,e){return rl(t,"POST","/v1/accounts:signInWithPassword",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}async function qA(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Vp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ua(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ua(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,n,"signInWithPassword",WA);case"emailLink":return HA(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,r,"signUpPassword",$A);case"emailLink":return qA(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(t,e){return rl(t,"POST","/v1/accounts:signInWithIdp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="http://localhost";class Qi extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=bp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $s(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$s(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$s(e,n)}buildRequest(){const e={requestUri:KA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QA(t){const e=Xo(Jo(t)).link,n=e?Xo(Jo(e)).deep_link_id:null,r=Xo(Jo(t)).deep_link_id;return(r?Xo(Jo(r)).link:null)||r||n||e||t}class jp{constructor(e){var n,r,i,s,o,a;const u=Xo(Jo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=GA((i=u.mode)!==null&&i!==void 0?i:null);me(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=QA(e);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Ua._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jp.parseLink(n);return me(r,"argument-error"),Ua._fromEmailAndCode(e,r.code,r.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends il{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qi._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends il{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends il{constructor(){super("twitter.com")}static credential(e,n){return Qi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e){return rl(t,"POST","/v1/accounts:signUp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ar._fromIdTokenResponse(e,r,i),o=$y(r);return new Yi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$y(r);return new Yi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $y(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Sr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ec(e,n,r,i)}}function qw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ec._fromErrorAndOperation(t,s,e,r):s})}async function XA(t,e,n=!1){const r=await Fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(dr(r));const i="reauthenticate";try{const s=await Fa(t,qw(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Lp(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),Yi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(t,e,n=!1){if(jn(t.app))return Promise.reject(dr(t));const r="signIn",i=await qw(t,r,e),s=await Yi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ZA(t,e){return Kw(rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eR(t,e,n){if(jn(t.app))return Promise.reject(dr(t));const r=rs(t),o=await of(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YA).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Gw(t),u}),a=await Yi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function tR(t,e,n){return jn(t.app)?Promise.reject(dr(t)):ZA($t(t),go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gw(t),r})}function nR(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function rR(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}const tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){const t=At();return Mp(t)||bc(t)}const sR=1e3,oR=10;class Yw extends Qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iR()&&CA(),this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);SA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yw.type="LOCAL";const aR=Yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xw.type="SESSION";const Jw=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await lR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Fp("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function cR(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function dR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fR(){return Zw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firebaseLocalStorageDb",pR=1,nc="firebaseLocalStorage",tE="fbase_key";class sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lc(t,e){return t.transaction([nc],e?"readwrite":"readonly").objectStore(nc)}function mR(){const t=indexedDB.deleteDatabase(eE);return new sl(t).toPromise()}function af(){const t=indexedDB.open(eE,pR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nc,{keyPath:tE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nc)?e(r):(r.close(),await mR(),e(await af()))})})}async function Wy(t,e,n){const r=Lc(t,!0).put({[tE]:e,value:n});return new sl(r).toPromise()}async function gR(t,e){const n=Lc(t,!1).get(e),r=await new sl(n).toPromise();return r===void 0?null:r.value}function Hy(t,e){const n=Lc(t,!0).delete(e);return new sl(n).toPromise()}const yR=800,vR=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await af(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oc._getInstance(fR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dR(),!this.activeServiceWorker)return;this.sender=new uR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await af();return await Wy(e,tc,"1"),await Hy(e,tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Lc(i,!1).getAll();return new sl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const _R=nE;new nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e){return e?lr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ER(t){return Kw(t.auth,new Up(t),t.bypassAuthState)}function TR(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),JA(n,new Up(t),t.bypassAuthState)}async function IR(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),XA(n,new Up(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return IR;case"reauthViaPopup":case"reauthViaRedirect":return TR;default:Nn(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new nl(2e3,1e4);class Os extends rE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SR.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="pendingRedirect",pu=new Map;class xR extends rE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const r=await PR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PR(t,e){const n=kR(e),r=RR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AR(t,e){pu.set(t._key(),e)}function RR(t){return lr(t._redirectPersistence)}function kR(t){return fu(CR,t.config.apiKey,t.name)}async function NR(t,e,n=!1){if(jn(t.app))return Promise.reject(dr(t));const r=rs(t),i=wR(r,e),o=await new xR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=10*60*1e3;class DR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(qy(e))}saveEventToCache(e){this.cachedEventUids.add(qy(e)),this.lastProcessedEventTime=Date.now()}}function qy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(t,e={}){return wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;async function jR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LR(t);for(const n of e)try{if(FR(n))return}catch{}Nn(t,"unauthorized-domain")}function FR(t){const e=rf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VR.test(n))return!1;if(MR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new nl(3e4,6e4);function Ky(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zR(t){return new Promise((e,n)=>{var r,i,s;function o(){Ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ky(),n(zn(t,"network-request-failed"))},timeout:UR.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bn().gapi)===null||s===void 0)&&s.load)o();else{const a=OA("iframefcb");return Bn()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},$w(`${DA()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw mu=null,e})}let mu=null;function BR(t){return mu=mu||zR(t),mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new nl(5e3,15e3),WR="__/auth/iframe",HR="emulator/auth/iframe",qR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GR(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Op(e,HR):`https://${t.config.authDomain}/${WR}`,r={apiKey:e.apiKey,appName:t.name,v:mo},i=KR.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tl(r).slice(1)}`}async function QR(t){const e=await BR(t),n=Bn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:GR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qR,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),a=Bn().setTimeout(()=>{s(o)},$R.get());function u(){Bn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XR=500,JR=600,ZR="_blank",ek="http://localhost";class Gy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tk(t,e,n,r=XR,i=JR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},YR),{width:r.toString(),height:i.toString(),top:s,left:o}),c=At().toLowerCase();n&&(a=Mw(c)?ZR:n),Lw(c)&&(e=e||ek,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[E,w])=>`${p}${E}=${w},`,"");if(IA(c)&&a!=="_self")return nk(e||"",a),new Gy(null);const f=window.open(e||"",a,d);me(f,t,"popup-blocked");try{f.focus()}catch{}return new Gy(f)}function nk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="__/auth/handler",ik="emulator/auth/handler",sk=encodeURIComponent("fac");async function Qy(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(e instanceof Hw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof il){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${sk}=${encodeURIComponent(u)}`:"";return`${ok(t)}?${tl(a).slice(1)}${c}`}function ok({config:t}){return t.emulator?Op(t,ik):`https://${t.authDomain}/${rk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class ak{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jw,this._completeRedirectFn=NR,this._overrideRedirectResult=AR}async _openPopup(e,n,r,i){var s;vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Qy(e,n,r,rf(),i);return tk(e,o,Fp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Qy(e,n,r,rf(),i);return cR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QR(e),r=new DR(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qd,{type:qd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[qd];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zw()||Mp()||bc()}}const lk=ak;var Yy="@firebase/auth",Xy="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(t){eo(new Ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bw(t)},c=new kA(r,i,s,u);return FA(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new Ki("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new uk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(Yy,Xy,ck(t)),ii(Yy,Xy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=5*60,fk=_w("authIdTokenMaxAge")||hk;let Jy=null;const pk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fk)return;const i=n==null?void 0:n.token;Jy!==i&&(Jy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ui(t=Iw()){const e=Np(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jA(t,{popupRedirectResolver:lk,persistence:[_R,aR,Jw]}),r=_w("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=pk(s.toString());rR(n,o,()=>o(n.currentUser)),nR(n,a=>o(a))}}const i=yw("auth");return i&&UA(n,`http://${i}`),n}function mk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,sE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,y){function T(){}T.prototype=y.prototype,m.D=y.prototype,m.prototype=new T,m.prototype.constructor=m,m.C=function(C,k,O){for(var R=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)R[Z-2]=arguments[Z];return y.prototype[k].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,y,T){T||(T=0);var C=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)C[k]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(k=0;16>k;++k)C[k]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=m.g[0],T=m.g[1],k=m.g[2];var O=m.g[3],R=y+(O^T&(k^O))+C[0]+3614090360&4294967295;y=T+(R<<7&4294967295|R>>>25),R=O+(k^y&(T^k))+C[1]+3905402710&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(T^O&(y^T))+C[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(y^k&(O^y))+C[3]+3250441966&4294967295,T=k+(R<<22&4294967295|R>>>10),R=y+(O^T&(k^O))+C[4]+4118548399&4294967295,y=T+(R<<7&4294967295|R>>>25),R=O+(k^y&(T^k))+C[5]+1200080426&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(T^O&(y^T))+C[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(y^k&(O^y))+C[7]+4249261313&4294967295,T=k+(R<<22&4294967295|R>>>10),R=y+(O^T&(k^O))+C[8]+1770035416&4294967295,y=T+(R<<7&4294967295|R>>>25),R=O+(k^y&(T^k))+C[9]+2336552879&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(T^O&(y^T))+C[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(y^k&(O^y))+C[11]+2304563134&4294967295,T=k+(R<<22&4294967295|R>>>10),R=y+(O^T&(k^O))+C[12]+1804603682&4294967295,y=T+(R<<7&4294967295|R>>>25),R=O+(k^y&(T^k))+C[13]+4254626195&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(T^O&(y^T))+C[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(y^k&(O^y))+C[15]+1236535329&4294967295,T=k+(R<<22&4294967295|R>>>10),R=y+(k^O&(T^k))+C[1]+4129170786&4294967295,y=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(y^T))+C[6]+3225465664&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^T&(O^y))+C[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^y&(k^O))+C[0]+3921069994&4294967295,T=k+(R<<20&4294967295|R>>>12),R=y+(k^O&(T^k))+C[5]+3593408605&4294967295,y=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(y^T))+C[10]+38016083&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^T&(O^y))+C[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^y&(k^O))+C[4]+3889429448&4294967295,T=k+(R<<20&4294967295|R>>>12),R=y+(k^O&(T^k))+C[9]+568446438&4294967295,y=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(y^T))+C[14]+3275163606&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^T&(O^y))+C[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^y&(k^O))+C[8]+1163531501&4294967295,T=k+(R<<20&4294967295|R>>>12),R=y+(k^O&(T^k))+C[13]+2850285829&4294967295,y=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(y^T))+C[2]+4243563512&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^T&(O^y))+C[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^y&(k^O))+C[12]+2368359562&4294967295,T=k+(R<<20&4294967295|R>>>12),R=y+(T^k^O)+C[5]+4294588738&4294967295,y=T+(R<<4&4294967295|R>>>28),R=O+(y^T^k)+C[8]+2272392833&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^T)+C[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^y)+C[14]+4259657740&4294967295,T=k+(R<<23&4294967295|R>>>9),R=y+(T^k^O)+C[1]+2763975236&4294967295,y=T+(R<<4&4294967295|R>>>28),R=O+(y^T^k)+C[4]+1272893353&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^T)+C[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^y)+C[10]+3200236656&4294967295,T=k+(R<<23&4294967295|R>>>9),R=y+(T^k^O)+C[13]+681279174&4294967295,y=T+(R<<4&4294967295|R>>>28),R=O+(y^T^k)+C[0]+3936430074&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^T)+C[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^y)+C[6]+76029189&4294967295,T=k+(R<<23&4294967295|R>>>9),R=y+(T^k^O)+C[9]+3654602809&4294967295,y=T+(R<<4&4294967295|R>>>28),R=O+(y^T^k)+C[12]+3873151461&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^T)+C[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^y)+C[2]+3299628645&4294967295,T=k+(R<<23&4294967295|R>>>9),R=y+(k^(T|~O))+C[0]+4096336452&4294967295,y=T+(R<<6&4294967295|R>>>26),R=O+(T^(y|~k))+C[7]+1126891415&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~T))+C[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~y))+C[5]+4237533241&4294967295,T=k+(R<<21&4294967295|R>>>11),R=y+(k^(T|~O))+C[12]+1700485571&4294967295,y=T+(R<<6&4294967295|R>>>26),R=O+(T^(y|~k))+C[3]+2399980690&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~T))+C[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~y))+C[1]+2240044497&4294967295,T=k+(R<<21&4294967295|R>>>11),R=y+(k^(T|~O))+C[8]+1873313359&4294967295,y=T+(R<<6&4294967295|R>>>26),R=O+(T^(y|~k))+C[15]+4264355552&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~T))+C[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~y))+C[13]+1309151649&4294967295,T=k+(R<<21&4294967295|R>>>11),R=y+(k^(T|~O))+C[4]+4149444226&4294967295,y=T+(R<<6&4294967295|R>>>26),R=O+(T^(y|~k))+C[11]+3174756917&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~T))+C[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~y))+C[9]+3951481745&4294967295,m.g[0]=m.g[0]+y&4294967295,m.g[1]=m.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,m.g[2]=m.g[2]+k&4294967295,m.g[3]=m.g[3]+O&4294967295}r.prototype.u=function(m,y){y===void 0&&(y=m.length);for(var T=y-this.blockSize,C=this.B,k=this.h,O=0;O<y;){if(k==0)for(;O<=T;)i(this,m,O),O+=this.blockSize;if(typeof m=="string"){for(;O<y;)if(C[k++]=m.charCodeAt(O++),k==this.blockSize){i(this,C),k=0;break}}else for(;O<y;)if(C[k++]=m[O++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var y=1;y<m.length-8;++y)m[y]=0;var T=8*this.o;for(y=m.length-8;y<m.length;++y)m[y]=T&255,T/=256;for(this.u(m),m=Array(16),y=T=0;4>y;++y)for(var C=0;32>C;C+=8)m[T++]=this.g[y]>>>C&255;return m};function s(m,y){var T=a;return Object.prototype.hasOwnProperty.call(T,m)?T[m]:T[m]=y(m)}function o(m,y){this.h=y;for(var T=[],C=!0,k=m.length-1;0<=k;k--){var O=m[k]|0;C&&O==y||(T[k]=O,C=!1)}this.g=T}var a={};function u(m){return-128<=m&&128>m?s(m,function(y){return new o([y|0],0>y?-1:0)}):new o([m|0],0>m?-1:0)}function c(m){if(isNaN(m)||!isFinite(m))return f;if(0>m)return N(c(-m));for(var y=[],T=1,C=0;m>=T;C++)y[C]=m/T|0,T*=4294967296;return new o(y,0)}function d(m,y){if(m.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(m.charAt(0)=="-")return N(d(m.substring(1),y));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(y,8)),C=f,k=0;k<m.length;k+=8){var O=Math.min(8,m.length-k),R=parseInt(m.substring(k,k+O),y);8>O?(O=c(Math.pow(y,O)),C=C.j(O).add(c(R))):(C=C.j(T),C=C.add(c(R)))}return C}var f=u(0),p=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(A(this))return-N(this).m();for(var m=0,y=1,T=0;T<this.g.length;T++){var C=this.i(T);m+=(0<=C?C:4294967296+C)*y,y*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(w(this))return"0";if(A(this))return"-"+N(this).toString(m);for(var y=c(Math.pow(m,6)),T=this,C="";;){var k=x(T,y).g;T=I(T,k.j(y));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(m);if(T=k,w(T))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function w(m){if(m.h!=0)return!1;for(var y=0;y<m.g.length;y++)if(m.g[y]!=0)return!1;return!0}function A(m){return m.h==-1}t.l=function(m){return m=I(this,m),A(m)?-1:w(m)?0:1};function N(m){for(var y=m.g.length,T=[],C=0;C<y;C++)T[C]=~m.g[C];return new o(T,~m.h).add(p)}t.abs=function(){return A(this)?N(this):this},t.add=function(m){for(var y=Math.max(this.g.length,m.g.length),T=[],C=0,k=0;k<=y;k++){var O=C+(this.i(k)&65535)+(m.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(m.i(k)>>>16);C=R>>>16,O&=65535,R&=65535,T[k]=R<<16|O}return new o(T,T[T.length-1]&-2147483648?-1:0)};function I(m,y){return m.add(N(y))}t.j=function(m){if(w(this)||w(m))return f;if(A(this))return A(m)?N(this).j(N(m)):N(N(this).j(m));if(A(m))return N(this.j(N(m)));if(0>this.l(E)&&0>m.l(E))return c(this.m()*m.m());for(var y=this.g.length+m.g.length,T=[],C=0;C<2*y;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<m.g.length;k++){var O=this.i(C)>>>16,R=this.i(C)&65535,Z=m.i(k)>>>16,z=m.i(k)&65535;T[2*C+2*k]+=R*z,_(T,2*C+2*k),T[2*C+2*k+1]+=O*z,_(T,2*C+2*k+1),T[2*C+2*k+1]+=R*Z,_(T,2*C+2*k+1),T[2*C+2*k+2]+=O*Z,_(T,2*C+2*k+2)}for(C=0;C<y;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=y;C<2*y;C++)T[C]=0;return new o(T,0)};function _(m,y){for(;(m[y]&65535)!=m[y];)m[y+1]+=m[y]>>>16,m[y]&=65535,y++}function v(m,y){this.g=m,this.h=y}function x(m,y){if(w(y))throw Error("division by zero");if(w(m))return new v(f,f);if(A(m))return y=x(N(m),y),new v(N(y.g),N(y.h));if(A(y))return y=x(m,N(y)),new v(N(y.g),y.h);if(30<m.g.length){if(A(m)||A(y))throw Error("slowDivide_ only works with positive integers.");for(var T=p,C=y;0>=C.l(m);)T=D(T),C=D(C);var k=b(T,1),O=b(C,1);for(C=b(C,2),T=b(T,2);!w(C);){var R=O.add(C);0>=R.l(m)&&(k=k.add(T),O=R),C=b(C,1),T=b(T,1)}return y=I(m,k.j(y)),new v(k,y)}for(k=f;0<=m.l(y);){for(T=Math.max(1,Math.floor(m.m()/y.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=c(T),R=O.j(y);A(R)||0<R.l(m);)T-=C,O=c(T),R=O.j(y);w(O)&&(O=p),k=k.add(O),m=I(m,R)}return new v(k,m)}t.A=function(m){return x(this,m).h},t.and=function(m){for(var y=Math.max(this.g.length,m.g.length),T=[],C=0;C<y;C++)T[C]=this.i(C)&m.i(C);return new o(T,this.h&m.h)},t.or=function(m){for(var y=Math.max(this.g.length,m.g.length),T=[],C=0;C<y;C++)T[C]=this.i(C)|m.i(C);return new o(T,this.h|m.h)},t.xor=function(m){for(var y=Math.max(this.g.length,m.g.length),T=[],C=0;C<y;C++)T[C]=this.i(C)^m.i(C);return new o(T,this.h^m.h)};function D(m){for(var y=m.g.length+1,T=[],C=0;C<y;C++)T[C]=m.i(C)<<1|m.i(C-1)>>>31;return new o(T,m.h)}function b(m,y){var T=y>>5;y%=32;for(var C=m.g.length-T,k=[],O=0;O<C;O++)k[O]=0<y?m.i(O+T)>>>y|m.i(O+T+1)<<32-y:m.i(O+T);return new o(k,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Fi=o}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oE,aE,Zo,lE,gu,lf,uE,cE,dE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var g=r;l=l.split(".");for(var P=0;P<l.length-1;P++){var U=l[P];if(!(U in g))break e;g=g[U]}l=l[l.length-1],P=g[l],h=h(P),h!=P&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var g=0,P=!1,U={next:function(){if(!P&&g<l.length){var H=g++;return{value:h(H,l[H]),done:!1}}return P=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function f(l,h,g){if(!l)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,P),l.apply(h,U)}}return function(){return l.apply(h,arguments)}}function p(l,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function E(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var P=g.slice();return P.push.apply(P,arguments),l.apply(this,P)}}function w(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(P,U,H){for(var ee=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ee[Me-2]=arguments[Me];return h.prototype[U].apply(P,ee)}}function A(l){const h=l.length;if(0<h){const g=Array(h);for(let P=0;P<h;P++)g[P]=l[P];return g}return[]}function N(l,h){for(let g=1;g<arguments.length;g++){const P=arguments[g];if(u(P)){const U=l.length||0,H=P.length||0;l.length=U+H;for(let ee=0;ee<H;ee++)l[U+ee]=P[ee]}else l.push(P)}}class I{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function v(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function x(l){return x[" "](l),l}x[" "]=function(){};var D=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function b(l,h,g){for(const P in l)h.call(g,l[P],P,l)}function m(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function y(l){const h={};for(const g in l)h[g]=l[g];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let g,P;for(let U=1;U<arguments.length;U++){P=arguments[U];for(g in P)l[g]=P[g];for(let H=0;H<T.length;H++)g=T[H],Object.prototype.hasOwnProperty.call(P,g)&&(l[g]=P[g])}}function k(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function O(l){a.setTimeout(()=>{throw l},0)}function R(){var l=M;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Z{constructor(){this.h=this.g=null}add(h,g){const P=z.get();P.set(h,g),this.h?this.h.next=P:this.g=P,this.h=P}}var z=new I(()=>new q,l=>l.reset());class q{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,L=!1,M=new Z,F=()=>{const l=a.Promise.resolve(void 0);ne=()=>{l.then(B)}};var B=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(g){O(g)}var h=z;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}L=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function se(l,h){if(G.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,P=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(D){e:{try{x(h.nodeName);var U=!0;break e}catch{}U=!1}U||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:de[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&se.aa.h.call(this)}}w(se,G);var de={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ae(l,h,g,P,U){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!P,this.ha=U,this.key=++we,this.da=this.fa=!1}function Ne(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ve(l){this.src=l,this.g={},this.h=0}Ve.prototype.add=function(l,h,g,P,U){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var ee=cn(l,h,P,U);return-1<ee?(h=l[ee],g||(h.fa=!1)):(h=new Ae(h,this.src,H,!!P,U),h.fa=g,l.push(h)),h};function tt(l,h){var g=h.type;if(g in l.g){var P=l.g[g],U=Array.prototype.indexOf.call(P,h,void 0),H;(H=0<=U)&&Array.prototype.splice.call(P,U,1),H&&(Ne(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function cn(l,h,g,P){for(var U=0;U<l.length;++U){var H=l[U];if(!H.da&&H.listener==h&&H.capture==!!g&&H.ha==P)return U}return-1}var os="closure_lm_"+(1e6*Math.random()|0),Eo={};function bn(l,h,g,P,U){if(Array.isArray(h)){for(var H=0;H<h.length;H++)bn(l,h[H],g,P,U);return null}return g=ls(g),l&&l[ue]?l.K(h,g,c(P)?!!P.capture:!!P,U):td(l,h,g,!1,P,U)}function td(l,h,g,P,U,H){if(!h)throw Error("Invalid event type");var ee=c(U)?!!U.capture:!!U,Me=Qn(l);if(Me||(l[os]=Me=new Ve(l)),g=Me.add(h,g,P,ee,H),g.proxy)return g;if(P=nd(),g.proxy=P,P.src=l,P.listener=g,l.addEventListener)te||(U=ee),U===void 0&&(U=!1),l.addEventListener(h.toString(),P,U);else if(l.attachEvent)l.attachEvent(gl(h.toString()),P);else if(l.addListener&&l.removeListener)l.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return g}function nd(){function l(g){return h.call(l.src,l.listener,g)}const h=Ti;return l}function ml(l,h,g,P,U){if(Array.isArray(h))for(var H=0;H<h.length;H++)ml(l,h[H],g,P,U);else P=c(P)?!!P.capture:!!P,g=ls(g),l&&l[ue]?(l=l.i,h=String(h).toString(),h in l.g&&(H=l.g[h],g=cn(H,g,P,U),-1<g&&(Ne(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete l.g[h],l.h--)))):l&&(l=Qn(l))&&(h=l.g[h.toString()],l=-1,h&&(l=cn(h,g,P,U)),(g=-1<l?h[l]:null)&&To(g))}function To(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ue])tt(h.i,l);else{var g=l.type,P=l.proxy;h.removeEventListener?h.removeEventListener(g,P,l.capture):h.detachEvent?h.detachEvent(gl(g),P):h.addListener&&h.removeListener&&h.removeListener(P),(g=Qn(h))?(tt(g,l),g.h==0&&(g.src=null,h[os]=null)):Ne(l)}}}function gl(l){return l in Eo?Eo[l]:Eo[l]="on"+l}function Ti(l,h){if(l.da)l=!0;else{h=new se(h,this);var g=l.listener,P=l.ha||l.src;l.fa&&To(l),l=g.call(P,h)}return l}function Qn(l){return l=l[os],l instanceof Ve?l:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(l){return typeof l=="function"?l:(l[as]||(l[as]=function(h){return l.handleEvent(h)}),l[as])}function ze(){W.call(this),this.i=new Ve(this),this.M=this,this.F=null}w(ze,W),ze.prototype[ue]=!0,ze.prototype.removeEventListener=function(l,h,g,P){ml(this,l,h,g,P)};function it(l,h){var g,P=l.F;if(P)for(g=[];P;P=P.F)g.push(P);if(l=l.M,P=h.type||h,typeof h=="string")h=new G(h,l);else if(h instanceof G)h.target=h.target||l;else{var U=h;h=new G(P,l),C(h,U)}if(U=!0,g)for(var H=g.length-1;0<=H;H--){var ee=h.g=g[H];U=Ii(ee,P,!0,h)&&U}if(ee=h.g=l,U=Ii(ee,P,!0,h)&&U,U=Ii(ee,P,!1,h)&&U,g)for(H=0;H<g.length;H++)ee=h.g=g[H],U=Ii(ee,P,!1,h)&&U}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],P=0;P<g.length;P++)Ne(g[P]);delete l.g[h],l.h--}}this.F=null},ze.prototype.K=function(l,h,g,P){return this.i.add(String(l),h,!1,g,P)},ze.prototype.L=function(l,h,g,P){return this.i.add(String(l),h,!0,g,P)};function Ii(l,h,g,P){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var U=!0,H=0;H<h.length;++H){var ee=h[H];if(ee&&!ee.da&&ee.capture==g){var Me=ee.listener,Et=ee.ha||ee.src;ee.fa&&tt(l.i,ee),U=Me.call(Et,P)!==!1&&U}}return U&&!P.defaultPrevented}function Si(l,h,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function yl(l){l.g=Si(()=>{l.g=null,l.i&&(l.i=!1,yl(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Dn extends W{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:yl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(l){W.call(this),this.h=l,this.g={}}w(Cr,W);var Io=[];function So(l){b(l.g,function(h,g){this.g.hasOwnProperty(g)&&To(h)},l),l.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),So(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Co=a.JSON.stringify,vl=a.JSON.parse,us=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function cs(){}cs.prototype.h=null;function ds(l){return l.h||(l.h=l.i())}function _l(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xo(){G.call(this,"d")}w(xo,G);function hs(){G.call(this,"c")}w(hs,G);var Yn={},j=null;function $(){return j=j||new ze}Yn.La="serverreachability";function K(l){G.call(this,Yn.La,l)}w(K,G);function J(l){const h=$();it(h,new K(h))}Yn.STAT_EVENT="statevent";function ie(l,h){G.call(this,Yn.STAT_EVENT,l),this.stat=h}w(ie,G);function le(l){const h=$();it(h,new ie(h,l))}Yn.Ma="timingevent";function he(l,h){G.call(this,Yn.Ma,l),this.size=h}w(he,G);function re(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function ye(l,h,g,P,U,H){l.info(function(){if(l.g)if(H)for(var ee="",Me=H.split("&"),Et=0;Et<Me.length;Et++){var De=Me[Et].split("=");if(1<De.length){var Rt=De[0];De=De[1];var kt=Rt.split("_");ee=2<=kt.length&&kt[1]=="type"?ee+(Rt+"="+De+"&"):ee+(Rt+"=redacted&")}}else ee=null;else ee=H;return"XMLHTTP REQ ("+P+") [attempt "+U+"]: "+h+`
`+g+`
`+ee})}function dt(l,h,g,P,U,H,ee){l.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+U+"]: "+h+`
`+g+`
`+H+" "+ee})}function He(l,h,g,P){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+je(l,g)+(P?" "+P:"")})}function pe(l,h){l.info(function(){return"TIMEOUT: "+h})}ge.prototype.info=function(){};function je(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var P=g[l];if(!(2>P.length)){var U=P[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ee=1;ee<U.length;ee++)U[ee]=""}}}}return Co(g)}catch{return h}}var Qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dn;function wn(){}w(wn,cs),wn.prototype.g=function(){return new XMLHttpRequest},wn.prototype.i=function(){return{}},dn=new wn;function Ft(l,h,g,P){this.j=l,this.i=h,this.l=g,this.R=P||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Zt={},Ar={};function Rr(l,h,g){l.L=1,l.v=Tl(er(h)),l.m=g,l.P=!0,Ci(l,null)}function Ci(l,h){l.F=Date.now(),wt(l),l.A=er(l.v);var g=l.A,P=l.R;Array.isArray(P)||(P=[String(P)]),xm(g.i,"t",P),l.C=0,g=l.j.J,l.h=new Xn,l.g=Wm(l.j,g?h:null,!l.m),0<l.O&&(l.M=new Dn(p(l.Y,l,l.g),l.O)),h=l.U,g=l.g,P=l.ca;var U="readystatechange";Array.isArray(U)||(U&&(Io[0]=U.toString()),U=Io);for(var H=0;H<U.length;H++){var ee=bn(g,U[H],P||h.handleEvent,!1,h.h||h);if(!ee)break;h.g[ee.key]=ee}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),J(),ye(l.i,l.u,l.A,l.l,l.R,l.m)}Ft.prototype.ca=function(l){l=l.target;const h=this.M;h&&tr(l)==3?h.j():this.Y(l)},Ft.prototype.Y=function(l){try{if(l==this.g)e:{const kt=tr(this.g);var h=this.g.Ba();const ms=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Dm(this.g)))){this.J||kt!=4||h==7||(h==8||0>=ms?J(3):J(2)),Jn(this);var g=this.g.Z();this.X=g;t:if(Ie(this)){var P=Dm(this.g);l="";var U=P.length,H=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),kr(this);var ee="";break t}this.h.i=new a.TextDecoder}for(h=0;h<U;h++)this.h.h=!0,l+=this.h.i.decode(P[h],{stream:!(H&&h==U-1)});P.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=g==200,dt(this.i,this.u,this.A,this.l,this.R,kt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Et=this.g;if((Me=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Me)){var De=Me;break t}}De=null}if(g=De)He(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rd(this,g);else{this.o=!1,this.s=3,le(12),Zn(this),kr(this);break e}}if(this.P){g=!0;let En;for(;!this.J&&this.C<ee.length;)if(En=_t(this,ee),En==Ar){kt==4&&(this.s=4,le(14),g=!1),He(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Zt){this.s=4,le(15),He(this.i,this.l,ee,"[Invalid Chunk]"),g=!1;break}else He(this.i,this.l,En,null),rd(this,En);if(Ie(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ee.length!=0||this.h.h||(this.s=1,le(16),g=!1),this.o=this.o&&g,!g)He(this.i,this.l,ee,"[Invalid Chunked Response]"),Zn(this),kr(this);else if(0<ee.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ud(Rt),Rt.M=!0,le(11))}}else He(this.i,this.l,ee,null),rd(this,ee);kt==4&&Zn(this),this.o&&!this.J&&(kt==4?Um(this.j,this):(this.o=!1,wt(this)))}else sT(this.g),g==400&&0<ee.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Zn(this),kr(this)}}}catch{}finally{}};function Ie(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function _t(l,h){var g=l.C,P=h.indexOf(`
`,g);return P==-1?Ar:(g=Number(h.substring(g,P)),isNaN(g)?Zt:(P+=1,P+g>h.length?Ar:(h=h.slice(P,P+g),l.C=P+g,h)))}Ft.prototype.cancel=function(){this.J=!0,Zn(this)};function wt(l){l.S=Date.now()+l.I,ot(l,l.I)}function ot(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=re(p(l.ba,l),h)}function Jn(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ft.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(pe(this.i,this.A),this.L!=2&&(J(),le(17)),Zn(this),this.s=2,kr(this)):ot(this,this.S-l)};function kr(l){l.j.G==0||l.J||Um(l.j,l)}function Zn(l){Jn(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,So(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function rd(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||id(g.h,l))){if(!l.K&&id(g.h,l)&&g.G==3){try{var P=g.Da.g.parse(h)}catch{P=null}if(Array.isArray(P)&&P.length==3){var U=P;if(U[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Pl(g),Cl(g);else break e;ld(g),le(18)}}else g.za=U[1],0<g.za-g.T&&37500>U[2]&&g.F&&g.v==0&&!g.C&&(g.C=re(p(g.Za,g),6e3));if(1>=ym(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Pi(g,11)}else if((l.K||g.g==l)&&Pl(g),!_(h))for(U=g.Da.g.parse(h),h=0;h<U.length;h++){let De=U[h];if(g.T=De[0],De=De[1],g.G==2)if(De[0]=="c"){g.K=De[1],g.ia=De[2];const Rt=De[3];Rt!=null&&(g.la=Rt,g.j.info("VER="+g.la));const kt=De[4];kt!=null&&(g.Aa=kt,g.j.info("SVER="+g.Aa));const ms=De[5];ms!=null&&typeof ms=="number"&&0<ms&&(P=1.5*ms,g.L=P,g.j.info("backChannelRequestTimeoutMs_="+P)),P=g;const En=l.g;if(En){const Rl=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rl){var H=P.h;H.g||Rl.indexOf("spdy")==-1&&Rl.indexOf("quic")==-1&&Rl.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(sd(H,H.h),H.h=null))}if(P.D){const cd=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;cd&&(P.ya=cd,Be(P.I,P.D,cd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),P=g;var ee=l;if(P.qa=$m(P,P.J?P.ia:null,P.W),ee.K){vm(P.h,ee);var Me=ee,Et=P.L;Et&&(Me.I=Et),Me.B&&(Jn(Me),wt(Me)),P.g=ee}else jm(P);0<g.i.length&&xl(g)}else De[0]!="stop"&&De[0]!="close"||Pi(g,7);else g.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Pi(g,7):ad(g):De[0]!="noop"&&g.l&&g.l.ta(De),g.v=0)}}J(4)}catch{}}var $1=class{constructor(l,h){this.g=l,this.map=h}};function mm(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ym(l){return l.h?1:l.g?l.g.size:0}function id(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function sd(l,h){l.g?l.g.add(h):l.h=h}function vm(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}mm.prototype.cancel=function(){if(this.i=_m(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function _m(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return A(l.i)}function W1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],g=l.length,P=0;P<g;P++)h.push(l[P]);return h}h=[],g=0;for(P in l)h[g++]=l[P];return h}function H1(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const P in l)h[g++]=P;return h}}}function wm(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=H1(l),P=W1(l),U=P.length,H=0;H<U;H++)h.call(void 0,P[H],g&&g[H],l)}var Em=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q1(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var P=l[g].indexOf("="),U=null;if(0<=P){var H=l[g].substring(0,P);U=l[g].substring(P+1)}else H=l[g];h(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function xi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof xi){this.h=l.h,wl(this,l.j),this.o=l.o,this.g=l.g,El(this,l.s),this.l=l.l;var h=l.i,g=new Ro;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),Tm(this,g),this.m=l.m}else l&&(h=String(l).match(Em))?(this.h=!1,wl(this,h[1]||"",!0),this.o=Po(h[2]||""),this.g=Po(h[3]||"",!0),El(this,h[4]),this.l=Po(h[5]||"",!0),Tm(this,h[6]||"",!0),this.m=Po(h[7]||"")):(this.h=!1,this.i=new Ro(null,this.h))}xi.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Ao(h,Im,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ao(h,Im,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ao(g,g.charAt(0)=="/"?Q1:G1,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ao(g,X1)),l.join("")};function er(l){return new xi(l)}function wl(l,h,g){l.j=g?Po(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function El(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Tm(l,h,g){h instanceof Ro?(l.i=h,J1(l.i,l.h)):(g||(h=Ao(h,Y1)),l.i=new Ro(h,l.h))}function Be(l,h,g){l.i.set(h,g)}function Tl(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Po(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ao(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,K1),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function K1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Im=/[#\/\?@]/g,G1=/[#\?:]/g,Q1=/[#\?]/g,Y1=/[#\?@]/g,X1=/#/g;function Ro(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Nr(l){l.g||(l.g=new Map,l.h=0,l.i&&q1(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Ro.prototype,t.add=function(l,h){Nr(this),this.i=null,l=fs(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function Sm(l,h){Nr(l),h=fs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Cm(l,h){return Nr(l),h=fs(l,h),l.g.has(h)}t.forEach=function(l,h){Nr(this),this.g.forEach(function(g,P){g.forEach(function(U){l.call(h,U,P,this)},this)},this)},t.na=function(){Nr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let P=0;P<h.length;P++){const U=l[P];for(let H=0;H<U.length;H++)g.push(h[P])}return g},t.V=function(l){Nr(this);let h=[];if(typeof l=="string")Cm(this,l)&&(h=h.concat(this.g.get(fs(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return Nr(this),this.i=null,l=fs(this,l),Cm(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function xm(l,h,g){Sm(l,h),0<g.length&&(l.i=null,l.g.set(fs(l,h),A(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var P=h[g];const H=encodeURIComponent(String(P)),ee=this.V(P);for(P=0;P<ee.length;P++){var U=H;ee[P]!==""&&(U+="="+encodeURIComponent(String(ee[P]))),l.push(U)}}return this.i=l.join("&")};function fs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function J1(l,h){h&&!l.j&&(Nr(l),l.i=null,l.g.forEach(function(g,P){var U=P.toLowerCase();P!=U&&(Sm(this,P),xm(this,U,g))},l)),l.j=h}function Z1(l,h){const g=new ge;if(a.Image){const P=new Image;P.onload=E(br,g,"TestLoadImage: loaded",!0,h,P),P.onerror=E(br,g,"TestLoadImage: error",!1,h,P),P.onabort=E(br,g,"TestLoadImage: abort",!1,h,P),P.ontimeout=E(br,g,"TestLoadImage: timeout",!1,h,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=l}else h(!1)}function eT(l,h){const g=new ge,P=new AbortController,U=setTimeout(()=>{P.abort(),br(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:P.signal}).then(H=>{clearTimeout(U),H.ok?br(g,"TestPingServer: ok",!0,h):br(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(U),br(g,"TestPingServer: error",!1,h)})}function br(l,h,g,P,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),P(g)}catch{}}function tT(){this.g=new us}function nT(l,h,g){const P=g||"";try{wm(l,function(U,H){let ee=U;c(U)&&(ee=Co(U)),h.push(P+H+"="+encodeURIComponent(ee))})}catch(U){throw h.push(P+"type="+encodeURIComponent("_badmap")),U}}function ko(l){this.l=l.Ub||null,this.j=l.eb||!1}w(ko,cs),ko.prototype.g=function(){return new Il(this.l,this.j)},ko.prototype.i=function(l){return function(){return l}}({});function Il(l,h){ze.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Il,ze),t=Il.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,bo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pm(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pm(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?No(this):bo(this),this.readyState==3&&Pm(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,No(this))},t.Qa=function(l){this.g&&(this.response=l,No(this))},t.ga=function(){this.g&&No(this)};function No(l){l.readyState=4,l.l=null,l.j=null,l.v=null,bo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function bo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Am(l){let h="";return b(l,function(g,P){h+=P,h+=":",h+=g,h+=`\r
`}),h}function od(l,h,g){e:{for(P in g){var P=!1;break e}P=!0}P||(g=Am(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Be(l,h,g))}function nt(l){ze.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(nt,ze);var rT=/^https?$/i,iT=["POST","PUT"];t=nt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dn.g(),this.v=this.o?ds(this.o):ds(dn),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(H){Rm(this,H);return}if(l=g||"",g=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var U in P)g.set(U,P[U]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const H of P.keys())g.set(H,P.get(H));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),U=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iT,h,void 0))||P||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of g)this.g.setRequestHeader(H,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bm(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Rm(this,H)}};function Rm(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,km(l),Sl(l)}function km(l){l.A||(l.A=!0,it(l,"complete"),it(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,it(this,"complete"),it(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nm(this):this.bb())},t.bb=function(){Nm(this)};function Nm(l){if(l.h&&typeof o<"u"&&(!l.v[1]||tr(l)!=4||l.Z()!=2)){if(l.u&&tr(l)==4)Si(l.Ea,0,l);else if(it(l,"readystatechange"),tr(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var P;if(P=ee===0){var U=String(l.D).match(Em)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),P=!rT.test(U?U.toLowerCase():"")}g=P}if(g)it(l,"complete"),it(l,"success");else{l.m=6;try{var H=2<tr(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",km(l)}}finally{Sl(l)}}}}function Sl(l,h){if(l.g){bm(l);const g=l.g,P=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||it(l,"ready");try{g.onreadystatechange=P}catch{}}}function bm(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function tr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),vl(h)}};function Dm(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function sT(l){const h={};l=(l.g&&2<=tr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<l.length;P++){if(_(l[P]))continue;var g=k(l[P]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=h[U]||[];h[U]=H,H.push(g)}m(h,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function Om(l){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Do("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Do("baseRetryDelayMs",5e3,l),this.cb=Do("retryDelaySeedMs",1e4,l),this.Wa=Do("forwardChannelMaxRetries",2,l),this.wa=Do("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new mm(l&&l.concurrentRequestLimit),this.Da=new tT,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Om.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,P){le(0),this.W=l,this.H=h||{},g&&P!==void 0&&(this.H.OSID=g,this.H.OAID=P),this.F=this.X,this.I=$m(this,null,this.W),xl(this)};function ad(l){if(Lm(l),l.G==3){var h=l.U++,g=er(l.I);if(Be(g,"SID",l.K),Be(g,"RID",h),Be(g,"TYPE","terminate"),Oo(l,g),h=new Ft(l,l.j,h),h.L=2,h.v=Tl(er(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=Wm(h.j,null),h.g.ea(h.v)),h.F=Date.now(),wt(h)}Bm(l)}function Cl(l){l.g&&(ud(l),l.g.cancel(),l.g=null)}function Lm(l){Cl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Pl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function xl(l){if(!gm(l.h)&&!l.s){l.s=!0;var h=l.Ga;ne||F(),L||(ne(),L=!0),M.add(h,l),l.B=0}}function oT(l,h){return ym(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=re(p(l.Ga,l,h),zm(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const U=new Ft(this,this.j,l);let H=this.o;if(this.S&&(H?(H=y(H),C(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var P=this.i[g];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(h+=P,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Vm(this,U,h),g=er(this.I),Be(g,"RID",l),Be(g,"CVER",22),this.D&&Be(g,"X-HTTP-Session-Id",this.D),Oo(this,g),H&&(this.O?h="headers="+encodeURIComponent(String(Am(H)))+"&"+h:this.m&&od(g,this.m,H)),sd(this.h,U),this.Ua&&Be(g,"TYPE","init"),this.P?(Be(g,"$req",h),Be(g,"SID","null"),U.T=!0,Rr(U,g,null)):Rr(U,g,h),this.G=2}}else this.G==3&&(l?Mm(this,l):this.i.length==0||gm(this.h)||Mm(this))};function Mm(l,h){var g;h?g=h.l:g=l.U++;const P=er(l.I);Be(P,"SID",l.K),Be(P,"RID",g),Be(P,"AID",l.T),Oo(l,P),l.m&&l.o&&od(P,l.m,l.o),g=new Ft(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Vm(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),sd(l.h,g),Rr(g,P,h)}function Oo(l,h){l.H&&b(l.H,function(g,P){Be(h,P,g)}),l.l&&wm({},function(g,P){Be(h,P,g)})}function Vm(l,h,g){g=Math.min(l.i.length,g);var P=l.l?p(l.l.Na,l.l,l):null;e:{var U=l.i;let H=-1;for(;;){const ee=["count="+g];H==-1?0<g?(H=U[0].g,ee.push("ofs="+H)):H=0:ee.push("ofs="+H);let Me=!0;for(let Et=0;Et<g;Et++){let De=U[Et].g;const Rt=U[Et].map;if(De-=H,0>De)H=Math.max(0,U[Et].g-100),Me=!1;else try{nT(Rt,ee,"req"+De+"_")}catch{P&&P(Rt)}}if(Me){P=ee.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,P}function jm(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ne||F(),L||(ne(),L=!0),M.add(h,l),l.v=0}}function ld(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=re(p(l.Fa,l),zm(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Fm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=re(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Cl(this),Fm(this))};function ud(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Fm(l){l.g=new Ft(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=er(l.qa);Be(h,"RID","rpc"),Be(h,"SID",l.K),Be(h,"AID",l.T),Be(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(h,"TO",l.ja),Be(h,"TYPE","xmlhttp"),Oo(l,h),l.m&&l.o&&od(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Tl(er(h)),g.m=null,g.P=!0,Ci(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Cl(this),ld(this),le(19))};function Pl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Um(l,h){var g=null;if(l.g==h){Pl(l),ud(l),l.g=null;var P=2}else if(id(l.h,h))g=h.D,vm(l.h,h),P=1;else return;if(l.G!=0){if(h.o)if(P==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var U=l.B;P=$(),it(P,new he(P,g)),xl(l)}else jm(l);else if(U=h.s,U==3||U==0&&0<h.X||!(P==1&&oT(l,h)||P==2&&ld(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),U){case 1:Pi(l,5);break;case 4:Pi(l,10);break;case 3:Pi(l,6);break;default:Pi(l,2)}}}function zm(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Pi(l,h){if(l.j.info("Error code "+h),h==2){var g=p(l.fb,l),P=l.Xa;const U=!P;P=new xi(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wl(P,"https"),Tl(P),U?Z1(P.toString(),g):eT(P.toString(),g)}else le(2);l.G=0,l.l&&l.l.sa(h),Bm(l),Lm(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Bm(l){if(l.G=0,l.ka=[],l.l){const h=_m(l.h);(h.length!=0||l.i.length!=0)&&(N(l.ka,h),N(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function $m(l,h,g){var P=g instanceof xi?er(g):new xi(g);if(P.g!="")h&&(P.g=h+"."+P.g),El(P,P.s);else{var U=a.location;P=U.protocol,h=h?h+"."+U.hostname:U.hostname,U=+U.port;var H=new xi(null);P&&wl(H,P),h&&(H.g=h),U&&El(H,U),g&&(H.l=g),P=H}return g=l.D,h=l.ya,g&&h&&Be(P,g,h),Be(P,"VER",l.la),Oo(l,P),P}function Wm(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new nt(new ko({eb:g})):new nt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hm(){}t=Hm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Al(){}Al.prototype.g=function(l,h){return new en(l,h)};function en(l,h){ze.call(this),this.g=new Om(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ps(this)}w(en,ze),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ad(this.g)},en.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Co(l),l=g);h.i.push(new $1(h.Ya++,l)),h.G==3&&xl(h)},en.prototype.N=function(){this.g.l=null,delete this.j,ad(this.g),delete this.g,en.aa.N.call(this)};function qm(l){xo.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(qm,xo);function Km(){hs.call(this),this.status=1}w(Km,hs);function ps(l){this.g=l}w(ps,Hm),ps.prototype.ua=function(){it(this.g,"a")},ps.prototype.ta=function(l){it(this.g,new qm(l))},ps.prototype.sa=function(l){it(this.g,new Km)},ps.prototype.ra=function(){it(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,dE=function(){return new Al},cE=function(){return $()},uE=Yn,lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,gu=Qe,Pr.COMPLETE="complete",lE=Pr,_l.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Zo=_l,aE=ko,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,oE=nt}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Rp("@firebase/firestore");function qo(){return Xi.logLevel}function ae(t,...e){if(Xi.logLevel<=Pe.DEBUG){const n=e.map(zp);Xi.debug(`Firestore (${yo}): ${t}`,...n)}}function _r(t,...e){if(Xi.logLevel<=Pe.ERROR){const n=e.map(zp);Xi.error(`Firestore (${yo}): ${t}`,...n)}}function to(t,...e){if(Xi.logLevel<=Pe.WARN){const n=e.map(zp);Xi.warn(`Firestore (${yo}): ${t}`,...n)}}function zp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Ue(t,e){t||ve()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class yk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vk{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new hE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Ot(e)}}class _k{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _k(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ek{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Ek(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ik(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new mt(0,0))}static max(){return new _e(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends za{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const Sk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends za{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return Sk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ce(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ge.fromString(e))}static fromName(e){return new fe(Ge.fromString(e).popFirst(5))}static empty(){return new fe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ge(e.slice()))}}function Ck(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new ci(i,fe.empty(),e)}function xk(t){return new ci(t.readTime,t.key,-1)}class ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(_e.min(),fe.empty(),-1)}static max(){return new ci(_e.max(),fe.empty(),-1)}}function Pk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==Ak)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Y((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bp.oe=-1;function Mc(t){return t==null}function rc(t){return t===0&&1/t==-1/0}function Nk(t){return typeof t=="number"&&Number.isInteger(t)&&!rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ql(this.root,e,this.comparator,!0)}}class Ql{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new rn([])}unionWith(e){let n=new xt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mE("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const bk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=bk.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wp(t){const e=t.mapValue.fields.__previous_value__;return $p(e)?Wp(e):e}function Ba(t){const e=di(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class $a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:Ok(t)?9007199254740991:10:ve()}function qn(t,e){if(t===e)return!0;const n=Zi(t);if(n!==Zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ba(t).isEqual(Ba(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=di(i.timestampValue),a=di(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ji(i.bytesValue).isEqual(Ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ut(i.geoPointValue.latitude)===ut(s.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ut(i.integerValue)===ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ut(i.doubleValue),a=ut(s.doubleValue);return o===a?rc(o)===rc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tv(o)!==tv(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!qn(o[u],a[u])))return!1;return!0}(t,e);default:return ve()}}function Wa(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function ro(t,e){if(t===e)return 0;const n=Zi(t),r=Zi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ut(s.integerValue||s.doubleValue),u=ut(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return rv(t.timestampValue,e.timestampValue);case 4:return rv(Ba(t),Ba(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ji(s),u=Ji(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Oe(a[c],u[c]);if(d!==0)return d}return Oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Oe(ut(s.latitude),ut(o.latitude));return a!==0?a:Oe(ut(s.longitude),ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=ro(a[c],u[c]);if(d)return d}return Oe(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Yl.mapValue&&o===Yl.mapValue)return 0;if(s===Yl.mapValue)return 1;if(o===Yl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=Oe(u[f],d[f]);if(p!==0)return p;const E=ro(a[u[f]],c[d[f]]);if(E!==0)return E}return Oe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ve()}}function rv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=di(t),r=di(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function io(t){return uf(t)}function uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=uf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${uf(n.fields[o])}`;return i+"}"}(t.mapValue):ve()}function cf(t){return!!t&&"integerValue"in t}function Hp(t){return!!t&&"arrayValue"in t}function iv(t){return!!t&&"nullValue"in t}function sv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yu(t){return!!t&&"mapValue"in t}function pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ok(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){is(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(pa(this.value))}}function gE(t){const e=[];return is(t.fields,(n,r)=>{const i=new St([n]);if(yu(r)){const s=gE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,_e.min(),_e.min(),_e.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,_e.min(),_e.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,_e.min(),_e.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.position=e,this.inclusive=n}}function ov(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function av(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class ft extends yE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vk(e,n,r):n==="array-contains"?new Uk(e,r):n==="in"?new zk(e,r):n==="not-in"?new Bk(e,r):n==="array-contains-any"?new $k(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jk(e,r):new Fk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&Zi(this.value)===Zi(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends yE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return vE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vE(t){return t.op==="and"}function _E(t){return Mk(t)&&vE(t)}function Mk(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function df(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+io(t.value);if(_E(t))return t.filters.map(e=>df(e)).join(",");{const e=t.filters.map(n=>df(n)).join(",");return`${t.op}(${e})`}}function wE(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wE(o,i.filters[a]),!0):!1}(t,e):void ve()}function EE(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(EE).join(" ,")+"}"}(t):"Filter"}class Vk extends ft{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class jk extends ft{constructor(e,n){super(e,"in",n),this.keys=TE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fk extends ft{constructor(e,n){super(e,"not-in",n),this.keys=TE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class Uk extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&Wa(n.arrayValue,this.value)}}class zk extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}}class Bk extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wa(this.value.arrayValue,n)}}class $k extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function lv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Wk(t,e,n,r,i,s,o)}function qp(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>df(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.ue=n}return e.ue}function Kp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!av(t.startAt,e.startAt)&&av(t.endAt,e.endAt)}function hf(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Hk(t,e,n,r,i,s,o,a){return new Vc(t,e,n,r,i,s,o,a)}function Gp(t){return new Vc(t)}function uv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qk(t){return t.collectionGroup!==null}function ma(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sc(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new sc(St.keyField(),r))}return e.ce}function $n(t){const e=Ee(t);return e.le||(e.le=Kk(e,ma(t))),e.le}function Kk(t,e){if(t.limitType==="F")return lv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sc(i.field,s)});const n=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;return lv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ff(t,e,n){return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jc(t,e){return Kp($n(t),$n(e))&&t.limitType===e.limitType}function IE(t){return`${qp($n(t))}|lt:${t.limitType}`}function vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>EE(i)).join(", ")}]`),Mc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}($n(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ma(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=ov(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ma(r),i)||r.endAt&&!function(o,a,u){const c=ov(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ma(r),i))}(t,e)}function Gk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SE(t){return(e,n)=>{let r=!1;for(const i of ma(t)){const s=Qk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Qk(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?ro(u,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new et(fe.comparator);function wr(){return Yk}const CE=new et(fe.comparator);function ea(...t){let e=CE;for(const n of t)e=e.insert(n.key,n);return e}function xE(t){let e=CE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return ga()}function PE(){return ga()}function ga(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xk=new et(fe.comparator),Jk=new xt(fe.comparator);function xe(...t){let e=Jk;for(const n of t)e=e.add(n);return e}const Zk=new xt(Oe);function eN(){return Zk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function RE(t){return{integerValue:""+t}}function tN(t,e){return Nk(e)?RE(e):AE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function nN(t,e,n){return t instanceof oc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$p(s)&&(s=Wp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof so?NE(t,e):t instanceof Ha?bE(t,e):function(i,s){const o=kE(i,s),a=cv(o)+cv(i.Pe);return cf(o)&&cf(i.Pe)?RE(a):AE(i.serializer,a)}(t,e)}function rN(t,e,n){return t instanceof so?NE(t,e):t instanceof Ha?bE(t,e):n}function kE(t,e){return t instanceof ac?function(r){return cf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oc extends Uc{}class so extends Uc{constructor(e){super(),this.elements=e}}function NE(t,e){const n=DE(e);for(const r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends Uc{constructor(e){super(),this.elements=e}}function bE(t,e){let n=DE(e);for(const r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}class ac extends Uc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function cv(t){return ut(t.integerValue||t.doubleValue)}function DE(t){return Hp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.field=e,this.transform=n}}function sN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof so&&i instanceof so||r instanceof Ha&&i instanceof Ha?no(r.elements,i.elements,qn):r instanceof ac&&i instanceof ac?qn(r.Pe,i.Pe):r instanceof oc&&i instanceof oc}(t.transform,e.transform)}class oN{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zc{}function OE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ME(t.key,Wn.none()):new ll(t.key,t.data,Wn.none());{const n=t.data,r=Kt.empty();let i=new xt(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ei(t.key,r,new rn(i.toArray()),Wn.none())}}function aN(t,e,n){t instanceof ll?function(i,s,o){const a=i.value.clone(),u=hv(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ei?function(i,s,o){if(!vu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=hv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(LE(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,r){return t instanceof ll?function(s,o,a,u){if(!vu(s.precondition,o))return a;const c=s.value.clone(),d=fv(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ei?function(s,o,a,u){if(!vu(s.precondition,o))return a;const c=fv(s.fieldTransforms,u,o),d=o.data;return d.setAll(LE(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return vu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kE(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function dv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(s,o)=>sN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ll extends zc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends zc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hv(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rN(o,a,n[i]))}return r}function fv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nN(s,o,e))}return r}class ME extends zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=OE(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>dv(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>dv(n,r))}}class Qp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return Xk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Qp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Re;function fN(t){switch(t){default:return ve();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function VE(t){if(t===void 0)return _r("GRPC error has no .code"),Q.UNKNOWN;switch(t){case at.OK:return Q.OK;case at.CANCELLED:return Q.CANCELLED;case at.UNKNOWN:return Q.UNKNOWN;case at.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case at.INTERNAL:return Q.INTERNAL;case at.UNAVAILABLE:return Q.UNAVAILABLE;case at.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case at.NOT_FOUND:return Q.NOT_FOUND;case at.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case at.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case at.ABORTED:return Q.ABORTED;case at.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case at.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case at.DATA_LOSS:return Q.DATA_LOSS;default:return ve()}}(Re=at||(at={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Fi([4294967295,4294967295],0);function pv(t){const e=pN().encode(t),n=new sE;return n.update(e),new Uint8Array(n.digest())}function mv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,s],0)]}class Yp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ta(`Invalid padding: ${n}`);if(r<0)throw new ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ta(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(mN)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=pv(e),[r,i]=mv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Yp(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=pv(e),[r,i]=mv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bc(_e.min(),i,new et(Oe),wr(),xe())}}class ul{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ul(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jE{constructor(e,n){this.targetId=e,this.me=n}}class FE{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gv{constructor(){this.fe=0,this.ge=vv(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new ul(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=vv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gN{constructor(e){this.Le=e,this.Be=new Map,this.ke=wr(),this.qe=yv(),this.Qe=new et(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(hf(s))if(r===0){const o=new fe(s.path);this.Ue(n,o,Mt.newNoDocument(o,_e.min()))}else Ue(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ji(r).toUint8Array()}catch(u){if(u instanceof mE)return to("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Yp(o,i,s)}catch(u){return to(u instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&hf(a.target)){const u=new fe(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Mt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=xe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Bc(e,n,this.Qe,this.ke,r);return this.ke=wr(),this.qe=yv(),this.Qe=new et(Oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new gv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new gv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function yv(){return new et(fe.comparator)}function vv(){return new et(fe.comparator)}const yN={asc:"ASCENDING",desc:"DESCENDING"},vN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class wN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pf(t,e){return t.useProto3Json||Mc(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EN(t,e){return lc(t,e.toTimestamp())}function Hn(t){return Ue(!!t),_e.fromTimestamp(function(n){const r=di(n);return new mt(r.seconds,r.nanos)}(t))}function Xp(t,e){return mf(t,e).canonicalString()}function mf(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zE(t){const e=Ge.fromString(t);return Ue(qE(e)),e}function gf(t,e){return Xp(t.databaseId,e.path)}function Kd(t,e){const n=zE(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe($E(n))}function BE(t,e){return Xp(t.databaseId,e)}function TN(t){const e=zE(t);return e.length===4?Ge.emptyPath():$E(e)}function yf(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $E(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _v(t,e,n){return{name:gf(t,e),fields:n.value.mapValue.fields}}function IN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ue(d===void 0||typeof d=="string"),jt.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array),jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Q.UNKNOWN:VE(c.code);return new ce(d,c.message||"")}(o);n=new FE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kd(t,r.document.name),s=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):_e.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=Mt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new _u(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kd(t,r.document),s=r.readTime?Hn(r.readTime):_e.min(),o=Mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _u([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kd(t,r.document),s=r.removedTargetIds||[];n=new _u([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hN(i,s),a=r.targetId;n=new jE(a,o)}}return n}function SN(t,e){let n;if(e instanceof ll)n={update:_v(t,e.key,e.value)};else if(e instanceof ME)n={delete:gf(t,e.key)};else if(e instanceof Ei)n={update:_v(t,e.key,e.data),updateMask:DN(e.fieldMask)};else{if(!(e instanceof uN))return ve();n={verify:gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof so)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function CN(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Hn(i.updateTime):Hn(s);return o.isEqual(_e.min())&&(o=Hn(s)),new oN(o,i.transformResults||[])}(n,e))):[]}function xN(t,e){return{documents:[BE(t,e.path)]}}function PN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BE(t,i);const s=function(c){if(c.length!==0)return HE(Kn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:_s(p.field),direction:kN(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function AN(t){let e=TN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=WE(f);return p instanceof Kn&&_E(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new sc(ws(w.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Mc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,E=f.values||[];return new ic(E,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,E=f.values||[];return new ic(E,p)}(n.endAt)),Hk(e,i,o,s,a,"F",u,c)}function RN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ws(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ws(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ws(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>WE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function kN(t){return yN[t]}function NN(t){return vN[t]}function bN(t){return _N[t]}function _s(t){return{fieldPath:t.canonicalString()}}function ws(t){return St.fromServerFormat(t.fieldPath)}function HE(t){return t instanceof ft?function(n){if(n.op==="=="){if(sv(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(iv(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sv(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(iv(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:NN(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>HE(i));return r.length===1?r[0]:{compositeFilter:{op:bN(n.op),filters:r}}}(t):ve()}function DN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.ct=e}}function LN(t){const e=AN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this._n=new VN}addToCollectionParentIndex(e,n){return this._n.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ci.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class VN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new oo(0)}static Ln(){return new oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ya(r.mutation,i,rn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ea();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wr();const o=ga(),a=function(){return ga()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ei)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ya(d.mutation,c,d.mutation.getFieldMask(),mt.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new FN(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ga();let i=new et((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||rn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||xe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=PE();d.forEach(p=>{if(!s.has(p)){const E=OE(n.get(p),r.get(p));E!==null&&f.set(p,E),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(Mi());let a=-1,u=s;return o.next(c=>Y.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Y.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,xe())).next(d=>({batchId:a,changes:xE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ea();return this.indexManager.getCollectionParents(e,s).next(a=>Y.forEach(a,u=>{const c=function(f,p){return new Vc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Mt.newInvalidDocument(d)))});let a=ea();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&ya(d.mutation,c,rn.empty(),mt.now()),Fc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:LN(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.overlays=new et(fe.comparator),this.hr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mi();return Y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Mi(),s=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Mi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Mi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Y.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dN(n,r));let s=this.hr.get(n);s===void 0&&(s=xe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.Pr=new xt(gt.Ir),this.Tr=new xt(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new fe(new Ge([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new fe(new Ge([])),r=new gt(n,e),i=new gt(n,e+1);let s=xe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return fe.comparator(e.key,n.key)||Oe(e.pr,n.pr)}static Er(e,n){return Oe(e.pr,n.pr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(gt.Ir)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Oe);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new gt(new fe(s),0);let a=new xt(Oe);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),Y.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Y.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new gt(n,0),i=this.wr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.vr=e,this.docs=function(){return new et(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wr();const o=n.path,a=new fe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Pk(xk(d),r)<=0||(i.has(d.key)||Fc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Fr(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HN(this)}getSize(e){return Y.resolve(this.size)}}class HN extends jN{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.persistence=e,this.Mr=new vo(n=>qp(n),Kp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jp,this.targetCount=0,this.Lr=oo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.qn(n),Y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.Br={},this.overlays={},this.kr=new Bp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qN(this),this.indexManager=new MN,this.remoteDocumentCache=function(i){return new WN(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new ON(n),this.$r=new zN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new $N(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new GN(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class GN extends Rk{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.zr=new Jp,this.jr=null}static Hr(e){return new Zp(e)}get Jr(){if(this.jr)return this.jr;throw ve()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Jr,r=>{const i=fe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Y.or([()=>Y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new em(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Bx()?8:kk(At())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QN;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(qo()<=Pe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Y.resolve()):(qo()<=Pe.DEBUG&&ae("QueryEngine","Query:",vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(qo()<=Pe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):Y.resolve())}ji(e,n){if(uv(n))return Y.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ff(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,o,u.readTime)?this.ji(e,ff(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return uv(n)||i.isEqual(_e.min())?Y.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?Y.resolve(null):(qo()<=Pe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(n)),this.es(e,o,n,Ck(i,-1)).next(a=>a))})}Zi(e,n){let r=new xt(SE(e));return n.forEach((i,s)=>{Fc(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return qo()<=Pe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",vs(n)),this.zi.getDocumentsMatchingQuery(e,n,ci.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new et(Oe),this.rs=new vo(s=>qp(s),Kp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UN(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function JN(t,e,n,r){return new XN(t,e,n,r)}async function KE(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=xe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function ZN(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let E=Y.resolve();return p.forEach(w=>{E=E.next(()=>d.getEntry(u,w)).next(A=>{const N=c.docVersions.get(w);Ue(N!==null),A.version.compareTo(N)<0&&(f.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GE(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function eb(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let E=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?E=E.withResumeToken(jt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(f,E),function(A,N,I){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,E,d)&&a.push(n.Qr.updateTargetData(s,E))});let u=wr(),c=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(tb(s,o,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(_e.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function tb(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(_e.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function nb(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rb(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function vf(t,e,n){const r=Ee(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!al(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function wv(t,e,n){const r=Ee(t);let i=_e.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=Ee(u),p=f.rs.get(d);return p!==void 0?Y.resolve(f.ns.get(p)):f.Qr.getTargetData(c,d)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:xe())).next(a=>(ib(r,Gk(e),a),{documents:a,hs:s})))}function ib(t,e,n){let r=t.ss.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Ev{constructor(){this.activeTargetIds=eN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sb{constructor(){this.no=new Ev,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ev,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function Gd(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class ub extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Gd(),u=this.vo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(d=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw to("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=ab[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Gd();return new Promise((o,a)=>{const u=new oE;u.setWithCredentials(!0),u.listenOnce(lE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gu.NO_ERROR:const d=u.getResponseJson();ae(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case gu.TIMEOUT:ae(Dt,`RPC '${e}' ${s} timed out`),a(new ce(Q.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const f=u.getStatus();if(ae(Dt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const E=p==null?void 0:p.error;if(E&&E.status&&E.message){const w=function(N){const I=N.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(I)>=0?I:Q.UNKNOWN}(E.status);a(new ce(w,E.message))}else a(new ce(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ce(Q.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ae(Dt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ae(Dt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Gd(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dE(),a=cE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new aE({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");ae(Dt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let p=!1,E=!1;const w=new lb({lo:N=>{E?ae(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(p||(ae(Dt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ae(Dt,`RPC '${e}' stream ${i} sending:`,N),f.send(N))},ho:()=>f.close()}),A=(N,I,_)=>{N.listen(I,v=>{try{_(v)}catch(x){setTimeout(()=>{throw x},0)}})};return A(f,Zo.EventType.OPEN,()=>{E||(ae(Dt,`RPC '${e}' stream ${i} transport opened.`),w.mo())}),A(f,Zo.EventType.CLOSE,()=>{E||(E=!0,ae(Dt,`RPC '${e}' stream ${i} transport closed`),w.po())}),A(f,Zo.EventType.ERROR,N=>{E||(E=!0,to(Dt,`RPC '${e}' stream ${i} transport errored:`,N),w.po(new ce(Q.UNAVAILABLE,"The operation could not be completed")))}),A(f,Zo.EventType.MESSAGE,N=>{var I;if(!E){const _=N.data[0];Ue(!!_);const v=_,x=v.error||((I=v[0])===null||I===void 0?void 0:I.error);if(x){ae(Dt,`RPC '${e}' stream ${i} received error:`,x);const D=x.status;let b=function(T){const C=at[T];if(C!==void 0)return VE(C)}(D),m=x.message;b===void 0&&(b=Q.INTERNAL,m="Unknown error status: "+D+" with message "+x.message),E=!0,w.po(new ce(b,m)),f.close()}else ae(Dt,`RPC '${e}' stream ${i} received:`,_),w.yo(_)}}),A(a,uE.STAT_EVENT,N=>{N.stat===lf.PROXY?ae(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===lf.NOPROXY&&ae(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return new wN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new QE(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ce(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cb extends YE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=IN(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Hn(o.readTime):_e.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=yf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=hf(u)?{documents:xN(s,u)}:{query:PN(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=UE(s,o.resumeToken);const c=pf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=lc(s,o.snapshotVersion.toTimestamp());const c=pf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=RN(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=yf(this.serializer),n.removeTarget=e,this.i_(n)}}class db extends YE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=CN(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.A_(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=yf(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SN(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,mf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(Q.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,mf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Q.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class fb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(_r(n),this.y_=!1):ae("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{ss(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ee(u);c.M_.add(4),await cl(c),c.N_.set("Unknown"),c.M_.delete(4),await Wc(c)}(this))})}),this.N_=new fb(r,i)}}async function Wc(t){if(ss(t))for(const e of t.x_)await e(!0)}async function cl(t){for(const e of t.x_)await e(!1)}function XE(t,e){const n=Ee(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),im(n)?rm(n):_o(n).Xo()&&nm(n,e))}function tm(t,e){const n=Ee(t),r=_o(n);n.F_.delete(e),r.Xo()&&JE(n,e),n.F_.size===0&&(r.Xo()?r.n_():ss(n)&&n.N_.set("Unknown"))}function nm(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(t).P_(e)}function JE(t,e){t.L_.xe(e),_o(t).I_(e)}function rm(t){t.L_=new gN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_o(t).start(),t.N_.w_()}function im(t){return ss(t)&&!_o(t).Zo()&&t.F_.size>0}function ss(t){return Ee(t).M_.size===0}function ZE(t){t.L_=void 0}async function mb(t){t.N_.set("Online")}async function gb(t){t.F_.forEach((e,n)=>{nm(t,e)})}async function yb(t,e){ZE(t),im(t)?(t.N_.D_(e),rm(t)):t.N_.set("Unknown")}async function vb(t,e,n){if(t.N_.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uc(t,r)}else if(e instanceof _u?t.L_.Ke(e):e instanceof jE?t.L_.He(e):t.L_.We(e),!n.isEqual(_e.min()))try{const r=await GE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),JE(s,u);const f=new qr(d.target,u,c,d.sequenceNumber);nm(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await uc(t,r)}}async function uc(t,e,n){if(!al(e))throw e;t.M_.add(1),await cl(t),t.N_.set("Offline"),n||(n=()=>GE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Wc(t)})}function e1(t,e){return e().catch(n=>uc(t,n,e))}async function Hc(t){const e=Ee(t),n=hi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;_b(e);)try{const i=await nb(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,wb(e,i)}catch(i){await uc(e,i)}t1(e)&&n1(e)}function _b(t){return ss(t)&&t.v_.length<10}function wb(t,e){t.v_.push(e);const n=hi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function t1(t){return ss(t)&&!hi(t).Zo()&&t.v_.length>0}function n1(t){hi(t).start()}async function Eb(t){hi(t).V_()}async function Tb(t){const e=hi(t);for(const n of t.v_)e.d_(n.mutations)}async function Ib(t,e,n){const r=t.v_.shift(),i=Qp.from(r,e,n);await e1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hc(t)}async function Sb(t,e){e&&hi(t).E_&&await async function(r,i){if(function(o){return fN(o)&&o!==Q.ABORTED}(i.code)){const s=r.v_.shift();hi(r).t_(),await e1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hc(r)}}(t,e),t1(t)&&n1(t)}async function Iv(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=ss(n);n.M_.add(3),await cl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Wc(n)}async function Cb(t,e){const n=Ee(t);e?(n.M_.delete(2),await Wc(n)):e||(n.M_.add(2),await cl(n),n.N_.set("Unknown"))}function _o(t){return t.B_||(t.B_=function(n,r,i){const s=Ee(n);return s.f_(),new cb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:mb.bind(null,t),To:gb.bind(null,t),Ao:yb.bind(null,t),h_:vb.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),im(t)?rm(t):t.N_.set("Unknown")):(await t.B_.stop(),ZE(t))})),t.B_}function hi(t){return t.k_||(t.k_=function(n,r,i){const s=Ee(n);return s.f_(),new db(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Eb.bind(null,t),Ao:Sb.bind(null,t),R_:Tb.bind(null,t),A_:Ib.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Hc(t)):(await t.k_.stop(),t.v_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new sm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function om(t,e){if(_r("AsyncQueue",`${e}: ${t}`),al(t))return new ce(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=ea(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Ws(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ws;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.q_=new et(fe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ve():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ao{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ao(e,n,Ws.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Pb{constructor(){this.queries=new vo(e=>IE(e),jc),this.onlineState="Unknown",this.z_=new Set}}async function r1(t,e){const n=Ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new xb,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=om(o,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&am(n)}async function i1(t,e){const n=Ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ab(t,e){const n=Ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&am(n)}function Rb(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function am(t){t.z_.forEach(e=>{e.next()})}var _f,Cv;(Cv=_f||(_f={})).J_="default",Cv.Cache="cache";class s1{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==_f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.key=e}}class a1{constructor(e){this.key=e}}class kb{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=xe(),this.mutatedKeys=xe(),this.Ia=SE(e),this.Ta=new Ws(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Sv,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),E=Fc(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;p&&E?p.data.isEqual(E.data)?w!==A&&(r.track({type:3,doc:E}),N=!0):this.Ra(p,E)||(r.track({type:2,doc:E}),N=!0,(u&&this.Ia(E,u)>0||c&&this.Ia(E,c)<0)&&(a=!0)):!p&&E?(r.track({type:0,doc:E}),N=!0):p&&!E&&(r.track({type:1,doc:p}),N=!0,(u||c)&&(a=!0)),N&&(E?(o=o.add(E),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,f)=>function(E,w){const A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return A(E)-A(w)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new ao(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Sv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=xe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new a1(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new o1(r))}),n}pa(e){this.la=e.hs,this.Pa=xe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ao.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Nb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bb{constructor(e){this.key=e,this.wa=!1}}class Db{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new vo(a=>IE(a),jc),this.Da=new Map,this.Ca=new Set,this.va=new et(fe.comparator),this.Fa=new Map,this.Ma=new Jp,this.xa={},this.Oa=new Map,this.Na=oo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function Ob(t,e,n=!0){const r=f1(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await l1(r,e,n,!0),i}async function Lb(t,e){const n=f1(t);await l1(n,e,!0,!1)}async function l1(t,e,n,r){const i=await rb(t.localStore,$n(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Mb(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&XE(t.remoteStore,i),a}async function Mb(t,e,n,r,i){t.Ba=(f,p,E)=>async function(A,N,I,_){let v=N.view.da(I);v.Xi&&(v=await wv(A.localStore,N.query,!1).then(({documents:m})=>N.view.da(m,v)));const x=_&&_.targetChanges.get(N.targetId),D=_&&_.targetMismatches.get(N.targetId)!=null,b=N.view.applyChanges(v,A.isPrimaryClient,x,D);return Pv(A,N.targetId,b.fa),b.snapshot}(t,f,p,E);const s=await wv(t.localStore,e,!0),o=new kb(e,s.hs),a=o.da(s.documents),u=ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);Pv(t,n,c.fa);const d=new Nb(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function Vb(t,e,n){const r=Ee(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!jc(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tm(r.remoteStore,i.targetId),wf(r,i.targetId)}).catch(ol)):(wf(r,i.targetId),await vf(r.localStore,i.targetId,!0))}async function jb(t,e){const n=Ee(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tm(n.remoteStore,r.targetId))}async function Fb(t,e,n){const r=qb(t);try{const i=await function(o,a){const u=Ee(o),c=mt.now(),d=a.reduce((E,w)=>E.add(w.key),xe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let w=wr(),A=xe();return u.os.getEntries(E,d).next(N=>{w=N,w.forEach((I,_)=>{_.isValidDocument()||(A=A.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,w)).next(N=>{f=N;const I=[];for(const _ of a){const v=lN(_,f.get(_.key).overlayedDocument);v!=null&&I.push(new Ei(_.key,v,gE(v.value.mapValue),Wn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,c,I,a)}).next(N=>{p=N;const I=N.applyToLocalDocumentSet(f,A);return u.documentOverlayCache.saveOverlays(E,N.batchId,I)})}).then(()=>({batchId:p.batchId,changes:xE(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.xa[o.currentUser.toKey()];c||(c=new et(Oe)),c=c.insert(a,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await dl(r,i.changes),await Hc(r.remoteStore)}catch(i){const s=om(i,"Failed to persist write");n.reject(s)}}async function u1(t,e){const n=Ee(t);try{const r=await eb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Ue(o.wa):i.removedDocuments.size>0&&(Ue(o.wa),o.wa=!1))}),await dl(n,r,e)}catch(r){await ol(r)}}function xv(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ee(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.U_)p.j_(a)&&(c=!0)}),c&&am(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ub(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new et(fe.comparator);o=o.insert(s,Mt.newNoDocument(s,_e.min()));const a=xe().add(s),u=new Bc(_e.min(),new Map,new et(Oe),o,a);await u1(r,u),r.va=r.va.remove(s),r.Fa.delete(e),lm(r)}else await vf(r.localStore,e,!1).then(()=>wf(r,e,n)).catch(ol)}async function zb(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await ZN(n.localStore,e);d1(n,r,null),c1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dl(n,i)}catch(i){await ol(i)}}async function Bb(t,e,n){const r=Ee(t);try{const i=await function(o,a){const u=Ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ue(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);d1(r,e,n),c1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dl(r,i)}catch(i){await ol(i)}}function c1(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function d1(t,e,n){const r=Ee(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||h1(t,r)})}function h1(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(tm(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),lm(t))}function Pv(t,e,n){for(const r of n)r instanceof o1?(t.Ma.addReference(r.key,e),$b(t,r)):r instanceof a1?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||h1(t,r.key)):ve()}function $b(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.Ca.add(r),lm(t))}function lm(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new fe(Ge.fromString(e)),r=t.Na.next();t.Fa.set(r,new bb(n)),t.va=t.va.insert(n,r),XE(t.remoteStore,new qr($n(Gp(n.path)),r,"TargetPurposeLimboResolution",Bp.oe))}}async function dl(t,e,n){const r=Ee(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c&&!c.fromCache;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=em.Ki(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const d=Ee(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(c,p=>Y.forEach(p.qi,E=>d.persistence.referenceDelegate.addReference(f,p.targetId,E)).next(()=>Y.forEach(p.Qi,E=>d.persistence.referenceDelegate.removeReference(f,p.targetId,E)))))}catch(f){if(!al(f))throw f;ae("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const E=d.ns.get(p),w=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(w);d.ns=d.ns.insert(p,A)}}}(r.localStore,s))}async function Wb(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await KE(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new ce(Q.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dl(n,r.us)}}function Hb(t,e){const n=Ee(t),r=n.Fa.get(e);if(r&&r.wa)return xe().add(r.key);{let i=xe();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function f1(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ub.bind(null,e),e.Sa.h_=Ab.bind(null,e.eventManager),e.Sa.ka=Rb.bind(null,e.eventManager),e}function qb(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bb.bind(null,e),e}class Av{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JN(this.persistence,new YN,e.initialUser,this.serializer)}createPersistence(e){return new KN(Zp.Hr,this.serializer)}createSharedClientState(e){return new sb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Kb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wb.bind(null,this.syncEngine),await Cb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pb}()}createDatastore(e){const n=$c(e.databaseInfo.databaseId),r=function(s){return new ub(s)}(e.databaseInfo);return function(s,o,a,u){return new hb(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new pb(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xv(this.syncEngine,n,0),function(){return Tv.D()?new Tv:new ob}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const f=new Db(i,s,o,a,u,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ee(r);ae("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await cl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ae("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ae("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=om(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yd(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Yb(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Iv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Iv(e.remoteStore,i)),t._onlineComponents=e}function Qb(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Yb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Qb(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await Yd(t,new Av)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Yd(t,new Av);return t._offlineComponents}async function m1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Rv(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Rv(t,new Kb))),t._onlineComponents}function Xb(t){return m1(t).then(e=>e.syncEngine)}async function g1(t){const e=await m1(t),n=e.eventManager;return n.onListen=Ob.bind(null,e.syncEngine),n.onUnlisten=Vb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lb.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jb.bind(null,e.syncEngine),n}function Jb(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new p1({next:p=>{o.enqueueAndForget(()=>i1(s,f));const E=p.docs.has(a);!E&&p.fromCache?c.reject(new ce(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&p.fromCache&&u&&u.source==="server"?c.reject(new ce(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new s1(Gp(a.path),d,{includeMetadataChanges:!0,ra:!0});return r1(s,f)}(await g1(t),t.asyncQueue,e,n,r)),r.promise}function Zb(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new p1({next:p=>{o.enqueueAndForget(()=>i1(s,f)),p.fromCache&&u.source==="server"?c.reject(new ce(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new s1(a,d,{includeMetadataChanges:!0,ra:!0});return r1(s,f)}(await g1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e,n){if(!n)throw new ce(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e2(t,e,n,r){if(e===!0&&r===!0)throw new ce(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nv(t){if(!fe.isDocumentKey(t))throw new ce(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bv(t){if(fe.isDocumentKey(t))throw new ce(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new ce(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gk;switch(r.type){case"firstParty":return new wk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kv.get(n);r&&(ae("ComponentProvider","Removing Datastore"),kv.delete(n),r.terminate())}(this),Promise.resolve()}}function t2(t,e,n,r={}){var i;const s=(t=Er(t,qc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ot.MOCK_USER;else{a=Mx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ce(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}t._authCredentials=new yk(new hE(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kc(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class si extends Kc{constructor(e,n,r){super(e,n,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new fe(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function n2(t,e,...n){if(t=$t(t),v1("collection","path",e),t instanceof qc){const r=Ge.fromString(e,...n);return bv(r),new si(t,null,r)}{if(!(t instanceof Jt||t instanceof si))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return bv(r),new si(t.firestore,null,r)}}function hl(t,e,...n){if(t=$t(t),arguments.length===1&&(e=fE.newId()),v1("doc","path",e),t instanceof qc){const r=Ge.fromString(e,...n);return Nv(r),new Jt(t,null,new fe(r))}{if(!(t instanceof Jt||t instanceof si))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Nv(r),new Jt(t.firestore,t instanceof si?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new QE(this,"async_queue_retry"),this.hu=()=>{const n=Qd();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Qd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new hr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!al(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=sm.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ve()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class fl extends qc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new r2}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_1(this),this._firestoreClient.terminate()}}function i2(t,e){const n=Iw(),r="(default)",i=Np(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Ox("firestore");s&&t2(i,...s)}return i}function cm(t){return t._firestoreClient||_1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _1(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new Dk(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,y1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Gb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(jt.fromBase64String(e))}catch(n){throw new ce(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^__.*__$/;class o2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new ll(e,this.data,n,this.fieldTransforms)}}class w1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function E1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Yc{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return cc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(E1(this.fu)&&s2.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class a2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$c(e)}Fu(e,n,r,i=!1){return new Yc({fu:e,methodName:n,vu:r,path:St.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T1(t){const e=t._freezeSettings(),n=$c(t._databaseId);return new a2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l2(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);fm("Data must be an object, but it was:",o,r);const a=I1(r,o);let u,c;if(s.merge)u=new rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=Ef(e,f,n);if(!o.contains(p))throw new ce(Q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);C1(d,p)||d.push(p)}u=new rn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new o2(new Kt(a),u,c)}class Xc extends Qc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function u2(t,e,n){return new Yc({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hm extends Qc{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=u2(this,e,!0),r=this.Mu.map(s=>pl(s,n)),i=new so(r);return new iN(e.path,i)}isEqual(e){return e instanceof hm&&Va(this.Mu,e.Mu)}}function c2(t,e,n,r){const i=t.Fu(1,e,n);fm("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();is(r,(u,c)=>{const d=pm(e,u,n);c=$t(c);const f=i.Su(d);if(c instanceof Xc)s.push(d);else{const p=pl(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new rn(s);return new w1(o,a,i.fieldTransforms)}function d2(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Ef(e,r,n)],u=[i];if(s.length%2!=0)throw new ce(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Ef(e,s[p])),u.push(s[p+1]);const c=[],d=Kt.empty();for(let p=a.length-1;p>=0;--p)if(!C1(c,a[p])){const E=a[p];let w=u[p];w=$t(w);const A=o.Su(E);if(w instanceof Xc)c.push(E);else{const N=pl(w,A);N!=null&&(c.push(E),d.set(E,N))}}const f=new rn(c);return new w1(d,f,o.fieldTransforms)}function pl(t,e){if(S1(t=$t(t)))return fm("Unsupported field value:",e,t),I1(t,e);if(t instanceof Qc)return function(r,i){if(!E1(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=pl(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:lc(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(i.serializer,s)}}if(r instanceof dm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lo)return{bytesValue:UE(i.serializer,r._byteString)};if(r instanceof Jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${um(r)}`)}(t,e)}function I1(t,e){const n={};return pE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,i)=>{const s=pl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function S1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof dm||t instanceof lo||t instanceof Jt||t instanceof Qc)}function fm(t,e,n){if(!S1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=um(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Ef(t,e,n){if((e=$t(e))instanceof Gc)return e._internalPath;if(typeof e=="string")return pm(t,e);throw cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const h2=new RegExp("[~\\*/\\[\\]]");function pm(t,e,n){if(e.search(h2)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gc(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ce(Q.INVALID_ARGUMENT,a+t+u)}function C1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(P1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f2 extends x1{data(){return super.data()}}function P1(t,e){return typeof e=="string"?pm(t,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m2{convertValue(e,n="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return is(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new dm(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const n=di(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ue(qE(r));const i=new $a(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||_r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A1 extends x1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(P1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wu extends A1{data(e={}){return super.data(e)}}class y2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wu(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new wu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new wu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:v2(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){t=Er(t,Jt);const e=Er(t.firestore,fl);return Jb(cm(e),t._key).then(n=>E2(e,t,n))}class k1 extends m2{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function _2(t){t=Er(t,Kc);const e=Er(t.firestore,fl),n=cm(e),r=new k1(e);return p2(t._query),Zb(n,t._query).then(i=>new y2(e,r,t,i))}function w2(t,e,n){t=Er(t,Jt);const r=Er(t.firestore,fl),i=g2(t.converter,e);return b1(r,[l2(T1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wn.none())])}function N1(t,e,n,...r){t=Er(t,Jt);const i=Er(t.firestore,fl),s=T1(i);let o;return o=typeof(e=$t(e))=="string"||e instanceof Gc?d2(s,"updateDoc",t._key,e,n,r):c2(s,"updateDoc",t._key,e),b1(i,[o.toMutation(t._key,Wn.exists(!0))])}function b1(t,e){return function(r,i){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>Fb(await Xb(r),i,s)),s.promise}(cm(t),e)}function E2(t,e,n){const r=n.docs.get(e._key),i=new k1(t);return new A1(t,i,e._key,r,new na(n.hasPendingWrites,n.fromCache),e.converter)}function T2(...t){return new hm("arrayUnion",t)}(function(e,n=!0){(function(i){yo=i})(mo),eo(new Ki("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fl(new vk(r.getProvider("auth-internal")),new Tk(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ii(ev,"4.6.3",e),ii(ev,"4.6.3","esm2017")})();var I2="firebase",S2="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(I2,S2,"app");const C2={apiKey:"AIzaSyAyYw3BrkE02ViEqgCHwI88fBcoU2GAPlQ",authDomain:"sigmalearningplatform.firebaseapp.com",projectId:"sigmalearningplatform",storageBucket:"sigmalearningplatform.appspot.com",messagingSenderId:"602707197254",appId:"1:602707197254:web:86751c3525197c9805b947",measurementId:"G-N1RG31K6X4"},fi=Tw(C2),wo=i2(),x2=n2(wo,"courses");function D1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=D1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=D1(t))&&(r&&(r+=" "),r+=e);return r}const qa=t=>typeof t=="number"&&!isNaN(t),Ui=t=>typeof t=="string",sn=t=>typeof t=="function",Eu=t=>Ui(t)||sn(t)?t:null,Tf=t=>V.isValidElement(t)||Ui(t)||sn(t)||qa(t);function P2(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Jc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:u,preventExitTransition:c,done:d,nodeRef:f,isIn:p,playToast:E}=o;const w=r?`${e}--${u}`:e,A=r?`${n}--${u}`:n,N=V.useRef(0);return V.useLayoutEffect(()=>{const I=f.current,_=w.split(" "),v=x=>{x.target===f.current&&(E(),I.removeEventListener("animationend",v),I.removeEventListener("animationcancel",v),N.current===0&&x.type!=="animationcancel"&&I.classList.remove(..._))};I.classList.add(..._),I.addEventListener("animationend",v),I.addEventListener("animationcancel",v)},[]),V.useEffect(()=>{const I=f.current,_=()=>{I.removeEventListener("animationend",_),i?P2(I,d,s):d()};p||(c?_():(N.current=1,I.className+=` ${A}`,I.addEventListener("animationend",_)))},[p]),Se.createElement(Se.Fragment,null,a)}}function Ov(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const zt=new Map;let Ka=[];const If=new Set,A2=t=>If.forEach(e=>e(t)),O1=()=>zt.size>0;function L1(t,e){var n;if(e)return!((n=zt.get(e))==null||!n.isToastActive(t));let r=!1;return zt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function M1(t,e){Tf(t)&&(O1()||Ka.push({content:t,options:e}),zt.forEach(n=>{n.buildToast(t,e)}))}function Lv(t,e){zt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function R2(t){const{subscribe:e,getSnapshot:n,setProps:r}=V.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const u=function(d,f,p){let E=1,w=0,A=[],N=[],I=[],_=f;const v=new Map,x=new Set,D=()=>{I=Array.from(v.values()),x.forEach(y=>y())},b=y=>{N=y==null?[]:N.filter(T=>T!==y),D()},m=y=>{const{toastId:T,onOpen:C,updateId:k,children:O}=y.props,R=k==null;y.staleId&&v.delete(y.staleId),v.set(T,y),N=[...N,y.props.toastId].filter(Z=>Z!==y.staleId),D(),p(Ov(y,R?"added":"updated")),R&&sn(C)&&C(V.isValidElement(O)&&O.props)};return{id:d,props:_,observe:y=>(x.add(y),()=>x.delete(y)),toggle:(y,T)=>{v.forEach(C=>{T!=null&&T!==C.props.toastId||sn(C.toggle)&&C.toggle(y)})},removeToast:b,toasts:v,clearQueue:()=>{w-=A.length,A=[]},buildToast:(y,T)=>{if((W=>{let{containerId:G,toastId:te,updateId:se}=W;const de=G?G!==d:d!==1,ue=v.has(te)&&se==null;return de||ue})(T))return;const{toastId:C,updateId:k,data:O,staleId:R,delay:Z}=T,z=()=>{b(C)},q=k==null;q&&w++;const ne={..._,style:_.toastStyle,key:E++,...Object.fromEntries(Object.entries(T).filter(W=>{let[G,te]=W;return te!=null})),toastId:C,updateId:k,data:O,closeToast:z,isIn:!1,className:Eu(T.className||_.toastClassName),bodyClassName:Eu(T.bodyClassName||_.bodyClassName),progressClassName:Eu(T.progressClassName||_.progressClassName),autoClose:!T.isLoading&&(L=T.autoClose,M=_.autoClose,L===!1||qa(L)&&L>0?L:M),deleteToast(){const W=v.get(C),{onClose:G,children:te}=W.props;sn(G)&&G(V.isValidElement(te)&&te.props),p(Ov(W,"removed")),v.delete(C),w--,w<0&&(w=0),A.length>0?m(A.shift()):D()}};var L,M;ne.closeButton=_.closeButton,T.closeButton===!1||Tf(T.closeButton)?ne.closeButton=T.closeButton:T.closeButton===!0&&(ne.closeButton=!Tf(_.closeButton)||_.closeButton);let F=y;V.isValidElement(y)&&!Ui(y.type)?F=V.cloneElement(y,{closeToast:z,toastProps:ne,data:O}):sn(y)&&(F=y({closeToast:z,toastProps:ne,data:O}));const B={content:F,props:ne,staleId:R};_.limit&&_.limit>0&&w>_.limit&&q?A.push(B):qa(Z)?setTimeout(()=>{m(B)},Z):m(B)},setProps(y){_=y},setToggle:(y,T)=>{v.get(y).toggle=T},isToastActive:y=>N.some(T=>T===y),getSnapshot:()=>_.newestOnTop?I.reverse():I}}(o,s,A2);zt.set(o,u);const c=u.observe(a);return Ka.forEach(d=>M1(d.content,d.options)),Ka=[],()=>{c(),zt.delete(o)}},setProps(a){var u;(u=zt.get(o))==null||u.setProps(a)},getSnapshot(){var a;return(a=zt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=V.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:u}=a.props;o.has(u)||o.set(u,[]),o.get(u).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:L1,count:i==null?void 0:i.length}}function k2(t){const[e,n]=V.useState(!1),[r,i]=V.useState(!1),s=V.useRef(null),o=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:f}=t;var p,E;function w(){n(!0)}function A(){n(!1)}function N(v){const x=s.current;o.canDrag&&x&&(o.didMove=!0,e&&A(),o.delta=t.draggableDirection==="x"?v.clientX-o.start:v.clientY-o.start,o.start!==v.clientX&&(o.canCloseOnClick=!1),x.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function I(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",I);const v=s.current;if(o.canDrag&&o.didMove&&v){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();v.style.transition="transform 0.2s, opacity 0.2s",v.style.removeProperty("transform"),v.style.removeProperty("opacity")}}(E=zt.get((p={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||E.setToggle(p.id,p.fn),V.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||A(),window.addEventListener("focus",w),window.addEventListener("blur",A),()=>{window.removeEventListener("focus",w),window.removeEventListener("blur",A)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(v){if(t.draggable===!0||t.draggable===v.pointerType){o.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",I);const x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,x.style.transition="none",t.draggableDirection==="x"?(o.start=v.clientX,o.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(o.start=v.clientY,o.removalDistance=x.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(v){const{top:x,bottom:D,left:b,right:m}=s.current.getBoundingClientRect();v.nativeEvent.type!=="touchend"&&t.pauseOnHover&&v.clientX>=b&&v.clientX<=m&&v.clientY>=x&&v.clientY<=D?A():w()}};return a&&u&&(_.onMouseEnter=A,t.stacked||(_.onMouseLeave=w)),f&&(_.onClick=v=>{d&&d(v),o.canCloseOnClick&&c()}),{playToast:w,pauseToast:A,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function N2(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:u,progress:c,rtl:d,isIn:f,theme:p}=t;const E=s||u&&c===0,w={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(w.transform=`scaleX(${c})`);const A=Kr("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),N=sn(o)?o({rtl:d,type:i,defaultClassName:A}):Kr(A,o),I={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{f&&r()}};return Se.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},Se.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),Se.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:N,style:w,...I}))}let b2=1;const V1=()=>""+b2++;function D2(t){return t&&(Ui(t.toastId)||qa(t.toastId))?t.toastId:V1()}function va(t,e){return M1(t,e),e.toastId}function dc(t,e){return{...e,type:e&&e.type||t,toastId:D2(e)}}function Jl(t){return(e,n)=>va(e,dc(t,n))}function ke(t,e){return va(t,dc("default",e))}ke.loading=(t,e)=>va(t,dc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ke.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Ui(i)?ke.loading(i,n):ke.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,f,p)=>{if(f==null)return void ke.dismiss(r);const E={type:d,...a,...n,data:p},w=Ui(f)?{render:f}:f;return r?ke.update(r,{...E,...w}):ke(w.render,{...E,...w}),p},c=sn(t)?t():t;return c.then(d=>u("success",o,d)).catch(d=>u("error",s,d)),c},ke.success=Jl("success"),ke.info=Jl("info"),ke.error=Jl("error"),ke.warning=Jl("warning"),ke.warn=ke.warning,ke.dark=(t,e)=>va(t,dc("default",{theme:"dark",...e})),ke.dismiss=function(t){(function(e){var n;if(O1()){if(e==null||Ui(n=e)||qa(n))zt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=zt.get(e.containerId);r?r.removeToast(e.id):zt.forEach(i=>{i.removeToast(e.id)})}}else Ka=Ka.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ke.clearWaitingQueue=function(t){t===void 0&&(t={}),zt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ke.isActive=L1,ke.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=zt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:V1()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,va(o,s)}},ke.done=t=>{ke.update(t,{progress:1})},ke.onChange=function(t){return If.add(t),()=>{If.delete(t)}},ke.play=t=>Lv(!0,t),ke.pause=t=>Lv(!1,t);const O2=typeof window<"u"?V.useLayoutEffect:V.useEffect,Zl=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Se.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Xd={info:function(t){return Se.createElement(Zl,{...t},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Se.createElement(Zl,{...t},Se.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Se.createElement(Zl,{...t},Se.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Se.createElement(Zl,{...t},Se.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Se.createElement("div",{className:"Toastify__spinner"})}},L2=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=k2(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:d,hideProgressBar:f,closeToast:p,transition:E,position:w,className:A,style:N,bodyClassName:I,bodyStyle:_,progressClassName:v,progressStyle:x,updateId:D,role:b,progress:m,rtl:y,toastId:T,deleteToast:C,isIn:k,isLoading:O,closeOnClick:R,theme:Z}=t,z=Kr("Toastify__toast",`Toastify__toast-theme--${Z}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":y},{"Toastify__toast--close-on-click":R}),q=sn(A)?A({rtl:y,position:w,type:d,defaultClassName:z}):Kr(z,A),ne=function(B){let{theme:W,type:G,isLoading:te,icon:se}=B,de=null;const ue={theme:W,type:G};return se===!1||(sn(se)?de=se({...ue,isLoading:te}):V.isValidElement(se)?de=V.cloneElement(se,ue):te?de=Xd.spinner():(we=>we in Xd)(G)&&(de=Xd[G](ue))),de}(t),L=!!m||!u,M={closeToast:p,type:d,theme:Z};let F=null;return o===!1||(F=sn(o)?o(M):V.isValidElement(o)?V.cloneElement(o,M):function(B){let{closeToast:W,theme:G,ariaLabel:te="close"}=B;return Se.createElement("button",{className:`Toastify__close-button Toastify__close-button--${G}`,type:"button",onClick:se=>{se.stopPropagation(),W(se)},"aria-label":te},Se.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Se.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),Se.createElement(E,{isIn:k,done:C,position:w,preventExitTransition:n,nodeRef:r,playToast:s},Se.createElement("div",{id:T,onClick:c,"data-in":k,className:q,...i,style:N,ref:r},Se.createElement("div",{...k&&{role:b},className:sn(I)?I({type:d}):Kr("Toastify__toast-body",I),style:_},ne!=null&&Se.createElement("div",{className:Kr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},ne),Se.createElement("div",null,a)),F,Se.createElement(N2,{...D&&!L?{key:`pb-${D}`}:{},rtl:y,theme:Z,delay:u,isRunning:e,isIn:k,closeToast:p,hide:f,type:d,style:x,className:v,controlledProgress:L,progress:m||0})))},Zc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},M2=Jc(Zc("bounce",!0));Jc(Zc("slide",!0));Jc(Zc("zoom"));Jc(Zc("flip"));const V2={position:"top-right",transition:M2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function j2(t){let e={...V2,...t};const n=t.stacked,[r,i]=V.useState(!0),s=V.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=R2(e),{className:c,style:d,rtl:f,containerId:p}=e;function E(A){const N=Kr("Toastify__toast-container",`Toastify__toast-container--${A}`,{"Toastify__toast-container--rtl":f});return sn(c)?c({position:A,rtl:f,defaultClassName:N}):Kr(N,Eu(c))}function w(){n&&(i(!0),ke.play())}return O2(()=>{if(n){var A;const N=s.current.querySelectorAll('[data-in="true"]'),I=12,_=(A=e.position)==null?void 0:A.includes("top");let v=0,x=0;Array.from(N).reverse().forEach((D,b)=>{const m=D;m.classList.add("Toastify__toast--stacked"),b>0&&(m.dataset.collapsed=`${r}`),m.dataset.pos||(m.dataset.pos=_?"top":"bot");const y=v*(r?.2:1)+(r?0:I*b);m.style.setProperty("--y",`${_?y:-1*y}px`),m.style.setProperty("--g",`${I}`),m.style.setProperty("--s",""+(1-(r?x:0))),v+=m.offsetHeight,x+=.025})}},[r,u,n]),Se.createElement("div",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),ke.pause())},onMouseLeave:w},o((A,N)=>{const I=N.length?{...d}:{...d,pointerEvents:"none"};return Se.createElement("div",{className:E(A),style:I,key:`container-${A}`},N.map(_=>{let{content:v,props:x}=_;return Se.createElement(L2,{...x,stacked:n,collapseAll:w,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},v)}))}))}function F2(){const[t,e]=V.useState(!1),{user:n,setUser:r}=V.useContext(ns),i=vi();V.useEffect(()=>{const o=()=>{window.scrollY>0?e(!0):e(!1)};return window.addEventListener("scroll",o),()=>{window.addEventListener("scroll",o)}},[]),V.useEffect(()=>{ui(fi).onAuthStateChanged(async a=>{const u=hl(wo,"users",a.uid),c=await R1(u);c.exists()?r(c.data()):console.log("user did not logged in")})},[]);const s=async()=>{const o=ui(fi);try{o.signOut(),ke.success("User logout successfully",{position:"top-center",autoClose:2e3}),i("/")}catch(a){ke.error(`${a.message}`,{position:"top-center",autoClose:2e3})}};return S.jsx("header",{className:`fixed top-0 w-full z-50 ${t?"shadow bg-base-100 transition-all ease-in-out duration-300":""}`,children:S.jsxs("div",{className:"navbar container",children:[S.jsxs("div",{className:"navbar-start align-middle",children:[S.jsxs("div",{className:"dropdown",children:[S.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost lg:hidden",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),S.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:[S.jsx("li",{children:S.jsx("a",{href:"/courses",children:"Courses"})}),S.jsxs("li",{children:[S.jsx("a",{children:"Menu"}),S.jsxs("ul",{className:"p-2",children:[S.jsx("li",{children:S.jsx("a",{href:"/courses",children:"Start Learning"})}),S.jsx("li",{children:S.jsx("a",{href:"/create-course",children:"Create Course"})})]})]}),S.jsx("li",{children:S.jsx("a",{children:"Projects"})})]})]}),S.jsx("a",{href:"/",className:"btn btn-ghost text-blue text-xl",children:"Sigma"})]}),S.jsx("div",{className:"navbar-center hidden lg:flex",children:S.jsxs("ul",{className:"menu menu-horizontal px-1",children:[S.jsx("li",{children:S.jsx("a",{href:"/courses",children:"Courses"})}),S.jsx("li",{children:S.jsxs("details",{children:[S.jsx("summary",{children:"Menu"}),S.jsxs("ul",{className:"p-2",children:[S.jsx("li",{children:S.jsx("a",{href:"/courses",children:"Start Learning"})}),S.jsx("li",{children:S.jsx("a",{href:"/create-course",children:"Create Course"})})]})]})}),S.jsx("li",{children:S.jsx("a",{children:"Projects"})})]})}),S.jsx("div",{className:"navbar-end",children:n?S.jsx("div",{className:"",children:S.jsxs("div",{className:"drawer drawer-end",children:[S.jsx("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),S.jsx("div",{className:"drawer-content",children:S.jsx("label",{htmlFor:"my-drawer-4",className:"avatar drawer-button btn btn-ghost btn-circle",children:S.jsx("div",{className:"avatar",children:S.jsx("div",{className:"w-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:S.jsx("img",{src:n==null?void 0:n.profileImage,alt:"profile Image"})})})})}),S.jsxs("div",{className:"drawer-side",children:[S.jsx("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),S.jsxs("ul",{className:"menu py-8 w-60 min-h-full bg-base-200 text-base-content text-lg",children:[S.jsx("li",{children:S.jsxs(Yh,{to:"/dashboard",className:"flex justifyContent-between",children:[S.jsx(Sx,{})," Profile"]})}),S.jsx("li",{onClick:s,children:S.jsxs("a",{className:"flex justifyContent-between",children:[S.jsx(xx,{})," Logout"]})})]})]})]})}):S.jsxs(Yh,{to:"/login",className:"flex justifyContent-between btn bg-blue text-white rounded-full",children:[S.jsx(Ix,{})," Login"]})})]})})}function U2(){return S.jsxs("div",{className:"bg-base-100 py-6",children:[S.jsxs("footer",{className:"footer text-base-content container py-3",children:[S.jsxs("aside",{children:[S.jsx("a",{href:"/",className:"text-blue font-bold text-3xl",children:"Sigma"}),S.jsx("p",{className:"my-3 md:w-40",children:"Learn Anything, Anytime, Anywhere."})]}),S.jsxs("nav",{children:[S.jsx("h3",{className:"footer-title",children:"Useful links"}),S.jsx("a",{className:"link link-hover",children:"About us"}),S.jsx("a",{className:"link link-hover",children:"Blogs"}),S.jsx("a",{className:"link link-hover",children:"FAQ"})]}),S.jsxs("nav",{children:[S.jsx("h3",{className:"footer-title",children:"Main Menu"}),S.jsx("a",{className:"link link-hover",children:"Home"}),S.jsx("a",{className:"link link-hover",children:"Courses"}),S.jsx("a",{className:"link link-hover",children:"Menus"}),S.jsx("a",{className:"link link-hover",children:"Projects"})]}),S.jsxs("nav",{children:[S.jsx("h3",{className:"footer-title",children:"Contact Us"}),S.jsx("a",{className:"link link-hover",children:"sigma@email.com"}),S.jsx("a",{className:"link link-hover",children:"+234 567 890 1234"}),S.jsx("a",{className:"link link-hover",children:"Social media"})]})]}),S.jsx("hr",{}),S.jsxs("footer",{className:"footer items-center container py-4 mt-2",children:[S.jsx("aside",{className:"items-center grid-flow-col",children:S.jsx("p",{children:"Copyright  2024 - All right reserved"})}),S.jsxs("nav",{className:"grid-flow-col gap-4 md:place-self-center md:justify-self-end",children:[S.jsx("a",{href:"#",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:S.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),S.jsx("a",{href:"#",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:S.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),S.jsx("a",{href:"#",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:S.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})]})}function z2(){const{setUser:t}=V.useContext(ns);return V.useEffect(()=>{ui(fi).onAuthStateChanged(n=>{t(n)})},[]),S.jsxs("main",{className:"bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100% pt-20",children:[S.jsx(F2,{}),S.jsx(KC,{}),S.jsx(U2,{}),S.jsx(j2,{})]})}function ed(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function a(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){var d;c.done?i(c.value):(d=c.value,d instanceof n?d:new n(function(f){f(d)})).then(o,a)}u((r=r.apply(t,[])).next())})}function oi(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&d[0]?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[2&d[0],i.value]),d[0]){case 0:case 1:i=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,r=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||d[0]!==6&&d[0]!==2)){o=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){o.label=d[1];break}if(d[0]===6&&o.label<i[1]){o.label=i[1],i=d;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(d);break}i[2]&&o.ops.pop(),o.trys.pop();continue}d=e.call(t,o)}catch(f){d=[6,f],r=0}finally{n=i=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([u,c])}}}function Sf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function Vn(t,e,n){if(arguments.length===2)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function Mv(t,e,n,r,i){for(var s=[],o=5;o<arguments.length;o++)s[o-5]=arguments[o];return ed(this,void 0,void 0,function(){var a,u,c,d,f,p;return oi(this,function(E){switch(E.label){case 0:E.trys.push([0,12,13,14]),a=Sf(s),u=a.next(),E.label=1;case 1:if(u.done)return[3,11];switch(c=u.value,typeof c){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,B2(t,e,c,n,r,i)];case 3:return E.sent(),[3,10];case 4:return[4,j1(c)];case 5:return E.sent(),[3,10];case 6:return[4,c.apply(void 0,Vn([t,e,n,r,i],Pn(s),!1))];case 7:return E.sent(),[3,10];case 8:return[4,c];case 9:E.sent(),E.label=10;case 10:return u=a.next(),[3,1];case 11:return[3,14];case 12:return d=E.sent(),f={error:d},[3,14];case 13:try{u&&!u.done&&(p=a.return)&&p.call(a)}finally{if(f)throw f.error}return[7];case 14:return[2]}})})}function B2(t,e,n,r,i,s){return ed(this,void 0,void 0,function(){var o,a;return oi(this,function(u){switch(u.label){case 0:return o=t.textContent||"",a=function(c,d){var f=Pn(d).slice(0);return Vn(Vn([],Pn(c),!1),[NaN],!1).findIndex(function(p,E){return f[E]!==p})}(o,n),[4,$2(t,Vn(Vn([],Pn(H2(o,e,a)),!1),Pn(W2(n,e,a)),!1),r,i,s)];case 1:return u.sent(),[2]}})})}function j1(t){return ed(this,void 0,void 0,function(){return oi(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function $2(t,e,n,r,i){return ed(this,void 0,void 0,function(){var s,o,a,u,c,d,f,p,E,w,A,N,I;return oi(this,function(_){switch(_.label){case 0:if(s=e,i){for(o=0,a=1;a<e.length;a++)if(u=Pn([e[a-1],e[a]],2),c=u[0],(d=u[1]).length>c.length||d===""){o=a;break}s=e.slice(o,e.length)}_.label=1;case 1:_.trys.push([1,6,7,8]),f=Sf(function(v){var x,D,b,m,y,T,C;return oi(this,function(k){switch(k.label){case 0:x=function(O){return oi(this,function(R){switch(R.label){case 0:return[4,{op:function(Z){return requestAnimationFrame(function(){return Z.textContent=O})},opCode:function(Z){var z=Z.textContent||"";return O===""||z.length>O.length?"DELETE":"WRITING"}}];case 1:return R.sent(),[2]}})},k.label=1;case 1:k.trys.push([1,6,7,8]),D=Sf(v),b=D.next(),k.label=2;case 2:return b.done?[3,5]:(m=b.value,[5,x(m)]);case 3:k.sent(),k.label=4;case 4:return b=D.next(),[3,2];case 5:return[3,8];case 6:return y=k.sent(),T={error:y},[3,8];case 7:try{b&&!b.done&&(C=D.return)&&C.call(D)}finally{if(T)throw T.error}return[7];case 8:return[2]}})}(s)),p=f.next(),_.label=2;case 2:return p.done?[3,5]:(E=p.value,w=E.opCode(t)==="WRITING"?n+n*(Math.random()-.5):r+r*(Math.random()-.5),E.op(t),[4,j1(w)]);case 3:_.sent(),_.label=4;case 4:return p=f.next(),[3,2];case 5:return[3,8];case 6:return A=_.sent(),N={error:A},[3,8];case 7:try{p&&!p.done&&(I=f.return)&&I.call(f)}finally{if(N)throw N.error}return[7];case 8:return[2]}})})}function W2(t,e,n){var r,i;return n===void 0&&(n=0),oi(this,function(s){switch(s.label){case 0:r=e(t),i=r.length,s.label=1;case 1:return n<i?[4,r.slice(0,++n).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}function H2(t,e,n){var r,i;return n===void 0&&(n=0),oi(this,function(s){switch(s.label){case 0:r=e(t),i=r.length,s.label=1;case 1:return i>n?[4,r.slice(0,--i).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}var q2="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var K2=V.memo(V.forwardRef(function(t,e){var n=t.sequence,r=t.repeat,i=t.className,s=t.speed,o=s===void 0?40:s,a=t.deletionSpeed,u=t.omitDeletionAnimation,c=u!==void 0&&u,d=t.preRenderFirstString,f=d!==void 0&&d,p=t.wrapper,E=p===void 0?"span":p,w=t.splitter,A=w===void 0?function(F){return Vn([],Pn(F),!1)}:w,N=t.cursor,I=N===void 0||N,_=t.style,v=function(F,B){var W={};for(var G in F)Object.prototype.hasOwnProperty.call(F,G)&&B.indexOf(G)<0&&(W[G]=F[G]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function"){var te=0;for(G=Object.getOwnPropertySymbols(F);te<G.length;te++)B.indexOf(G[te])<0&&Object.prototype.propertyIsEnumerable.call(F,G[te])&&(W[G[te]]=F[G[te]])}return W}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),x=v["aria-label"],D=v["aria-hidden"],b=v.role;a||(a=o);var m=new Array(2).fill(40);[o,a].forEach(function(F,B){switch(typeof F){case"number":m[B]=Math.abs(F-100);break;case"object":var W=F.type,G=F.value;if(typeof G!="number")break;W==="keyStrokeDelayInMs"&&(m[B]=G)}});var y,T,C,k,O,R,Z=m[0],z=m[1],q=function(F,B){B===void 0&&(B=null);var W=V.useRef(B);return V.useEffect(function(){F&&(typeof F=="function"?F(W.current):F.current=W.current)},[F]),W}(e),ne=q2;y=i?"".concat(I?ne+" ":"").concat(i):I?ne:"",T=V.useRef(function(){var F,B=n;r===1/0?F=Mv:typeof r=="number"&&(B=Array(1+r).fill(n).flat());var W=F?Vn(Vn([],Pn(B),!1),[F],!1):Vn([],Pn(B),!1);return Mv.apply(void 0,Vn([q.current,A,Z,z,c],Pn(W),!1)),function(){q.current}}),C=V.useRef(),k=V.useRef(!1),O=V.useRef(!1),R=Pn(V.useState(0),2)[1],k.current&&(O.current=!0),V.useEffect(function(){return k.current||(C.current=T.current(),k.current=!0),R(function(F){return F+1}),function(){O.current&&C.current&&C.current()}},[]);var L=E,M=f?n.find(function(F){return typeof F=="string"})||"":null;return Se.createElement(L,{"aria-hidden":D,"aria-label":x,role:b,style:_,className:y,children:x?Se.createElement("span",{"aria-hidden":"true",ref:q,children:M}):M,ref:x?void 0:q})}),function(t,e){return!0});function G2(){return S.jsx("div",{className:"container",children:S.jsxs("div",{className:"flex flex-col md:flex-row-reverse justify-between items-center gap-8 py-24",children:[S.jsx("div",{className:"md:w-1/2",children:S.jsx("img",{src:"/images/landingPage/banner.png",alt:""})}),S.jsxs("div",{className:"md:w-1/2 space-y-7 px-4",children:[S.jsxs("h2",{className:"text-4xl md:text-5xl font-bold leading-snug md:leading-snug",children:["Unlock Your Potential with Personalized"," ",S.jsx("span",{className:"text-blue block",children:S.jsx(K2,{sequence:["Courses!",2e3," Learning!",2e3],repeat:1/0,speed:50})})]}),S.jsx("p",{className:"text-xl text-[#4A4A4A]",children:"Discover courses tailored to your learning style."}),S.jsx(Yh,{className:"btn bg-blue px-8 py-3 font-semibold text-white rounded-full",to:"/signup",children:"Get Started"})]})]})})}function Q2(){const t=[{id:1,title:"Personalized Learning",des:"Seasoned materials and resources tailored to your need"},{id:2,title:"Expert Tutors",des:"Learn from experts"},{id:3,title:"Interactive Courses",des:"Get access to our engaging materials"},{id:4,title:"Test and Feedbacks",des:"Partake in test and get results with corrections to errors"}];return S.jsx("div",{className:"container pb-24",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12",children:[S.jsx("div",{className:"md:w-1/2",children:S.jsxs("div",{className:"text-left md:w-4.5/5",children:[S.jsx("p",{className:"subtitle",children:"Why Choose Us ?"}),S.jsx("h2",{className:"title",children:"Our Useful Services And Features "}),S.jsx("p",{className:"my-5 text-secoundary leading-[30px]",children:"Discover the unique benefits that make our platform the ideal choice for your personalized learning."}),S.jsx("button",{className:"btn bg-blue text-white px-8 py-3 rounded-full",children:"Explore"})]})}),S.jsx("div",{className:"md:w-1/2",children:S.jsx("div",{className:"grid sm:grid-cols-2 grid-cols-1 gap-8 items-center",children:t.map(e=>[S.jsxs("div",{className:`shadow-md rounded-sm py-5 px-4 text-center space-y-2 bg-primary
                        cursor-pointer hover:border hover:border-blue transition-all duration-200`,children:[S.jsx("h5",{className:"pt-3 font-semibold text-blue",children:e.title}),S.jsx("p",{className:"",children:e.des})]},e.id)])})})]})})}function Y2(){const t=[{title:"Sign Up",description:"Create your account and take a quick survey."},{title:"Personalize",description:"Get your personalized learning path based on your survey results."},{title:"Learn",description:"Access your courses and start learning at your own pace."}];return S.jsxs("div",{className:"container pb-24",children:[S.jsx("h2",{className:"title text-center text-blue",children:"How It Works"}),S.jsx("div",{className:"flex flex-col md:flex-row gap-8 justifyContent-betwwen items-center",children:t.map(e=>[S.jsxs("div",{className:`shadow-md rounded-sm py-5 px-4 text-center space-y-2 bg-primary
                        cursor-pointer hover:border hover:border-blue transition-all duration-200`,children:[S.jsx("h5",{className:"pt-3 font-semibold text-xlg text-blue",children:e.title}),S.jsx("p",{className:"",children:e.description})]},e.id)])})]})}const F1=V.createContext(),X2=({children:t})=>{const[e,n]=V.useState({}),r=async()=>{const i=x2;try{const o=(await _2(i)).docs.map(a=>({id:a.id,...a.data()}));n(o)}catch(s){throw console.error("Error fetching courses: ",s),s}};return S.jsx(F1.Provider,{value:{courses:e,setCourses:n,getAllCourses:r},children:t})};function J2(){const{courses:t,getAllCourses:e}=V.useContext(F1);return V.useEffect(()=>{e()},[]),S.jsxs(S.Fragment,{children:[S.jsx(G2,{}),S.jsx(Q2,{}),S.jsx(Y2,{})]})}const U1=V.forwardRef(({buttonLabel:t,children:e},n)=>{const[r,i]=V.useState(!1);vi();const s={display:r?"none":""},o={display:r?"":"none"},a=()=>{i(!r)};return V.useImperativeHandle(n,()=>({toggleVisibility:a})),S.jsxs("div",{className:"my-3",children:[S.jsx("div",{style:s,children:S.jsx("button",{onClick:a,className:"bg-blue text-white p-2 rounded-md",children:t})}),S.jsxs("div",{style:o,children:[e,S.jsx("div",{className:"bg-blue text-white rounded-md p-2 mt-5 text-center w-[50%] mx-auto",onClick:a,children:S.jsx("button",{children:"Cancel"})})]})]})}),Z2=()=>{const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),[o,a]=V.useState(""),[u,c]=V.useState(null),[d,f]=V.useState([{title:"",description:"",lessons:[{title:"",content:""}]}]),[p,E]=V.useState([{title:"",description:"",questions:[{text:"",type:"Multiple Choice",options:["","","",""],correctAnswer:""}]}]),w=()=>{f([...d,{title:"",description:"",lessons:[{title:"",content:""}]}])},A=v=>{const x=d.slice();x[v].lessons.push({title:"",content:""}),f(x)},N=()=>{E([...p,{title:"",description:"",questions:[{text:"",type:"Multiple Choice",options:["","","",""],correctAnswer:""}]}])},I=v=>{const x=p.slice();x[v].questions.push({text:"",type:"Multiple Choice",options:["","","",""],correctAnswer:""}),E(x)},_=v=>{v.preventDefault();const x={courseTitle:t,courseDescription:n,category:i,difficultyLevel:o,thumbnailImage:u,modules:d,quizzes:p};e(""),r(""),s(""),a(""),f([{title:"",description:"",lessons:[{title:"",content:""}]}]),E([{title:"",description:"",questions:[{text:"",type:"Multiple Choice",options:["","","",""],correctAnswer:""}]}]),c(null),console.log("Course Data Submitted: ",x)};return S.jsx("div",{className:"section-container bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100%",children:S.jsx("div",{className:"py-24",children:S.jsxs("div",{className:"p-8 max-w-4xl mx-auto bg-white shadow-lg rounded-lg",children:[S.jsx("h1",{className:"text-2xl text-blue font-semibold mb-6",children:"Create a New Course"}),S.jsx(U1,{buttonLabel:"Add New Course",children:S.jsxs("form",{onSubmit:_,className:"space-y-6",children:[S.jsxs("section",{className:"p-4 border rounded-lg space-y-4",children:[S.jsx("h2",{className:"text-lg text-blue font-medium",children:"Course Information"}),S.jsxs("label",{className:"block",children:["Course Title",S.jsx("input",{type:"text",value:t,onChange:v=>e(v.target.value),className:"mt-1 block w-full p-2 border rounded",required:!0})]}),S.jsxs("label",{className:"block",children:["Course Description",S.jsx("textarea",{value:n,onChange:v=>r(v.target.value),className:"mt-1 block w-full p-2 border rounded",required:!0})]}),S.jsxs("label",{className:"block",children:["Category",S.jsxs("select",{value:i,onChange:v=>s(v.target.value),className:"mt-1 block w-full p-2 border rounded",required:!0,children:[S.jsx("option",{value:"",children:"Select Category"}),S.jsx("option",{value:"Programming",children:"Programming"}),S.jsx("option",{value:"Data Science",children:"Data Science"}),S.jsx("option",{value:"Marketing",children:"Marketing"})]})]}),S.jsxs("label",{className:"block",children:["Difficulty Level",S.jsxs("select",{value:o,onChange:v=>a(v.target.value),className:"mt-1 block w-full p-2 border rounded",required:!0,children:[S.jsx("option",{value:"",children:"Select Difficulty Level"}),S.jsx("option",{value:"Beginner",children:"Beginner"}),S.jsx("option",{value:"Intermediate",children:"Intermediate"}),S.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),S.jsxs("label",{className:"block",children:["Thumbnail Image",S.jsx("input",{type:"file",onChange:v=>c(v.target.files[0]),className:"mt-1 block w-full p-2 border rounded",required:!0})]})]}),S.jsxs("section",{className:"p-4 border rounded-lg space-y-4",children:[S.jsx("h2",{className:"text-lg text-blue font-medium",children:"Course Content"}),d.map((v,x)=>S.jsxs("div",{className:"space-y-4",children:[S.jsxs("label",{className:"block",children:["Module Title",S.jsx("input",{type:"text",value:v.title,onChange:D=>{const b=d.slice();b[x].title=D.target.value,f(b)},className:"mt-1 block w-full p-2 border rounded",required:!0})]}),S.jsxs("label",{className:"block",children:["Module Description",S.jsx("textarea",{value:v.description,onChange:D=>{const b=d.slice();b[x].description=D.target.value,f(b)},className:"mt-1 block w-full p-2 border rounded",required:!0})]}),v.lessons.map((D,b)=>S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"block",children:["Lesson Title",S.jsx("input",{type:"text",value:D.title,onChange:m=>{const y=d.slice();y[x].lessons[b].title=m.target.value,f(y)},className:"mt-1 block w-full p-2 border rounded",required:!0})]}),S.jsxs("label",{className:"block",children:["Lesson Content",S.jsx("textarea",{value:D.content,onChange:m=>{const y=d.slice();y[x].lessons[b].content=m.target.value,f(y)},className:"mt-1 block w-full p-2 border rounded",required:!0})]})]},b)),S.jsx("button",{type:"button",onClick:()=>A(x),className:"mt-2  border-2 border-blue p-2 text-blue rounded-md",children:"+ Add Another Lesson"})]},x)),S.jsx("button",{type:"button",onClick:w,className:"mt-2 border-2 border-blue p-2 text-blue rounded-md",children:"+ Add Another Module"})]}),S.jsxs("section",{className:"p-4 border rounded-lg space-y-4",children:[S.jsx("h2",{className:"text-lg text-blue font-medium",children:"Quiz / Assessment"}),p.map((v,x)=>S.jsxs("div",{className:"space-y-4",children:[S.jsxs("label",{className:"block",children:["Quiz Title",S.jsx("input",{type:"text",value:v.title,onChange:D=>{const b=p.slice();b[x].title=D.target.value,E(b)},className:"mt-1 block w-full p-2 border rounded",required:!0})]}),S.jsxs("label",{className:"block",children:["Quiz Description",S.jsx("textarea",{value:v.description,onChange:D=>{const b=p.slice();b[x].description=D.target.value,E(b)},className:"mt-1 block w-full p-2 border rounded",required:!0})]}),v.questions.map((D,b)=>S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"block",children:["Question Number",S.jsx("input",{type:"text",value:D.text,onChange:m=>{const y=p.slice();y[x].questions[b].text=m.target.value,E(y)},className:"mt-1 block w-full p-2 border rounded",required:!0})]}),S.jsxs("label",{className:"block",children:["Question Type",S.jsxs("select",{value:D.type,onChange:m=>{const y=p.slice();y[x].questions[b].type=m.target.value,E(y)},className:"mt-1 block w-full p-2 border rounded",required:!0,children:[S.jsx("option",{value:"Multiple Choice",children:"Multiple Choice"}),S.jsx("option",{value:"True/False",children:"True/False"})]})]}),D.type==="Multiple Choice"&&S.jsxs(S.Fragment,{children:[D.options.map((m,y)=>S.jsxs("label",{className:"block",children:["Option ",y+1,S.jsx("input",{type:"text",value:m,onChange:T=>{const C=p.slice();C[x].questions[b].options[y]=T.target.value,E(C)},className:"mt-1 block w-full p-2 border rounded"})]},y)),S.jsx("button",{type:"button",onClick:()=>{const m=p.slice();m[x].questions[b].options.push(""),E(m)},className:"border-2 border-blue p-2 text-blue rounded-md mt-2",children:"+ Add Option"})]}),S.jsxs("label",{className:"block",children:["Correct Answer",S.jsx("input",{type:"text",value:D.correctAnswer,onChange:m=>{const y=p.slice();y[x].questions[b].correctAnswer=m.target.value,E(y)},className:"mt-1 block w-full p-2 border rounded",required:!0})]})]},b)),S.jsx("button",{type:"button",onClick:()=>I(x),className:" border-2 border-blue p-2 text-blue rounded-md mt-2",children:"+ Add Another Question"})]},x)),S.jsx("button",{type:"button",onClick:N,className:"mt-2  border-2 border-blue p-2 text-blue rounded-md",children:"+ Add Another Quiz"})]}),S.jsxs("section",{className:"flex flex-col gap-4 md:flex-row justify-between p-4",children:[S.jsx("button",{type:"submit",onClick:_,className:"bg-blue text-white px-4 py-2 rounded",children:"Submit"}),S.jsx("button",{type:"button",onClick:()=>console.log("Save as Draft"),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-500",children:"Save as Draft"})]})]})})]})})})},eD=()=>{V.useContext(ns);const[t,e]=V.useState(""),[n,r]=V.useState(""),i=vi(),s=async o=>{o.preventDefault();const a=ui(fi);try{await tR(a,t,n),ke.success("Login successful",{position:"top-center",autoClose:2e3}),i("/dashboard"),e(""),r("")}catch(u){console.error(u),ke.error(`${u.message}`,{position:"top-center",autoClose:2e3})}};return S.jsx("section",{className:" bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100% flex lg:flex lg:justify-between lg:items-center justify-center items-center pb-10",children:S.jsxs("div",{className:"lg:flex lg:flex-col lg:justify-center lg:items-center mx-auto",children:[S.jsx("div",{className:"mx-auto w-[20rem] mb-3 font-bold text-2xl lg:text-3xl text-center",children:S.jsxs("h1",{className:"text-blue",children:[" ",S.jsx("span",{className:"mr-2",children:S.jsx("ion-icon",{name:"desktop"})}),"Sigma Learning Platform"]})}),S.jsxs("div",{className:"bg-blue p-5 rounded-md md:p-10 flex flex-col items-center",children:[S.jsxs("form",{className:"flex flex-col",onSubmit:s,children:[S.jsxs("div",{className:"mb-3 flex flex-col",children:[S.jsx("label",{htmlFor:"email",className:"text-md mb-1 text-white",children:"Email"}),S.jsx("input",{type:"email",id:"email",className:" invalid:text-red-400 border-none outline-none p-1 w-80 bg-white",placeholder:"enter your email",value:t,onChange:o=>e(o.target.value)})]}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("label",{htmlFor:"password",className:"text-md mb-1 text-white",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:"border-none outline-none  p-1 w-80 bg-white",placeholder:"enter your password",value:n,onChange:o=>r(o.target.value)})]}),S.jsx("div",{className:"bg-white text-center mt-10 rounded-md p-1 text-blue text-lg hover:bg-slate-950 hover:text-white hover:transition hover:duration-200",children:S.jsx("button",{children:"Login"})})]}),S.jsxs("p",{className:"mt-4 text-white",children:["don't have an account?"," ",S.jsx(Pp,{className:"text-blue bg-slate-400 p-2",to:"/signup",children:"signup"})]})]})]})})};var z1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(aT,function(){return function(n){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return n[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r,i){function s(E){return E&&E.__esModule?E:{default:E}}function o(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function a(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?E:w}function u(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function E(w,A){for(var N=0;N<A.length;N++){var I=A[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,A,N){return A&&E(w.prototype,A),N&&E(w,N),w}}(),d=i(36),f=s(d),p=function(E){function w(A){o(this,w);var N=a(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A));return N.state={files:[]},N}return u(w,E),c(w,[{key:"handleChange",value:function(A){for(var N=this,I=A.target.files,_=[],v=function(){var D=I[x],b=new FileReader;b.readAsDataURL(D),b.onload=function(){var m={name:D.name,type:D.type,size:Math.round(D.size/1e3)+" kB",base64:b.result,file:D};_.push(m),_.length==I.length&&(N.props.multiple?N.props.onDone(_):N.props.onDone(_[0]))}},x=0;x<I.length;x++)v()}},{key:"render",value:function(){return f.default.createElement("input",{type:"file",onChange:this.handleChange.bind(this),multiple:this.props.multiple})}}]),w}(f.default.Component);r.default=p,p.defaultProps={multiple:!1}},function(n,r){function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(v){if(p===setTimeout)return setTimeout(v,0);if((p===i||!p)&&setTimeout)return p=setTimeout,setTimeout(v,0);try{return p(v,0)}catch{try{return p.call(null,v,0)}catch{return p.call(this,v,0)}}}function a(v){if(E===clearTimeout)return clearTimeout(v);if((E===s||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(v);try{return E(v)}catch{try{return E.call(null,v)}catch{return E.call(this,v)}}}function u(){I&&A&&(I=!1,A.length?N=A.concat(N):_=-1,N.length&&c())}function c(){if(!I){var v=o(u);I=!0;for(var x=N.length;x;){for(A=N,N=[];++_<x;)A&&A[_].run();_=-1,x=N.length}A=null,I=!1,a(v)}}function d(v,x){this.fun=v,this.array=x}function f(){}var p,E,w=n.exports={};(function(){try{p=typeof setTimeout=="function"?setTimeout:i}catch{p=i}try{E=typeof clearTimeout=="function"?clearTimeout:s}catch{E=s}})();var A,N=[],I=!1,_=-1;w.nextTick=function(v){var x=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)x[D-1]=arguments[D];N.push(new d(v,x)),N.length!==1||I||o(c)},d.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=f,w.addListener=f,w.once=f,w.off=f,w.removeListener=f,w.removeAllListeners=f,w.emit=f,w.prependListener=f,w.prependOnceListener=f,w.listeners=function(v){return[]},w.binding=function(v){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(v){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(n,r,i){(function(s){function o(u,c,d,f,p,E,w,A){if(a(c),!u){var N;if(c===void 0)N=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var I=[d,f,p,E,w,A],_=0;N=new Error(c.replace(/%s/g,function(){return I[_++]})),N.name="Invariant Violation"}throw N.framesToPop=1,N}}var a=function(u){};s.env.NODE_ENV!=="production"&&(a=function(u){if(u===void 0)throw new Error("invariant requires an error message argument")}),n.exports=o}).call(r,i(1))},function(n,r,i){(function(s){var o=i(9),a=o;if(s.env.NODE_ENV!=="production"){var u=function(c){for(var d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];var E=0,w="Warning: "+c.replace(/%s/g,function(){return f[E++]});typeof console<"u"&&console.error(w);try{throw new Error(w)}catch{}};a=function(c,d){if(d===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(d.indexOf("Failed Composite propType: ")!==0&&!c){for(var f=arguments.length,p=Array(f>2?f-2:0),E=2;E<f;E++)p[E-2]=arguments[E];u.apply(void 0,[d].concat(p))}}}n.exports=a}).call(r,i(1))},function(n,r,i){(function(s){function o(x){if(s.env.NODE_ENV!=="production"&&N.call(x,"ref")){var D=Object.getOwnPropertyDescriptor(x,"ref").get;if(D&&D.isReactWarning)return!1}return x.ref!==void 0}function a(x){if(s.env.NODE_ENV!=="production"&&N.call(x,"key")){var D=Object.getOwnPropertyDescriptor(x,"key").get;if(D&&D.isReactWarning)return!1}return x.key!==void 0}function u(x,D){var b=function(){d||(d=!0,s.env.NODE_ENV!=="production"&&w(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",D))};b.isReactWarning=!0,Object.defineProperty(x,"key",{get:b,configurable:!0})}function c(x,D){var b=function(){f||(f=!0,s.env.NODE_ENV!=="production"&&w(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",D))};b.isReactWarning=!0,Object.defineProperty(x,"ref",{get:b,configurable:!0})}var d,f,p=i(6),E=i(7),w=i(3),A=i(8),N=Object.prototype.hasOwnProperty,I=i(15),_={key:!0,ref:!0,__self:!0,__source:!0},v=function(x,D,b,m,y,T,C){var k={$$typeof:I,type:x,key:D,ref:b,props:C,_owner:T};return s.env.NODE_ENV!=="production"&&(k._store={},A?(Object.defineProperty(k._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(k,"_self",{configurable:!1,enumerable:!1,writable:!1,value:m}),Object.defineProperty(k,"_source",{configurable:!1,enumerable:!1,writable:!1,value:y})):(k._store.validated=!1,k._self=m,k._source=y),Object.freeze&&(Object.freeze(k.props),Object.freeze(k))),k};v.createElement=function(x,D,b){var m,y={},T=null,C=null,k=null,O=null;if(D!=null){o(D)&&(C=D.ref),a(D)&&(T=""+D.key),k=D.__self===void 0?null:D.__self,O=D.__source===void 0?null:D.__source;for(m in D)N.call(D,m)&&!_.hasOwnProperty(m)&&(y[m]=D[m])}var R=arguments.length-2;if(R===1)y.children=b;else if(R>1){for(var Z=Array(R),z=0;z<R;z++)Z[z]=arguments[z+2];s.env.NODE_ENV!=="production"&&Object.freeze&&Object.freeze(Z),y.children=Z}if(x&&x.defaultProps){var q=x.defaultProps;for(m in q)y[m]===void 0&&(y[m]=q[m])}if(s.env.NODE_ENV!=="production"&&(T||C)&&(typeof y.$$typeof>"u"||y.$$typeof!==I)){var ne=typeof x=="function"?x.displayName||x.name||"Unknown":x;T&&u(y,ne),C&&c(y,ne)}return v(x,T,C,k,O,E.current,y)},v.createFactory=function(x){var D=v.createElement.bind(null,x);return D.type=x,D},v.cloneAndReplaceKey=function(x,D){var b=v(x.type,D,x.ref,x._self,x._source,x._owner,x.props);return b},v.cloneElement=function(x,D,b){var m,y=p({},x.props),T=x.key,C=x.ref,k=x._self,O=x._source,R=x._owner;if(D!=null){o(D)&&(C=D.ref,R=E.current),a(D)&&(T=""+D.key);var Z;x.type&&x.type.defaultProps&&(Z=x.type.defaultProps);for(m in D)N.call(D,m)&&!_.hasOwnProperty(m)&&(D[m]===void 0&&Z!==void 0?y[m]=Z[m]:y[m]=D[m])}var z=arguments.length-2;if(z===1)y.children=b;else if(z>1){for(var q=Array(z),ne=0;ne<z;ne++)q[ne]=arguments[ne+2];y.children=q}return v(x.type,T,C,k,O,R,y)},v.isValidElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===I},n.exports=v}).call(r,i(1))},function(n,r){function i(s){for(var o=arguments.length-1,a="Minified React error #"+s+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+s,u=0;u<o;u++)a+="&args[]="+encodeURIComponent(arguments[u+1]);a+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var c=new Error(a);throw c.name="Invariant Violation",c.framesToPop=1,c}n.exports=i},function(n,r){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function i(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function s(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var d={},f=0;f<10;f++)d["_"+String.fromCharCode(f)]=f;var p=Object.getOwnPropertyNames(d).map(function(w){return d[w]});if(p.join("")!=="0123456789")return!1;var E={};return"abcdefghijklmnopqrst".split("").forEach(function(w){E[w]=w}),Object.keys(Object.assign({},E)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;n.exports=s()?Object.assign:function(c,d){for(var f,p,E=i(c),w=1;w<arguments.length;w++){f=Object(arguments[w]);for(var A in f)a.call(f,A)&&(E[A]=f[A]);if(o){p=o(f);for(var N=0;N<p.length;N++)u.call(f,p[N])&&(E[p[N]]=f[p[N]])}}return E}},function(n,r){var i={current:null};n.exports=i},function(n,r,i){(function(s){var o=!1;if(s.env.NODE_ENV!=="production")try{Object.defineProperty({},"x",{get:function(){}}),o=!0}catch{}n.exports=o}).call(r,i(1))},function(n,r){function i(o){return function(){return o}}var s=function(){};s.thatReturns=i,s.thatReturnsFalse=i(!1),s.thatReturnsTrue=i(!0),s.thatReturnsNull=i(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(o){return o},n.exports=s},function(n,r,i){(function(s){function o(z){var q=Function.prototype.toString,ne=Object.prototype.hasOwnProperty,L=RegExp("^"+q.call(ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var M=q.call(z);return L.test(M)}catch{return!1}}function a(z){var q=p(z);if(q){var ne=q.childIDs;E(z),ne.forEach(a)}}function u(z,q,ne){return`
    in `+(z||"Unknown")+(q?" (at "+q.fileName.replace(/^.*[\\\/]/,"")+":"+q.lineNumber+")":ne?" (created by "+ne+")":"")}function c(z){return z==null?"#empty":typeof z=="string"||typeof z=="number"?"#text":typeof z.type=="string"?z.type:z.type.displayName||z.type.name||"Unknown"}function d(z){var q,ne=Z.getDisplayName(z),L=Z.getElement(z),M=Z.getOwnerID(z);return M&&(q=Z.getDisplayName(M)),s.env.NODE_ENV!=="production"&&D(L,"ReactComponentTreeHook: Missing React element for debugID %s when building stack",z),u(ne,L&&L._source,q)}var f,p,E,w,A,N,I,_=i(5),v=i(7),x=i(2),D=i(3),b=typeof Array.from=="function"&&typeof Map=="function"&&o(Map)&&Map.prototype!=null&&typeof Map.prototype.keys=="function"&&o(Map.prototype.keys)&&typeof Set=="function"&&o(Set)&&Set.prototype!=null&&typeof Set.prototype.keys=="function"&&o(Set.prototype.keys);if(b){var m=new Map,y=new Set;f=function(z,q){m.set(z,q)},p=function(z){return m.get(z)},E=function(z){m.delete(z)},w=function(){return Array.from(m.keys())},A=function(z){y.add(z)},N=function(z){y.delete(z)},I=function(){return Array.from(y.keys())}}else{var T={},C={},k=function(z){return"."+z},O=function(z){return parseInt(z.substr(1),10)};f=function(z,q){var ne=k(z);T[ne]=q},p=function(z){var q=k(z);return T[q]},E=function(z){var q=k(z);delete T[q]},w=function(){return Object.keys(T).map(O)},A=function(z){var q=k(z);C[q]=!0},N=function(z){var q=k(z);delete C[q]},I=function(){return Object.keys(C).map(O)}}var R=[],Z={onSetChildren:function(z,q){var ne=p(z);ne||(s.env.NODE_ENV!=="production"?x(!1,"Item must have been set"):_("144")),ne.childIDs=q;for(var L=0;L<q.length;L++){var M=q[L],F=p(M);F||(s.env.NODE_ENV!=="production"?x(!1,"Expected hook events to fire for the child before its parent includes it in onSetChildren()."):_("140")),F.childIDs==null&&typeof F.element=="object"&&F.element!=null&&(s.env.NODE_ENV!=="production"?x(!1,"Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren()."):_("141")),F.isMounted||(s.env.NODE_ENV!=="production"?x(!1,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."):_("71")),F.parentID==null&&(F.parentID=z),F.parentID!==z&&(s.env.NODE_ENV!=="production"?x(!1,"Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).",M,F.parentID,z):_("142",M,F.parentID,z))}},onBeforeMountComponent:function(z,q,ne){var L={element:q,parentID:ne,text:null,childIDs:[],isMounted:!1,updateCount:0};f(z,L)},onBeforeUpdateComponent:function(z,q){var ne=p(z);ne&&ne.isMounted&&(ne.element=q)},onMountComponent:function(z){var q=p(z);q||(s.env.NODE_ENV!=="production"?x(!1,"Item must have been set"):_("144")),q.isMounted=!0;var ne=q.parentID===0;ne&&A(z)},onUpdateComponent:function(z){var q=p(z);q&&q.isMounted&&q.updateCount++},onUnmountComponent:function(z){var q=p(z);if(q){q.isMounted=!1;var ne=q.parentID===0;ne&&N(z)}R.push(z)},purgeUnmountedComponents:function(){if(!Z._preventPurging){for(var z=0;z<R.length;z++){var q=R[z];a(q)}R.length=0}},isMounted:function(z){var q=p(z);return!!q&&q.isMounted},getCurrentStackAddendum:function(z){var q="";if(z){var ne=c(z),L=z._owner;q+=u(ne,z._source,L&&L.getName())}var M=v.current,F=M&&M._debugID;return q+=Z.getStackAddendumByID(F)},getStackAddendumByID:function(z){for(var q="";z;)q+=d(z),z=Z.getParentID(z);return q},getChildIDs:function(z){var q=p(z);return q?q.childIDs:[]},getDisplayName:function(z){var q=Z.getElement(z);return q?c(q):null},getElement:function(z){var q=p(z);return q?q.element:null},getOwnerID:function(z){var q=Z.getElement(z);return q&&q._owner?q._owner._debugID:null},getParentID:function(z){var q=p(z);return q?q.parentID:null},getSource:function(z){var q=p(z),ne=q?q.element:null,L=ne!=null?ne._source:null;return L},getText:function(z){var q=Z.getElement(z);return typeof q=="string"?q:typeof q=="number"?""+q:null},getUpdateCount:function(z){var q=p(z);return q?q.updateCount:0},getRootIDs:I,getRegisteredIDs:w,pushNonStandardWarningStack:function(z,q){if(typeof console.reactStack=="function"){var ne=[],L=v.current,M=L&&L._debugID;try{for(z&&ne.push({name:M?Z.getDisplayName(M):null,fileName:q?q.fileName:null,lineNumber:q?q.lineNumber:null});M;){var F=Z.getElement(M),B=Z.getParentID(M),W=Z.getOwnerID(M),G=W?Z.getDisplayName(W):null,te=F&&F._source;ne.push({name:G,fileName:te?te.fileName:null,lineNumber:te?te.lineNumber:null}),M=B}}catch{}console.reactStack(ne)}},popNonStandardWarningStack:function(){typeof console.reactStackEnd=="function"&&console.reactStackEnd()}};n.exports=Z}).call(r,i(1))},function(n,r,i){(function(s){var o=function(){};if(s.env.NODE_ENV!=="production"){var a=function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];var p=0,E="Warning: "+u.replace(/%s/g,function(){return d[p++]});typeof console<"u"&&console.warn(E);try{throw new Error(E)}catch{}};o=function(u,c){if(c===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!u){for(var d=arguments.length,f=Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];a.apply(void 0,[c].concat(f))}}}n.exports=o}).call(r,i(1))},function(n,r,i){(function(s){var o={};s.env.NODE_ENV!=="production"&&Object.freeze(o),n.exports=o}).call(r,i(1))},function(n,r){var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=i},function(n,r,i){(function(s){function o(v,x,D){this.props=v,this.context=x,this.refs=E,this.updater=D||f}function a(v,x,D){this.props=v,this.context=x,this.refs=E,this.updater=D||f}function u(){}var c=i(5),d=i(6),f=i(17),p=i(8),E=i(12),w=i(2),A=i(11);if(o.prototype.isReactComponent={},o.prototype.setState=function(v,x){typeof v!="object"&&typeof v!="function"&&v!=null&&(s.env.NODE_ENV!=="production"?w(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):c("85")),this.updater.enqueueSetState(this,v),x&&this.updater.enqueueCallback(this,x,"setState")},o.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this),v&&this.updater.enqueueCallback(this,v,"forceUpdate")},s.env.NODE_ENV!=="production"){var N={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},I=function(v,x){p&&Object.defineProperty(o.prototype,v,{get:function(){A(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",x[0],x[1])}})};for(var _ in N)N.hasOwnProperty(_)&&I(_,N[_])}u.prototype=o.prototype,a.prototype=new u,a.prototype.constructor=a,d(a.prototype,o.prototype),a.prototype.isPureReactComponent=!0,n.exports={Component:o,PureComponent:a}}).call(r,i(1))},function(n,r){var i=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103;n.exports=i},function(n,r,i){(function(s){function o(){if(p.current){var b=p.current.getName();if(b)return" Check the render method of `"+b+"`."}return""}function a(b){if(b!=null&&b.__source!==void 0){var m=b.__source,y=m.fileName.replace(/^.*[\\\/]/,""),T=m.lineNumber;return" Check your code at "+y+":"+T+"."}return""}function u(b){var m=o();if(!m){var y=typeof b=="string"?b:b.displayName||b.name;y&&(m=" Check the top-level render call using <"+y+">.")}return m}function c(b,m){if(b._store&&!b._store.validated&&b.key==null){b._store.validated=!0;var y=x.uniqueKey||(x.uniqueKey={}),T=u(m);if(!y[T]){y[T]=!0;var C="";b&&b._owner&&b._owner!==p.current&&(C=" It was passed a child from "+b._owner.getName()+"."),s.env.NODE_ENV!=="production"&&_(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',T,C,E.getCurrentStackAddendum(b))}}}function d(b,m){if(typeof b=="object"){if(Array.isArray(b))for(var y=0;y<b.length;y++){var T=b[y];w.isValidElement(T)&&c(T,m)}else if(w.isValidElement(b))b._store&&(b._store.validated=!0);else if(b){var C=I(b);if(C&&C!==b.entries)for(var k,O=C.call(b);!(k=O.next()).done;)w.isValidElement(k.value)&&c(k.value,m)}}}function f(b){var m=b.type;if(typeof m=="function"){var y=m.displayName||m.name;m.propTypes&&A(m.propTypes,b.props,"prop",y,b,null),typeof m.getDefaultProps=="function"&&(s.env.NODE_ENV!=="production"&&_(m.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."))}}var p=i(7),E=i(10),w=i(4),A=i(32),N=i(8),I=i(18),_=i(3),v=i(11),x={},D={createElement:function(b,m,y){var T=typeof b=="string"||typeof b=="function";if(!T&&typeof b!="function"&&typeof b!="string"){var C="";(b===void 0||typeof b=="object"&&b!==null&&Object.keys(b).length===0)&&(C+=" You likely forgot to export your component from the file it's defined in.");var k=a(m);C+=k||o(),C+=E.getCurrentStackAddendum();var O=m!=null&&m.__source!==void 0?m.__source:null;E.pushNonStandardWarningStack(!0,O),s.env.NODE_ENV!=="production"&&_(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",b==null?b:typeof b,C),E.popNonStandardWarningStack()}var R=w.createElement.apply(this,arguments);if(R==null)return R;if(T)for(var Z=2;Z<arguments.length;Z++)d(arguments[Z],b);return f(R),R},createFactory:function(b){var m=D.createElement.bind(null,b);return m.type=b,s.env.NODE_ENV!=="production"&&N&&Object.defineProperty(m,"type",{enumerable:!1,get:function(){return v(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:b}),b}}),m},cloneElement:function(b,m,y){for(var T=w.cloneElement.apply(this,arguments),C=2;C<arguments.length;C++)d(arguments[C],T.type);return f(T),T}};n.exports=D}).call(r,i(1))},function(n,r,i){(function(s){function o(c,d){if(s.env.NODE_ENV!=="production"){var f=c.constructor;s.env.NODE_ENV!=="production"&&a(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",d,d,f&&(f.displayName||f.name)||"ReactClass")}}var a=i(3),u={isMounted:function(c){return!1},enqueueCallback:function(c,d){},enqueueForceUpdate:function(c){o(c,"forceUpdate")},enqueueReplaceState:function(c,d){o(c,"replaceState")},enqueueSetState:function(c,d){o(c,"setState")}};n.exports=u}).call(r,i(1))},function(n,r){function i(a){var u=a&&(s&&a[s]||a[o]);if(typeof u=="function")return u}var s=typeof Symbol=="function"&&Symbol.iterator,o="@@iterator";n.exports=i},function(n,r,i){(function(s){function o(w){return w}function a(w,A,N){function I(L,M,F){for(var B in M)M.hasOwnProperty(B)&&s.env.NODE_ENV!=="production"&&f(typeof M[B]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",L.displayName||"ReactClass",p[F],B)}function _(L,M){var F=O.hasOwnProperty(M)?O[M]:null;q.hasOwnProperty(M)&&d(F==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",M),L&&d(F==="DEFINE_MANY"||F==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",M)}function v(L,M){if(M){d(typeof M!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),d(!A(M),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var F=L.prototype,B=F.__reactAutoBindPairs;M.hasOwnProperty(E)&&R.mixins(L,M.mixins);for(var W in M)if(M.hasOwnProperty(W)&&W!==E){var G=M[W],te=F.hasOwnProperty(W);if(_(te,W),R.hasOwnProperty(W))R[W](L,G);else{var se=O.hasOwnProperty(W),de=typeof G=="function",ue=de&&!se&&!te&&M.autobind!==!1;if(ue)B.push(W,G),F[W]=G;else if(te){var we=O[W];d(se&&(we==="DEFINE_MANY_MERGED"||we==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",we,W),we==="DEFINE_MANY_MERGED"?F[W]=b(F[W],G):we==="DEFINE_MANY"&&(F[W]=m(F[W],G))}else F[W]=G,s.env.NODE_ENV!=="production"&&typeof G=="function"&&M.displayName&&(F[W].displayName=M.displayName+"_"+W)}}}else if(s.env.NODE_ENV!=="production"){var Ae=typeof M,Ne=Ae==="object"&&M!==null;s.env.NODE_ENV!=="production"&&f(Ne,"%s: You're attempting to include a mixin that is either null or not an object. Check the mixins included by the component, as well as any mixins they include themselves. Expected object but got %s.",L.displayName||"ReactClass",M===null?null:Ae)}}function x(L,M){if(M)for(var F in M){var B=M[F];if(M.hasOwnProperty(F)){var W=F in R;d(!W,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',F);var G=F in L;d(!G,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",F),L[F]=B}}}function D(L,M){d(L&&M&&typeof L=="object"&&typeof M=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var F in M)M.hasOwnProperty(F)&&(d(L[F]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",F),L[F]=M[F]);return L}function b(L,M){return function(){var F=L.apply(this,arguments),B=M.apply(this,arguments);if(F==null)return B;if(B==null)return F;var W={};return D(W,F),D(W,B),W}}function m(L,M){return function(){L.apply(this,arguments),M.apply(this,arguments)}}function y(L,M){var F=M.bind(L);if(s.env.NODE_ENV!=="production"){F.__reactBoundContext=L,F.__reactBoundMethod=M,F.__reactBoundArguments=null;var B=L.constructor.displayName,W=F.bind;F.bind=function(G){for(var te=arguments.length,se=Array(te>1?te-1:0),de=1;de<te;de++)se[de-1]=arguments[de];if(G!==L&&G!==null)s.env.NODE_ENV!=="production"&&f(!1,"bind(): React component methods may only be bound to the component instance. See %s",B);else if(!se.length)return s.env.NODE_ENV!=="production"&&f(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",B),F;var ue=W.apply(F,arguments);return ue.__reactBoundContext=L,ue.__reactBoundMethod=M,ue.__reactBoundArguments=se,ue}}return F}function T(L){for(var M=L.__reactAutoBindPairs,F=0;F<M.length;F+=2){var B=M[F],W=M[F+1];L[B]=y(L,W)}}function C(L){var M=function(B,W,G){s.env.NODE_ENV!=="production"&&f(this instanceof M,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindPairs.length&&T(this),this.props=B,this.context=W,this.refs=c,this.updater=G||N,this.state=null;var te=this.getInitialState?this.getInitialState():null;s.env.NODE_ENV!=="production"&&te===void 0&&this.getInitialState._isMockFunction&&(te=null),d(typeof te=="object"&&!Array.isArray(te),"%s.getInitialState(): must return an object or null",M.displayName||"ReactCompositeComponent"),this.state=te};M.prototype=new ne,M.prototype.constructor=M,M.prototype.__reactAutoBindPairs=[],k.forEach(v.bind(null,M)),v(M,Z),v(M,L),v(M,z),M.getDefaultProps&&(M.defaultProps=M.getDefaultProps()),s.env.NODE_ENV!=="production"&&(M.getDefaultProps&&(M.getDefaultProps.isReactClassApproved={}),M.prototype.getInitialState&&(M.prototype.getInitialState.isReactClassApproved={})),d(M.prototype.render,"createClass(...): Class specification must implement a `render` method."),s.env.NODE_ENV!=="production"&&(f(!M.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",L.displayName||"A component"),f(!M.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",L.displayName||"A component"));for(var F in O)M.prototype[F]||(M.prototype[F]=null);return M}var k=[],O={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},R={displayName:function(L,M){L.displayName=M},mixins:function(L,M){if(M)for(var F=0;F<M.length;F++)v(L,M[F])},childContextTypes:function(L,M){s.env.NODE_ENV!=="production"&&I(L,M,"childContext"),L.childContextTypes=u({},L.childContextTypes,M)},contextTypes:function(L,M){s.env.NODE_ENV!=="production"&&I(L,M,"context"),L.contextTypes=u({},L.contextTypes,M)},getDefaultProps:function(L,M){L.getDefaultProps?L.getDefaultProps=b(L.getDefaultProps,M):L.getDefaultProps=M},propTypes:function(L,M){s.env.NODE_ENV!=="production"&&I(L,M,"prop"),L.propTypes=u({},L.propTypes,M)},statics:function(L,M){x(L,M)},autobind:function(){}},Z={componentDidMount:function(){this.__isMounted=!0}},z={componentWillUnmount:function(){this.__isMounted=!1}},q={replaceState:function(L,M){this.updater.enqueueReplaceState(this,L,M)},isMounted:function(){return s.env.NODE_ENV!=="production"&&(f(this.__didWarnIsMounted,"%s: isMounted is deprecated. Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.",this.constructor&&this.constructor.displayName||this.name||"Component"),this.__didWarnIsMounted=!0),!!this.__isMounted}},ne=function(){};return u(ne.prototype,w.prototype,q),C}var u=i(6),c=i(12),d=i(2);if(s.env.NODE_ENV!=="production")var f=i(3);var p,E="mixins";p=s.env.NODE_ENV!=="production"?{prop:"prop",context:"context",childContext:"child context"}:{},n.exports=a}).call(r,i(1))},function(n,r,i){(function(s){function o(f,p,E,w,A){if(s.env.NODE_ENV!=="production"){for(var N in f)if(f.hasOwnProperty(N)){var I;try{a(typeof f[N]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",w||"React class",E,N),I=f[N](p,N,w,E,null,c)}catch(v){I=v}if(u(!I||I instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",w||"React class",E,N,typeof I),I instanceof Error&&!(I.message in d)){d[I.message]=!0;var _=A?A():"";u(!1,"Failed %s type: %s%s",E,I.message,_??"")}}}}if(s.env.NODE_ENV!=="production")var a=i(2),u=i(3),c=i(13),d={};n.exports=o}).call(r,i(1))},function(n,r,i){var s=i(22);n.exports=function(o){var a=!1;return s(o,a)}},function(n,r,i){(function(s){var o=i(9),a=i(2),u=i(3),c=i(13),d=i(20);n.exports=function(f,p){function E(B){var W=B&&(ne&&B[ne]||B[L]);if(typeof W=="function")return W}function w(B,W){return B===W?B!==0||1/B===1/W:B!==B&&W!==W}function A(B){this.message=B,this.stack=""}function N(B){function W(de,ue,we,Ae,Ne,Ve,tt){if(Ae=Ae||M,Ve=Ve||we,tt!==c){if(p)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(s.env.NODE_ENV!=="production"&&typeof console<"u"){var cn=Ae+":"+we;!G[cn]&&te<3&&(u(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",Ve,Ae),G[cn]=!0,te++)}}return ue[we]==null?de?new A(ue[we]===null?"The "+Ne+" `"+Ve+"` is marked as required "+("in `"+Ae+"`, but its value is `null`."):"The "+Ne+" `"+Ve+"` is marked as required in "+("`"+Ae+"`, but its value is `undefined`.")):null:B(ue,we,Ae,Ne,Ve)}if(s.env.NODE_ENV!=="production")var G={},te=0;var se=W.bind(null,!1);return se.isRequired=W.bind(null,!0),se}function I(B){function W(G,te,se,de,ue,we){var Ae=G[te],Ne=R(Ae);if(Ne!==B){var Ve=Z(Ae);return new A("Invalid "+de+" `"+ue+"` of type "+("`"+Ve+"` supplied to `"+se+"`, expected ")+("`"+B+"`."))}return null}return N(W)}function _(){return N(o.thatReturnsNull)}function v(B){function W(G,te,se,de,ue){if(typeof B!="function")return new A("Property `"+ue+"` of component `"+se+"` has invalid PropType notation inside arrayOf.");var we=G[te];if(!Array.isArray(we)){var Ae=R(we);return new A("Invalid "+de+" `"+ue+"` of type "+("`"+Ae+"` supplied to `"+se+"`, expected an array."))}for(var Ne=0;Ne<we.length;Ne++){var Ve=B(we,Ne,se,de,ue+"["+Ne+"]",c);if(Ve instanceof Error)return Ve}return null}return N(W)}function x(){function B(W,G,te,se,de){var ue=W[G];if(!f(ue)){var we=R(ue);return new A("Invalid "+se+" `"+de+"` of type "+("`"+we+"` supplied to `"+te+"`, expected a single ReactElement."))}return null}return N(B)}function D(B){function W(G,te,se,de,ue){if(!(G[te]instanceof B)){var we=B.name||M,Ae=q(G[te]);return new A("Invalid "+de+" `"+ue+"` of type "+("`"+Ae+"` supplied to `"+se+"`, expected ")+("instance of `"+we+"`."))}return null}return N(W)}function b(B){function W(G,te,se,de,ue){for(var we=G[te],Ae=0;Ae<B.length;Ae++)if(w(we,B[Ae]))return null;var Ne=JSON.stringify(B);return new A("Invalid "+de+" `"+ue+"` of value `"+we+"` "+("supplied to `"+se+"`, expected one of "+Ne+"."))}return Array.isArray(B)?N(W):(s.env.NODE_ENV!=="production"&&u(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)}function m(B){function W(G,te,se,de,ue){if(typeof B!="function")return new A("Property `"+ue+"` of component `"+se+"` has invalid PropType notation inside objectOf.");var we=G[te],Ae=R(we);if(Ae!=="object")return new A("Invalid "+de+" `"+ue+"` of type "+("`"+Ae+"` supplied to `"+se+"`, expected an object."));for(var Ne in we)if(we.hasOwnProperty(Ne)){var Ve=B(we,Ne,se,de,ue+"."+Ne,c);if(Ve instanceof Error)return Ve}return null}return N(W)}function y(B){function W(se,de,ue,we,Ae){for(var Ne=0;Ne<B.length;Ne++){var Ve=B[Ne];if(Ve(se,de,ue,we,Ae,c)==null)return null}return new A("Invalid "+we+" `"+Ae+"` supplied to "+("`"+ue+"`."))}if(!Array.isArray(B))return s.env.NODE_ENV!=="production"&&u(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var G=0;G<B.length;G++){var te=B[G];if(typeof te!="function")return u(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",z(te),G),o.thatReturnsNull}return N(W)}function T(){function B(W,G,te,se,de){return k(W[G])?null:new A("Invalid "+se+" `"+de+"` supplied to "+("`"+te+"`, expected a ReactNode."))}return N(B)}function C(B){function W(G,te,se,de,ue){var we=G[te],Ae=R(we);if(Ae!=="object")return new A("Invalid "+de+" `"+ue+"` of type `"+Ae+"` "+("supplied to `"+se+"`, expected `object`."));for(var Ne in B){var Ve=B[Ne];if(Ve){var tt=Ve(we,Ne,se,de,ue+"."+Ne,c);if(tt)return tt}}return null}return N(W)}function k(B){switch(typeof B){case"number":case"string":case"undefined":return!0;case"boolean":return!B;case"object":if(Array.isArray(B))return B.every(k);if(B===null||f(B))return!0;var W=E(B);if(!W)return!1;var G,te=W.call(B);if(W!==B.entries){for(;!(G=te.next()).done;)if(!k(G.value))return!1}else for(;!(G=te.next()).done;){var se=G.value;if(se&&!k(se[1]))return!1}return!0;default:return!1}}function O(B,W){return B==="symbol"||W["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&W instanceof Symbol}function R(B){var W=typeof B;return Array.isArray(B)?"array":B instanceof RegExp?"object":O(W,B)?"symbol":W}function Z(B){if(typeof B>"u"||B===null)return""+B;var W=R(B);if(W==="object"){if(B instanceof Date)return"date";if(B instanceof RegExp)return"regexp"}return W}function z(B){var W=Z(B);switch(W){case"array":case"object":return"an "+W;case"boolean":case"date":case"regexp":return"a "+W;default:return W}}function q(B){return B.constructor&&B.constructor.name?B.constructor.name:M}var ne=typeof Symbol=="function"&&Symbol.iterator,L="@@iterator",M="<<anonymous>>",F={array:I("array"),bool:I("boolean"),func:I("function"),number:I("number"),object:I("object"),string:I("string"),symbol:I("symbol"),any:_(),arrayOf:v,element:x(),instanceOf:D,node:T(),objectOf:m,oneOf:b,oneOfType:y,shape:C};return A.prototype=Error.prototype,F.checkPropTypes=d,F.PropTypes=F,F}}).call(r,i(1))},function(n,r){function i(a){var u=/[=:]/g,c={"=":"=0",":":"=2"},d=(""+a).replace(u,function(f){return c[f]});return"$"+d}function s(a){var u=/(=0|=2)/g,c={"=0":"=","=2":":"},d=a[0]==="."&&a[1]==="$"?a.substring(2):a.substring(1);return(""+d).replace(u,function(f){return c[f]})}var o={escape:i,unescape:s};n.exports=o},function(n,r,i){(function(s){var o=i(5),a=i(2),u=function(I){var _=this;if(_.instancePool.length){var v=_.instancePool.pop();return _.call(v,I),v}return new _(I)},c=function(I,_){var v=this;if(v.instancePool.length){var x=v.instancePool.pop();return v.call(x,I,_),x}return new v(I,_)},d=function(I,_,v){var x=this;if(x.instancePool.length){var D=x.instancePool.pop();return x.call(D,I,_,v),D}return new x(I,_,v)},f=function(I,_,v,x){var D=this;if(D.instancePool.length){var b=D.instancePool.pop();return D.call(b,I,_,v,x),b}return new D(I,_,v,x)},p=function(I){var _=this;I instanceof _||(s.env.NODE_ENV!=="production"?a(!1,"Trying to release an instance into a pool of a different type."):o("25")),I.destructor(),_.instancePool.length<_.poolSize&&_.instancePool.push(I)},E=10,w=u,A=function(I,_){var v=I;return v.instancePool=[],v.getPooled=_||w,v.poolSize||(v.poolSize=E),v.release=p,v},N={addPoolingTo:A,oneArgumentPooler:u,twoArgumentPooler:c,threeArgumentPooler:d,fourArgumentPooler:f};n.exports=N}).call(r,i(1))},function(n,r,i){(function(s){var o=i(6),a=i(14),u=i(26),c=i(27),d=i(4),f=i(29),p=i(31),E=i(33),w=i(34),A=d.createElement,N=d.createFactory,I=d.cloneElement;if(s.env.NODE_ENV!=="production"){var _=i(11),v=i(8),x=i(16),D=!1;A=x.createElement,N=x.createFactory,I=x.cloneElement}var b=o,m=function(R){return R};if(s.env.NODE_ENV!=="production"){var y=!1,T=!1;b=function(){return _(y,"React.__spread is deprecated and should not be used. Use Object.assign directly or another helper function with similar semantics. You may be seeing this warning due to your compiler. See https://fb.me/react-spread-deprecation for more details."),y=!0,o.apply(null,arguments)},m=function(R){return _(T,"React.createMixin is deprecated and should not be used. In React v16.0, it will be removed. You can use this mixin directly instead. See https://fb.me/createmixin-was-never-implemented for more info."),T=!0,R}}var C={Children:{map:u.map,forEach:u.forEach,count:u.count,toArray:u.toArray,only:w},Component:a.Component,PureComponent:a.PureComponent,createElement:A,cloneElement:I,isValidElement:d.isValidElement,PropTypes:f,createClass:E,createFactory:N,createMixin:m,DOM:c,version:p,__spread:b};if(s.env.NODE_ENV!=="production"){var k=!1;v&&(Object.defineProperty(C,"PropTypes",{get:function(){return _(D,"Accessing PropTypes via the main React package is deprecated, and will be removed in  React v16.0. Use the latest available v15.* prop-types package from npm instead. For info on usage, compatibility, migration and more, see https://fb.me/prop-types-docs"),D=!0,f}}),Object.defineProperty(C,"createClass",{get:function(){return _(k,"Accessing createClass via the main React package is deprecated, and will be removed in React v16.0. Use a plain JavaScript class instead. If you're not yet ready to migrate, create-react-class v15.* is available on npm as a temporary, drop-in replacement. For more info see https://fb.me/react-create-class"),k=!0,E}})),C.DOM={};var O=!1;Object.keys(c).forEach(function(R){C.DOM[R]=function(){return O||(_(!1,"Accessing factories like React.DOM.%s has been deprecated and will be removed in v16.0+. Use the react-dom-factories package instead.  Version 1.0 provides a drop-in replacement. For more info, see https://fb.me/react-dom-factories",R),O=!0),c[R].apply(c,arguments)}})}n.exports=C}).call(r,i(1))},function(n,r,i){function s(y){return(""+y).replace(b,"$&/")}function o(y,T){this.func=y,this.context=T,this.count=0}function a(y,T,C){var k=y.func,O=y.context;k.call(O,T,y.count++)}function u(y,T,C){if(y==null)return y;var k=o.getPooled(T,C);v(y,a,k),o.release(k)}function c(y,T,C,k){this.result=y,this.keyPrefix=T,this.func=C,this.context=k,this.count=0}function d(y,T,C){var k=y.result,O=y.keyPrefix,R=y.func,Z=y.context,z=R.call(Z,T,y.count++);Array.isArray(z)?f(z,k,C,_.thatReturnsArgument):z!=null&&(I.isValidElement(z)&&(z=I.cloneAndReplaceKey(z,O+(!z.key||T&&T.key===z.key?"":s(z.key)+"/")+C)),k.push(z))}function f(y,T,C,k,O){var R="";C!=null&&(R=s(C)+"/");var Z=c.getPooled(T,R,k,O);v(y,d,Z),c.release(Z)}function p(y,T,C){if(y==null)return y;var k=[];return f(y,k,null,T,C),k}function E(y,T,C){return null}function w(y,T){return v(y,E,null)}function A(y){var T=[];return f(y,T,null,_.thatReturnsArgument),T}var N=i(24),I=i(4),_=i(9),v=i(35),x=N.twoArgumentPooler,D=N.fourArgumentPooler,b=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},N.addPoolingTo(o,x),c.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},N.addPoolingTo(c,D);var m={forEach:u,map:p,mapIntoWithKeyPrefixInternal:f,count:w,toArray:A};n.exports=m},function(n,r,i){(function(s){var o=i(4),a=o.createFactory;if(s.env.NODE_ENV!=="production"){var u=i(16);a=u.createFactory}var c={a:a("a"),abbr:a("abbr"),address:a("address"),area:a("area"),article:a("article"),aside:a("aside"),audio:a("audio"),b:a("b"),base:a("base"),bdi:a("bdi"),bdo:a("bdo"),big:a("big"),blockquote:a("blockquote"),body:a("body"),br:a("br"),button:a("button"),canvas:a("canvas"),caption:a("caption"),cite:a("cite"),code:a("code"),col:a("col"),colgroup:a("colgroup"),data:a("data"),datalist:a("datalist"),dd:a("dd"),del:a("del"),details:a("details"),dfn:a("dfn"),dialog:a("dialog"),div:a("div"),dl:a("dl"),dt:a("dt"),em:a("em"),embed:a("embed"),fieldset:a("fieldset"),figcaption:a("figcaption"),figure:a("figure"),footer:a("footer"),form:a("form"),h1:a("h1"),h2:a("h2"),h3:a("h3"),h4:a("h4"),h5:a("h5"),h6:a("h6"),head:a("head"),header:a("header"),hgroup:a("hgroup"),hr:a("hr"),html:a("html"),i:a("i"),iframe:a("iframe"),img:a("img"),input:a("input"),ins:a("ins"),kbd:a("kbd"),keygen:a("keygen"),label:a("label"),legend:a("legend"),li:a("li"),link:a("link"),main:a("main"),map:a("map"),mark:a("mark"),menu:a("menu"),menuitem:a("menuitem"),meta:a("meta"),meter:a("meter"),nav:a("nav"),noscript:a("noscript"),object:a("object"),ol:a("ol"),optgroup:a("optgroup"),option:a("option"),output:a("output"),p:a("p"),param:a("param"),picture:a("picture"),pre:a("pre"),progress:a("progress"),q:a("q"),rp:a("rp"),rt:a("rt"),ruby:a("ruby"),s:a("s"),samp:a("samp"),script:a("script"),section:a("section"),select:a("select"),small:a("small"),source:a("source"),span:a("span"),strong:a("strong"),style:a("style"),sub:a("sub"),summary:a("summary"),sup:a("sup"),table:a("table"),tbody:a("tbody"),td:a("td"),textarea:a("textarea"),tfoot:a("tfoot"),th:a("th"),thead:a("thead"),time:a("time"),title:a("title"),tr:a("tr"),track:a("track"),u:a("u"),ul:a("ul"),var:a("var"),video:a("video"),wbr:a("wbr"),circle:a("circle"),clipPath:a("clipPath"),defs:a("defs"),ellipse:a("ellipse"),g:a("g"),image:a("image"),line:a("line"),linearGradient:a("linearGradient"),mask:a("mask"),path:a("path"),pattern:a("pattern"),polygon:a("polygon"),polyline:a("polyline"),radialGradient:a("radialGradient"),rect:a("rect"),stop:a("stop"),svg:a("svg"),text:a("text"),tspan:a("tspan")};n.exports=c}).call(r,i(1))},function(n,r,i){(function(s){var o={};s.env.NODE_ENV!=="production"&&(o={prop:"prop",context:"context",childContext:"child context"}),n.exports=o}).call(r,i(1))},function(n,r,i){var s=i(4),o=s.isValidElement,a=i(21);n.exports=a(o)},function(n,r){var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=i},function(n,r){n.exports="15.6.1"},function(n,r,i){(function(s){function o(w,A,N,I,_,v){for(var x in w)if(w.hasOwnProperty(x)){var D;try{typeof w[x]!="function"&&(s.env.NODE_ENV!=="production"?f(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",I||"React class",c[N],x):u("84",I||"React class",c[N],x)),D=w[x](A,x,I,N,null,d)}catch(m){D=m}if(s.env.NODE_ENV!=="production"&&p(!D||D instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",I||"React class",c[N],x,typeof D),D instanceof Error&&!(D.message in E)){E[D.message]=!0;var b="";s.env.NODE_ENV!=="production"&&(a||(a=i(10)),v!==null?b=a.getStackAddendumByID(v):_!==null&&(b=a.getCurrentStackAddendum(_))),s.env.NODE_ENV!=="production"&&p(!1,"Failed %s type: %s%s",N,D.message,b)}}}var a,u=i(5),c=i(28),d=i(30),f=i(2),p=i(3);typeof s<"u"&&s.env&&s.env.NODE_ENV==="test"&&(a=i(10));var E={};n.exports=o}).call(r,i(1))},function(n,r,i){var s=i(14),o=s.Component,a=i(4),u=a.isValidElement,c=i(17),d=i(19);n.exports=d(o,u,c)},function(n,r,i){(function(s){function o(d){return u.isValidElement(d)||(s.env.NODE_ENV!=="production"?c(!1,"React.Children.only expected to receive a single React element child."):a("143")),d}var a=i(5),u=i(4),c=i(2);n.exports=o}).call(r,i(1))},function(n,r,i){(function(s){function o(v,x){return v&&typeof v=="object"&&v.key!=null?w.escape(v.key):x.toString(36)}function a(v,x,D,b){var m=typeof v;if(m!=="undefined"&&m!=="boolean"||(v=null),v===null||m==="string"||m==="number"||m==="object"&&v.$$typeof===f)return D(b,v,x===""?N+o(v,0):x),1;var y,T,C=0,k=x===""?N:x+I;if(Array.isArray(v))for(var O=0;O<v.length;O++)y=v[O],T=k+o(y,O),C+=a(y,T,D,b);else{var R=p(v);if(R){var Z,z=R.call(v);if(R!==v.entries)for(var q=0;!(Z=z.next()).done;)y=Z.value,T=k+o(y,q++),C+=a(y,T,D,b);else{if(s.env.NODE_ENV!=="production"){var ne="";if(d.current){var L=d.current.getName();L&&(ne=" Check the render method of `"+L+"`.")}s.env.NODE_ENV!=="production"&&A(_,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead.%s",ne),_=!0}for(;!(Z=z.next()).done;){var M=Z.value;M&&(y=M[1],T=k+w.escape(M[0])+I+o(y,0),C+=a(y,T,D,b))}}}else if(m==="object"){var F="";if(s.env.NODE_ENV!=="production"&&(F=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",v._isReactElement&&(F=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),d.current)){var B=d.current.getName();B&&(F+=" Check the render method of `"+B+"`.")}var W=String(v);s.env.NODE_ENV!=="production"?E(!1,"Objects are not valid as a React child (found: %s).%s",W==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":W,F):c("31",W==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":W,F)}}return C}function u(v,x,D){return v==null?0:a(v,"",x,D)}var c=i(5),d=i(7),f=i(15),p=i(18),E=i(2),w=i(23),A=i(3),N=".",I=":",_=!1;n.exports=u}).call(r,i(1))},function(n,r,i){n.exports=i(25)}])})})(z1);var tD=z1.exports;const B1=Cf(tD),nD=()=>{const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),[o,a]=V.useState(""),[u,c]=V.useState(null),d=vi(),f=async E=>{E.preventDefault();const w=ui(fi);try{const{user:A}=await eR(w,i,o);console.log(A),A&&(await w2(hl(wo,"users",A.uid),{email:A.email,firstName:t,lastName:n,profileImage:u}),d("/dashboard")),ke.success("User created successfully",{position:"top-center",autoClose:2e3}),e(""),r(""),s(""),a(""),c(null)}catch(A){ke.error(`${A.message}`,{position:"top-center",autoClose:2e3})}},p=({base64:E})=>{c(E)};return S.jsx("section",{className:"bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100% flex lg:flex lg:justify-between lg:items-center justify-center items-center pb-10",children:S.jsxs("div",{className:"lg:flex lg:flex-col lg:justify-center lg:items-center mx-auto ",children:[S.jsx("div",{className:"mx-auto w-[20rem] mb-3 font-bold text-2xl lg:text-3xl text-center",children:S.jsxs("h1",{className:"text-blue",children:[" ",S.jsx("span",{className:"mr-2",children:S.jsx("ion-icon",{name:"desktop"})}),"Sigma Learning Platform"]})}),S.jsxs("div",{className:"bg-blue p-5 rounded-md md:p-10 flex flex-col items-center",children:[S.jsxs("form",{className:"flex flex-col items-center justify-center",onSubmit:f,children:[S.jsxs("div",{className:"mb-3 flex flex-col",children:[S.jsx("label",{htmlFor:"firstname",className:"text-md mb-1 text-white",children:"First name"}),S.jsx("input",{type:"firstname",id:"firstname",className:" invalid:text-red-400 border-none outline-none p-1 w-60 md:w-80 bg-white",placeholder:"enter your firstname",value:t,onChange:E=>e(E.target.value)})]}),S.jsxs("div",{className:"mb-3 flex flex-col",children:[S.jsx("label",{htmlFor:"lastname",className:"text-md mb-1 text-white",children:"Last name"}),S.jsx("input",{type:"lastname",id:"lastname",className:" invalid:text-red-400 border-none outline-none p-1 w-60 md:w-80 bg-white",placeholder:"enter your lastname",value:n,onChange:E=>r(E.target.value)})]}),S.jsxs("div",{className:"mb-3 flex flex-col",children:[S.jsx("label",{htmlFor:"email",className:"text-md mb-1 text-white",children:"Email"}),S.jsx("input",{type:"email",id:"email",className:"invalid:text-red-400 border-none outline-none  p-1 w-60 md:w-80 bg-white",placeholder:"enter your email",value:i,onChange:E=>s(E.target.value)})]}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("label",{htmlFor:"password",className:"text-md mb-1 text-white",children:"Password"}),S.jsx("input",{type:"password",id:"password",className:"border-none outline-none p-1 w-60 md:w-80 bg-white",placeholder:"enter your password",value:o,onChange:E=>a(E.target.value)})]}),S.jsx("div",{className:"mt-2 w-60 md:w-80",children:S.jsx(B1,{multiple:!1,type:"file",onDone:p})}),S.jsx("div",{className:"bg-white text-center mt-5 rounded-md p-1 text-blue text-lg hover:bg-slate-950 hover:text-white hover:transition hover:duration-200 w-60 md:w-80",children:S.jsx("button",{children:"Sign Up"})})]}),S.jsxs("p",{className:"mt-4 text-white",children:["have an account?"," ",S.jsx(Pp,{className:"text-blue bg-slate-400 p-2",to:"/login",children:"login"})]})]})]})})},rD=()=>{V.useContext(ns);const[t,e]=V.useState([]);V.useEffect(()=>{fetch("/json/courses.json").then(w=>w.json()).then(w=>{e(w)})},[]);const[n,r]=V.useState(""),[i,s]=V.useState(""),[o,a]=V.useState(""),[u,c]=V.useState(!1),d=t.filter(w=>(n===""||w.category===n)&&(i===""||w.difficultyLevel===i)&&(w.title.toLowerCase().includes(o.toLowerCase())||w.description.toLowerCase().includes(o.toLowerCase()))),f=u?d:d.slice(0,10),p=()=>{c(!u)},E=async(w,A)=>{const N=ui(fi),I=hl(wo,"users",N.currentUser.uid);try{await N1(I,{enrolledCourses:T2({id:A,title:w.title})}),console.log("Course enrolled successfully!")}catch(_){console.error("Error enrolling course:",_)}};return S.jsx("div",{className:"container bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100% mb-12",children:S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl text-blue font-semibold mb-6 text-center",children:"Available Courses"}),S.jsxs("div",{className:"mb-12 flex flex-col items-center",children:[S.jsxs("div",{className:"flex justify-center items-center mb-5 gap-3 w-full",children:[S.jsxs("select",{value:n,onChange:w=>r(w.target.value),className:"p-2 border rounded outline-none bg-blue/20 text-blue w-[8rem] lg:[10rem]",children:[S.jsx("option",{value:"",children:"All Categories"}),S.jsx("option",{value:"Programming",children:"Programming"}),S.jsx("option",{value:"Data Science",children:"Data Science"}),S.jsx("option",{value:"Web Development",children:"Web Development"}),S.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),S.jsx("option",{value:"Mobile App Development",children:"Mobile App Development"}),S.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),S.jsx("option",{value:"Graphic Design",children:"Graphic Design"}),S.jsx("option",{value:"Game Development",children:"Game Development"}),S.jsx("option",{value:"Project Management",children:"Project Management"}),S.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),S.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"})]}),S.jsxs("select",{value:i,onChange:w=>s(w.target.value),className:"p-2 border rounded bg-blue/20 text-blue w-[11rem] lg:w-[13rem]",children:[S.jsx("option",{value:"",children:"All Difficulty Levels"}),S.jsx("option",{value:"Beginner",children:"Beginner"}),S.jsx("option",{value:"Intermediate",children:"Intermediate"}),S.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),S.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:w=>a(w.target.value),className:"p-2 border rounded flex-grow lg:w-[60%] bg-blue/20 text-blue outline-none w-full"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((w,A)=>S.jsxs("a",{href:`/courses/${A}`,className:"p-4 border rounded-lg shadow hover:shadow-lg transition relative",children:[S.jsx("img",{src:w.thumbnail,alt:w.title,className:"w-full h-48 object-cover rounded mb-4"}),S.jsx("h2",{className:"text-xl text-blue font-semibold mb-2",children:w.title}),S.jsx("p",{className:"text-gray-600 mb-4",children:w.description}),S.jsx("span",{className:"inline-block bg-blue-100 text-blue px-2 py-1 rounded-full text-sm",children:w.category}),S.jsx("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm ml-2 mb-5",children:w.difficulty}),S.jsx("button",{onClick:()=>E(w,A),className:"btn bg-blue text-white absolute bottom-4 left-4 right-4",children:"Enroll"})]},A))}),S.jsx("div",{className:"mt-6 text-center",children:S.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue text-white rounded hover:bg-gray-500",children:u?"See Less":"See More"})})]})})},iD=({onNext:t,onPrev:e,disablePrev:n,disableNext:r})=>S.jsxs("div",{className:"flex justify-between mt-4",children:[S.jsx("button",{onClick:e,disabled:n,className:"px-2 py-2 lg:px-4 bg-blue text-white rounded disabled:opacity-50",children:"Previous Lesson"}),S.jsx("button",{onClick:t,disabled:r,className:"px-2 py-2 lg:px-4 bg-blue text-white rounded disabled:opacity-50",children:"Next Lesson"})]}),sD=({modules:t,currentModuleIndex:e,currentLessonIndex:n,onSelectLesson:r,onSelectQuiz:i,isQuiz:s})=>S.jsx("div",{className:"w-1/4 p-4 bg-gray-100 border-r",children:t.map((o,a)=>S.jsxs("div",{className:"mb-4",children:[S.jsx("h3",{className:`font-semibold ${e===a?"text-blue-500":""}`,children:o.title}),S.jsxs("ul",{children:[o.lessons.map((u,c)=>S.jsx("li",{className:`pl-2 cursor-pointer ${e===a&&n===c&&!s?"bg-blue-100":""}`,onClick:()=>r(a,c),children:u.title},c)),S.jsx("li",{className:`pl-2 cursor-pointer ${e===a&&s?"bg-blue-100":""}`,onClick:()=>i(a),children:o.quiz.title})]})]},a))}),oD=({quiz:t})=>{const[e,n]=V.useState(Array(t.questions.length).fill("")),[r,i]=V.useState(!1),s=(a,u)=>{const c=[...e];c[a]=u,n(c)},o=()=>{i(!0)};return S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:t.title}),t.questions.map((a,u)=>S.jsxs("div",{className:"mb-4",children:[S.jsx("p",{className:"font-semibold",children:a.text}),a.type==="Multiple Choice"&&a.options.map((c,d)=>S.jsxs("label",{className:"block",children:[S.jsx("input",{type:"radio",name:`question-${u}`,value:c,checked:e[u]===c,onChange:f=>s(u,f.target.value),disabled:r}),c]},d))]},u)),r?S.jsx("p",{className:"text-green-500",children:"Quiz submitted!"}):S.jsx("button",{onClick:o,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Submit"})]})},aD=()=>{const{id:t}=OC(),[e,n]=V.useState([]),[r,i]=V.useState(0),[s,o]=V.useState(0),[a,u]=V.useState(!1);V.useEffect(()=>{fetch("/json/courses.json").then(N=>N.json()).then(N=>{n(N)}).catch(N=>{console.error("Error fetching courses:",N)})},[]);const c=e[t];if(!c)return S.jsx("p",{children:"Loading..."});const d=c.modules[r],f=d.lessons[s],p=()=>{s<d.lessons.length-1?(o(s+1),u(!1)):r<c.modules.length-1?(i(r+1),o(0),u(!1)):u(!0)},E=()=>{s>0?(o(s-1),u(!1)):r>0&&(i(r-1),o(c.modules[r-1].lessons.length-1),u(!1))},w=(N,I)=>{i(N),o(I),u(!1)},A=N=>{i(N),u(!0)};return S.jsx("div",{className:"section-container bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100%",children:S.jsxs("div",{className:"py-24 flex max-w-6xl mx-auto",children:[S.jsx(sD,{modules:c.modules,currentModuleIndex:r,currentLessonIndex:s,onSelectLesson:w,onSelectQuiz:A,isQuiz:a}),S.jsxs("div",{className:"flex-1 p-8",children:[S.jsx("h1",{className:"text-3xl font-bold mb-4",children:c.title}),S.jsx("h2",{className:"text-xl font-bold mb-4",children:d.title}),a?S.jsx(oD,{quiz:d.quiz}):S.jsxs(S.Fragment,{children:[S.jsx("h2",{className:"text-2xl mb-2",children:f.title}),S.jsx("div",{dangerouslySetInnerHTML:{__html:f.content},className:"prose lg:prose-xl"})]}),S.jsx(iD,{onNext:p,onPrev:E,disablePrev:r===0&&s===0,disableNext:r===c.modules.length-1&&s===d.lessons.length-1&&a})]})]})})},lD=()=>{const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(null),o=vi(),a=async c=>{c.preventDefault();try{const d=ui(fi).currentUser;await N1(hl(wo,"users",d.uid),{firstName:t,lastName:n,profileImage:i}),o("/dashboard"),ke.success("User profile updated successfully",{position:"top-center",autoClose:2e3}),e(""),r(""),s(null)}catch(d){ke.error("User profile did not updated",{position:"top-center",autoClose:2e3}),console.log(d)}},u=({base64:c})=>{s(c)};return S.jsx("section",{className:"bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100%  py-20 container mx-auto text-white",children:S.jsxs("div",{className:"bg-blue w-[80%] mx-auto p-10 shadow-md shadow-slate-300 lg:w-[40%]",children:[S.jsx("h2",{className:"text-center text-2xl mb-6",children:"User Profile Update"}),S.jsx("div",{className:"flex justify-center items-center shadow-md",children:S.jsxs("form",{onSubmit:a,children:[S.jsxs("div",{className:"flex flex-col mt-2",children:[S.jsx("label",{htmlFor:"name",className:"text-xl mb-1",children:"First Name"}),S.jsx("input",{type:"name",id:"name",className:"pt-2 border-none outline-none placeholder:px-2 py-2 w-80 bg-white text-blue",placeholder:"enter your name",value:t,onChange:c=>e(c.target.value)})]}),S.jsxs("div",{className:"flex flex-col mt-2",children:[S.jsx("label",{htmlFor:"name",className:"text-xl mb-1",children:"Last Name"}),S.jsx("input",{type:"name",id:"name",className:"pt-2 border-none outline-none placeholder:px-2 py-2 w-80 bg-white text-blue",placeholder:"enter your name",value:n,onChange:c=>r(c.target.value)})]}),S.jsx("div",{className:"mt-2",children:S.jsx(B1,{multiple:!1,type:"file",onDone:u})}),S.jsx("div",{className:"bg-white text-center mt-10 rounded-md p-2 text-blue text-lg hover:bg-slate-950 hover:text-white hover:transition hover:duration-200",children:S.jsx("button",{children:"Update"})})]})})]})})},uD=()=>{const{user:t,setUser:e}=V.useContext(ns),[n,r]=V.useState([]),i=vi(),s=async()=>{ui(fi).onAuthStateChanged(async a=>{const u=hl(wo,"users",a.uid),c=await R1(u);c.exists()?e(c.data()):(ke.error("User did not logged in",{position:"top-center",autoClose:2e3}),console.log("user did not logged in"))})};return V.useEffect(()=>{t!=null&&t.enrolledCourses?r(t.enrolledCourses):r([]),s()},[t]),S.jsx("div",{className:"container bg-gradient-to-r from-[#FAFAFA] from-0% to-[#FCFCFC] to-100%",children:S.jsxs("div",{className:"py-24 max-w-6xl mx-auto",children:[S.jsxs("div",{className:"mb-8",children:[S.jsxs("h1",{className:"text-4xl text-blue font-bold",children:["Welcome, ",t==null?void 0:t.firstName,"!"]}),S.jsx("p",{className:"text-xl mt-2 mb-10",children:"We're glad to have you back. Here's an overview of your learning progress."}),S.jsx(U1,{buttonLabel:"View profile",children:S.jsxs("div",{className:"flex flex-col items-center shadow-md text-blue md:text-xl w-full lg:w-[50%] mx-auto",children:[S.jsx("div",{className:"w-24 h-24 mb-10",children:S.jsx("img",{src:t==null?void 0:t.profileImage,alt:"profile image",className:"bg-cover rounded-full w-[100%] h-[100%]"})}),S.jsxs("div",{className:"text-left p-3",children:[S.jsxs("p",{className:"my-1",children:["First Name: ",t==null?void 0:t.firstName]}),S.jsx("hr",{}),S.jsxs("p",{className:"my-1",children:["Last Name: ",t==null?void 0:t.lastName]}),S.jsx("hr",{}),S.jsxs("p",{children:["Email: ",t==null?void 0:t.email]})]}),S.jsx("div",{className:" bg-blue text-white rounded-md p-2 my-5",children:S.jsx("button",{onClick:()=>i("/profile"),children:"Update profile"})})]})})]}),S.jsxs("div",{className:"p-4 bg-white shadow-lg rounded-md",children:[S.jsx("h2",{className:"text-2xl text-blue font-semibold mb-4",children:"Your Enrolled Courses"}),n.length<1&&S.jsx("div",{className:"text-xlg text-center p-5 border-2 font-bold",children:"No Cousre Enrolled"}),n&&S.jsx("div",{className:"space-y-4",children:n.map((o,a)=>S.jsxs("div",{className:"flex justify-between align-center p-4 border rounded-lg shadow-sm bg-white",children:[S.jsx("div",{children:S.jsx("h3",{className:"text-xl text-blue font-semibold",children:o.title})}),S.jsx("a",{href:`/courses/${o.id}`,className:"btn bg-blue text-white end rounded-md",children:"Go to Course Page"})]},a))})]}),S.jsx("a",{href:"/courses",children:S.jsx("button",{className:"btn bg-blue text-white rounded-md w-full my-10 text-lg",children:"Explore More Courses"})})]})})},Vv=({children:t})=>{const{user:e}=V.useContext(ns);return e?t:S.jsx(qC,{to:"/login"})},cD=tx([{path:"/",element:S.jsx(z2,{}),children:[{index:!0,element:S.jsx(J2,{})},{path:"/login",element:S.jsx(eD,{})},{path:"/signup",element:S.jsx(nD,{})},{path:"/dashboard",element:S.jsx(Vv,{children:S.jsx(uD,{})})},{path:"/create-course",element:S.jsxs(Vv,{children:[S.jsx(Z2,{}),","]})},{path:"/courses",element:S.jsx(rD,{})},{path:"/courses/:id",element:S.jsx(aD,{})},{path:"/profile",element:S.jsx(lD,{})}]}]);Jd.createRoot(document.getElementById("root")).render(S.jsx(X2,{children:S.jsx(Cx,{children:S.jsx(ux,{router:cD})})}));
